if (self.CavalryLogger) { CavalryLogger.start_js(["A6KeJ"]); }

__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){f.exports={CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"};}),null);
__d("ComposerType",[],(function a(b,c,d,e,f,g){f.exports={STATUS:"status",RESHARE:"reshare",UNKNOWN:"unknown",PHOTO:"photo",VIDEO:"video",INLINE:"inline",ADVANCED:"advanced"};}),null);
__d("ComposerWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports={COMPOSER_CANCEL:"composer_cancel",COMPOSER_CANCEL_INTENT:"intent_composer_cancel",COMPOSER_ENTRY:"composer_entry",COMPOSER_NOT_RENDERED:"composer_not_renderer",COMPOSER_POST:"composer_post",COMPOSER_POST_CANCEL:"composer_post_cancel",COMPOSER_POST_FAILURE:"composer_post_failure",COMPOSER_POST_FAILURE_FATAL:"composer_post_fatal_failure",COMPOSER_POST_FAILURE_GIVEUP:"composer_post_giveup_failure",COMPOSER_POST_SUCCESS:"composer_post_success",COMPOSER_POST_COMPLETED:"composer_post_completed",COMPOSER_WRITTEN:"composer_written",ALBUM_ADD:"add_album",ALBUM_CANCEL:"cancel_album",ALBUM_INTENT:"intent_album",ALBUM_REMOVE:"remove_album",FRIEND_TAG_ADD:"add_friend_tag",FRIEND_TAG_CANCEL:"cancel_friend_tag",FRIEND_TAG_INTENT:"intent_friend_tag",FRIEND_TAG_REMOVE:"remove_friend_tag",FRIEND_TAG_SEARCH:"search_friend_tag",FRIEND_SHOW_MORE:"show_more_friend_tag",LOCATION_ADD:"add_location",LOCATION_CANCEL:"cancel_location",LOCATION_INTENT:"intent_location",LOCATION_REMOVE:"remove_location",LOCATION_SCROLL:"scroll_location",LOCATION_SEARCH:"search_location",MINUTIAE_ADD:"add_minutiae",MINUTIAE_CANCEL:"cancel_minutiae",MINUTIAE_CHANGE_ICON:"change_icon_minutiae",MINUTIAE_CHANGE_ICON_CANCEL:"change_icon_cancel_minutiae",MINUTIAE_CHANGE_ICON_INTENT:"change_icon_intent_minutiae",MINUTIAE_CHANGE_ICON_SEARCH:"change_icon_search_minutiae",MINUTIAE_INTENT:"intent_minutiae",MINUTIAE_REMOVE:"remove_minutiae",MINUTIAE_SCROLL:"scroll_minutiae",MINUTIAE_SEARCH:"search_minutiae",MINUTIAE_TYPE_CLICK:"type_click_minutiae",MINUTIAE_SEE_MORE:"see_more_minutiae",MINUTIAE_CHAIN_SKIP:"skip_chain_minutiae",MINUTIAE_CHAIN_SUGGEST:"suggest_chain_minutiae",MINUTIAE_ICONPICKER_QUERY:"minutiae_iconpicker_query",MINUTIAE_ICONPICKER_BOOTSTRAP:"minutiae_iconpicker_bootstrap",MINUTIAE_ICONPICKER_SELECT:"minutiae_iconpicker_select",MARKDOWN_INTENT:"markdown_intent",MEDIA_INTENT:"intent_media",MEDIA_CANCEL:"cancel_media",PHOTO_ADD:"add_photo",PHOTO_ADD_FAILURE:"add_photo_failure",PHOTO_ADD_SUCCESS:"add_photo_success",PHOTO_REMOVE:"remove_photo",PRIVACY_ADD:"add_privacy",PRIVACY_CANCEL:"cancel_privacy",VOICE_SWITCHER_CANCEL:"cancel_voice_switcher",PRIVACY_INTENT:"intent_privacy",PRIVACY_SCROLL:"scroll_privacy",PRIVACY_SEE_ALL_LISTS:"see_all_lists_privacy",SELECT_FRIEND_TIMELINE_INTENT:"intent_select_friend_timeline",SELECT_FRIEND_TIMELINE_ADD:"add_select_friend_timeline",SELECT_FRIEND_TIMELINE_CANCEL:"cancel_select_friend_timeline",SERVER_POST_BEGIN:"server_composer_post_begin",SERVER_POST_FAILURE:"server_composer_post_failure",SERVER_POST_SUCCESS:"server_composer_post_succeeded",POST_POST_WITH_TAG_BEGIN:"post_post_with_tag_begin",POST_POST_WITH_TAG_FAILURE:"post_post_with_tag_failure",POST_POST_WITH_TAG_SUCCESS:"post_post_with_tag_success",TARGET_SELECTOR_INTENT:"intent_target_selector",TARGET_SELECTOR_CANCEL:"cancel_target_selector",VIDEO_ADD:"add_video",VIDEO_ADD_FAILURE:"add_video_failure",VIDEO_ADD_SUCCESS:"add_video_success",VIDEO_REMOVE:"remove_video",FEATURE_INTENT:"composer_feature_intent",FEATURE_UPDATE:"composer_feature_update",FEATURE_CANCEL:"composer_feature_cancel",FEATURE_DONE:"composer_feature_done"};}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports={RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"};}),null);
__d("LegacyContactTestConstants",[],(function a(b,c,d,e,f,g){f.exports={CHOOSE_CONTACT_BUTTON:"choose_contact_button",NOT_NOW_BUTTON:"not_now_button",LEGACY_CONTACT_CARD:"legacy_contact_card",CONFIRM_REMOVE:"confirm_remove",SEND_MESSAGE_BUTTON:"send_message_button",MESSAGE_SEND_CONFIRMED:"message_send_confirmed",DELETE_ACCOUNT_SELECTOR:"delete_account_selector",SAVE_BUTTON:"save_button",DELETE_ACCOUNT_CONFIRM:"delete_account_confirm",DELETE_AFTER_DEATH_CHOSEN:"delete_after_death_chosen",DONT_DELETE_SELECTOR:"dont_delete_selector",YES_ALLOW_SELECTOR:"yes_allow_selector",DATA_ARCHIVE_SETTING:"data_archive_setting",NO_DISALLOW_SELECTOR:"no_disallow_selector",ADD_CONFIRM_BUTTON:"add_confirm_button",DATA_ARCHIVE_SETTING_YES:"data_archive_setting_yes",DATA_ARCHIVE_SETTING_NO:"data_archive_setting_no",CHOOSE_FRIEND_TYPEAHEAD:"choose_friend_typeahead",CHOOSE_FRIEND_TYPEAHEAD_RESULTS:"choose_friend_typeahead_results",MESSAGE_COMPOSE_BOX:"message_compose_box",REMOVE_CONTACT_BUTTON:"remove_contact_button"};}),null);
__d("OldPrivacySelectorEvent",[],(function a(b,c,d,e,f,g){f.exports={RENDER_SELECTOR:"render_selector",OPEN_MENU:"open_menu",CLOSE_MENU:"close_menu",SELECT_EVERYONE:"select_everyone",SELECT_FRIENDS_OF_FRIENDS:"select_friends_of_friends",SELECT_FRIENDS:"select_friends",SELECT_FRIENDS_EXCEPT_ACQUIANTANCES:"select_friends_except_acquaintances",SELECT_ONLY_ME:"select_only_me",SELECT_CUSTOM:"select_custom",CUSTOM_SAVE:"custom_save",CUSTOM_CANCEL:"custom_cancel",SELECT_FB_ONLY:"select_fb_only",SELECT_FRIENDLIST:"select_friendlist",SELECT_OTHER:"select_other",SELECT_SEE_ALL_LISTS:"select_see_all_lists",SELECT_RETURN:"select_return"};}),null);
__d("PrivacyBaseFilterConst",[],(function a(b,c,d,e,f,g){f.exports={FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,EVERYONE_MINOR_DEPRECATED:75,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,MUTUAL_FRIENDS_DEPRECATED:35,SELF:10,NOBODY:0};}),null);
__d("PUWMethods",[],(function a(b,c,d,e,f,g){f.exports={DRAGDROP:"dragdrop",FILE_SELECTOR:"file_selector",VAULT:"vault",RECENT_PHOTOS:"recent_photos",PHOTOS_OF_YOU:"photos_of_you",METHOD_EDITOR:"editor",SUGGESTIONS:"suggestions",CAMERA:"camera",COPYPASTE:"copypaste",DISABLE_SPHERICAL:"disable_spherical"};}),null);
__d("SlideshowFrameImagesRequestType",[],(function a(b,c,d,e,f,g){f.exports={SCHEDULE_ASYNC_JOB:0,FETCH_FRAME_IMAGES:1};}),null);
__d("SlideshowMusicCategory",[],(function a(b,c,d,e,f,g){f.exports={ALL_TRACKS:"All Tracks",USER_UPLOADED:"User Uploaded",RECENTLY_USED:"Recently Used",ENERGETIC:"Energetic",INSPIRATIONAL:"Inspirational",FUN:"Fun",TRUSTWORTHY:"Trustworthy",MODERN:"Modern"};}),null);
__d('XUIButtonGroup.react',['cx','invariant','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';this.validateButtonSize();var n="_51xa"+(this.props.isOverlay?' '+"_51xb":'');return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n)}),this.props.children);};m.prototype.validateButtonSize=function(){'use strict';if(!this.props.isOverlay){var n;c('React').Children.forEach(this.props.children,function(o){if(o){o.type.getButtonSize||i(0);var p=o.type.getButtonSize(o.props);if(!n){n=p;}else p===n||i(0);}});}};function m(){'use strict';j.apply(this,arguments);}m.propTypes={isOverlay:l.bool};f.exports=m;}),null);
__d('TypeaheadViewItem',['React','ReactDOM','SearchableEntry','prop-types'],(function a(b,c,d,e,f,g){var h={entry:c('prop-types').instanceOf(c('SearchableEntry')).isRequired,highlighted:c('prop-types').bool,role:c('prop-types').string,selected:c('prop-types').bool,onSelect:c('prop-types').func.isRequired,onHighlight:c('prop-types').func,onRenderHighlight:c('prop-types').func},i={_onSelect:function k(l){this.props.onSelect(this.props.entry,l);},_onHighlight:function k(l){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,l);},getDefaultProps:function k(){return {role:'option'};},shouldComponentUpdate:function k(l){return this.props.entry.getUniqueID()!==l.entry.getUniqueID()||this.props.highlighted!==l.highlighted||this.props.selected!==l.selected;},componentDidMount:function k(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));},componentDidUpdate:function k(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));}};function j(k){var l,m;return m=l=function(){var n,o;n=babelHelpers.inherits(p,c('React').Component);o=n&&n.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=o.constructor).call.apply(q,[this].concat(t)),this.$TypeaheadViewItem1=function(v){this.props.onSelect(this.props.entry,v);}.bind(this),this.$TypeaheadViewItem2=function(v){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,v);}.bind(this),r;}p.prototype.shouldComponentUpdate=function(q){'use strict';return this.props.entry.getUniqueID()!==q.entry.getUniqueID()||this.props.highlighted!==q.highlighted||this.props.selected!==q.selected;};p.prototype.componentDidMount=function(){'use strict';if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));};p.prototype.componentDidUpdate=function(){'use strict';if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(c('ReactDOM').findDOMNode(this));};p.prototype.render=function(){'use strict';return c('React').createElement(k,babelHelpers['extends']({},this.props,{onSelect:this.$TypeaheadViewItem1,onHighlight:this.$TypeaheadViewItem2}));};return p;}(),l.displayName='TypeaheadViewItem('+k.displayName+')',l.defaultProps={role:'option'},m;}f.exports={makeTypeaheadViewItem:j,Mixin:i,propTypes:h};}),null);
__d('XUITypeaheadViewContainer.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return c('React').createElement('ul',{className:c('joinClasses')("_599r",this.props.className),'data-testid':this.props.testID,id:this.props.ariaOwneeID,role:this.props.role},this.props.children);};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('XUITypeaheadViewItem.react',['cx','BackgroundImage.react','Badge.react','ImageBlock.react','LegacyContactTestConstants','React','TextWithEmoticons.react','Tooltip','TypeaheadViewItem','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'XUITypeaheadViewItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({},c('TypeaheadViewItem').propTypes,{splitText:i.bool,tooltip:i.node}),render:function k(){var l=this.props.entry,m=this.props.splitSubtext?l.getSubtitle().split(' \u00b7 ')[0]:l.getSubtitle(),n=m?c('React').createElement('div',{className:"_599q"},this.props.children,m):null,o=l.getPhoto()?c('React').createElement(c('BackgroundImage.react'),{width:32,height:32,backgroundSize:'cover',src:l.getPhoto()}):c('React').createElement('span',null),p=l.getAuxiliaryData(),q=null;if(p)if(p.verified){q=c('React').createElement(c('Badge.react'),null);}else if(p.nonCoworker){q=c('React').createElement(c('Badge.react'),{type:'work_non_coworker'});}else if(p.workUser)q=c('React').createElement(c('Badge.react'),{type:'work'});var r="_599m"+(!n?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');r=c('joinClasses')(r,this.props.className);return c('React').createElement('li',babelHelpers['extends']({'aria-selected':this.props.highlighted,className:r,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight,role:this.props.role,'data-testid':c('LegacyContactTestConstants').CHOOSE_CONTACT_BUTTON},this.props.tooltip?c('Tooltip').propsFor(this.props.tooltip,'right'):{}),c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},o,c('React').createElement('div',null,c('React').createElement('div',{className:"_599p"},c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:false,renderEmoji:true,text:l.getTitle()}),q),n)));}});f.exports=j;}),null);
__d('XUITypeaheadView.react',['cx','React','TypeaheadViewPropTypes','XUITypeaheadViewContainer.react','XUITypeaheadViewItem.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$XUITypeaheadView1=function(q){var r=q===this.props.highlightedEntry;return c('React').createElement(c('XUITypeaheadViewItem.react'),{key:q.getUniqueID(),entry:q,highlighted:r,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight});}.bind(this),m;}k.prototype.render=function(){'use strict';var l=!this.props.entries.length?"_599s":'';if(this.props.className)l=c('joinClasses')(this.props.className,l);return c('React').createElement(c('XUITypeaheadViewContainer.react'),{className:l,id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this.$XUITypeaheadView1));};k.propTypes=c('TypeaheadViewPropTypes');k.defaultProps={role:'listbox'};f.exports=k;}),null);
__d('update',['fbjs/lib/invariant'],(function a(b,c,d,e,f,g){'use strict';var h={}.hasOwnProperty;function i(t){if(Array.isArray(t)){return t.concat();}else if(t&&typeof t==='object'){return Object.assign(new t.constructor(),t);}else return t;}var j='$push',k='$unshift',l='$splice',m='$set',n='$merge',o='$apply',p=[j,k,l,m,n,o],q={};p.forEach(function(t){q[t]=true;});function r(t,u,v){Array.isArray(t)||c('fbjs/lib/invariant')(0);var w=u[v];Array.isArray(w)||c('fbjs/lib/invariant')(0);}function s(t,u){typeof u==='object'||c('fbjs/lib/invariant')(0);if(h.call(u,m)){Object.keys(u).length===1||c('fbjs/lib/invariant')(0);return u[m];}var v=i(t);if(h.call(u,n)){var w=u[n];w&&typeof w==='object'||c('fbjs/lib/invariant')(0);v&&typeof v==='object'||c('fbjs/lib/invariant')(0);Object.assign(v,u[n]);}if(h.call(u,j)){r(t,u,j);u[j].forEach(function(y){v.push(y);});}if(h.call(u,k)){r(t,u,k);u[k].forEach(function(y){v.unshift(y);});}if(h.call(u,l)){Array.isArray(t)||c('fbjs/lib/invariant')(0);Array.isArray(u[l])||c('fbjs/lib/invariant')(0);u[l].forEach(function(y){Array.isArray(y)||c('fbjs/lib/invariant')(0);v.splice.apply(v,y);});}if(h.call(u,o)){typeof u[o]==='function'||c('fbjs/lib/invariant')(0);v=u[o](v);}for(var x in u)if(!(Object.prototype.hasOwnProperty.call(q,x)&&q[x]))v[x]=s(t[x],u[x]);return v;}f.exports=s;}),null);
__d('XUITypeahead.react',['cx','AbstractTypeahead.react','Image.react','React','SearchableEntry','XUICloseButton.react','XUIError.react','XUITypeaheadTextOnlyView.react','XUITypeaheadView.react','joinClasses','update'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l={ViewRenderer:c('XUITypeaheadView.react'),useLayer:true},m={ViewRenderer:c('XUITypeaheadView.react'),useLayer:false},n={ViewRenderer:c('XUITypeaheadTextOnlyView.react'),useLayer:true};i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput();}.bind(this),this.blurInput=function(){this.refs.typeahead&&this.refs.typeahead.blurInput();}.bind(this),this.hideView=function(){this.refs.typeahead.hideView();}.bind(this),this.getTextFieldDOM=function(){return this.refs.typeahead.getTextFieldDOM();}.bind(this),this.$XUITypeahead1=function(){this.props.onClear();setTimeout(function(){return this.focusInput();}.bind(this),0);}.bind(this),q;}o.prototype.componentWillMount=function(){'use strict';};o.prototype.render=function(){'use strict';var p=c('joinClasses')(this.props.inputClassName,"_55r1"+(!!this.props.tallInput?' '+"_55r2":'')),q=null;if(this.props.presenter){q=this.props.presenter;}else if(this.props.viewStyle=='rich'){q=l;}else if(this.props.viewStyle=='richNoLayer'){q=m;}else q=n;if(!this.props.presenter&&this.props.maxEntries)q=c('update')(q,{maxEntries:{$set:this.props.maxEntries}});var r=this.props.showPhoto&&this.props.selectedEntry?c('React').createElement(c('Image.react'),{className:"_wrl",src:this.props.selectedEntry.getPhoto()}):null,s=this.props.clearable?c('React').createElement(c('XUICloseButton.react'),{className:"_wrm"+(this.props.disabled||!this.props.queryString?' '+"hidden_elem":''),size:this.props.tallInput?'medium':'small',type:'button',onClick:this.$XUITypeahead1}):null,t=this.props,u=t.className,v=babelHelpers.objectWithoutProperties(t,['className']);return c('React').createElement(c('XUIError.react'),this.props,c('React').createElement('span',{className:c('joinClasses')("_wrn"+(!!this.props.tallInput?' '+"_213j":'')+(!!s?' '+"_4ehf":'')+(!!r?' '+"_4ehg":'')+(!!this.props.queryString?' '+"_4in7":'')+(this.props.highlightOnSelect&&this.props.selectedEntry?' '+"_wrr":''),u)},r,c('React').createElement(c('AbstractTypeahead.react'),babelHelpers['extends']({},v,{inputClassName:p,ref:'typeahead',presenter:q,textInputDataTestID:this.props.textInputDataTestID})),s));};o.propTypes=babelHelpers['extends']({excludedEntries:k.object,maxEntries:k.number,onChange:k.func.isRequired,onSelectAttempt:k.func.isRequired,onEnterWithoutSelection:k.func,onEntriesFound:k.func,onNoEntriesFound:k.func,selectedEntry:k.instanceOf(c('SearchableEntry')),tallInput:k.bool,viewStyle:k.oneOf(['textonly','rich','richNoLayer']),clearable:k.bool,onClear:k.func,showPhoto:k.bool,textInputDataTestID:k.string,highlightOnSelect:k.bool,presenter:k.object,inputID:k.string},c('XUIError.react').propTypes);o.defaultProps={viewStyle:'rich'};f.exports=o;}),null);
__d('ComposerXStore',['Arbiter','ge'],(function a(b,c,d,e,f,g){var h={};function i(k,l){return 'ComposerX/'+k+'/'+l;}var j={set:function k(l,m,n){if(!h[l])h[l]={};h[l][m]=n;c('Arbiter').inform(i(l,m),{},c('Arbiter').BEHAVIOR_STATE);},get:function k(l,m){if(h[l])return h[l][m];return null;},getAllForComposer:function k(l){return h[l]||{};},waitForComponents:function k(l,m,n){c('Arbiter').registerCallback(n,m.map(i.bind(null,l)));}};c('Arbiter').subscribe('page_transition',function(){for(var k in h)if(!c('ge')(k))delete h[k];});f.exports=j;}),null);
__d('ComposerXSessionIDs',['cx','DOM','uuid'],(function a(b,c,d,e,f,g,h){var i={},j={getSessionID:function k(l){return i[l];},resetSessionID:function k(l){i[l]=c('uuid')();},createSessionIDInput:function k(l){return c('DOM').create('input',{type:'hidden',name:'composer_session_id',className:"_5r_b",value:l});}};f.exports=j;}),null);
__d('ComposerXMarauderLogger',['Event','ComposerTargetType','ComposerType','ComposerWaterfallEvent','ComposerXSessionIDs','MarauderLogger','ShareModeConst'],(function a(b,c,d,e,f,g){var h={},i=c('ComposerType').STATUS,j={logEvent:function k(l,m,n){if(!n)n={};var o=h[m],p=c('ComposerXSessionIDs').getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true;}var q=o.composerType?o.composerType:i,r=babelHelpers['extends']({},n.extraData,{composer_type:q,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef,composer_source_surface:o.composerSourceSurface,is_edit_composer:o.isEditComposer===true});c('MarauderLogger').log(l,'composer',r,undefined,undefined,p);},registerComposer:function k(l,m,n){h[l.id]=Object.assign({targetID:m,loggedEventTypes:{}},n);},getInstance:function k(l){return h[l];},listenForPostEvents:function k(l,m){if(!m)return [];return [c('Event').listen(m,'submit',function(){j.logPost(l);}),c('Event').listen(m,'success',function(){j.logPostSuccess(l);}),c('Event').listen(m,'error',function(event){j.logPostFailure(l,{error_info:{error_code:event.data.response.error,error_description:event.data.response.errorDescription,error_summary:event.data.response.errorSummary}});})];},setShareMode:function k(l,m){var n=h[l];if(!n)return;switch(m){case c('ShareModeConst').SELF_POST:n.targetType=c('ComposerTargetType').SELF_USER;break;case c('ShareModeConst').FRIEND:n.targetType=c('ComposerTargetType').OTHER_USER;break;case c('ShareModeConst').PAGE:case c('ShareModeConst').SELF_PAGE:n.targetType=c('ComposerTargetType').PAGE;break;case c('ShareModeConst').GROUP:n.targetType=c('ComposerTargetType').GROUP;break;default:n.targetType=c('ComposerTargetType').OTHER;}},logEntry:function k(l,m){j.logEvent(c('ComposerWaterfallEvent').COMPOSER_ENTRY,l,{logOncePerSession:true,extraData:m});},logCompleted:function k(l,m){j.logEvent(c('ComposerWaterfallEvent').COMPOSER_POST_COMPLETED,l,{extraData:m});},logPost:function k(l,m){j.logEvent(c('ComposerWaterfallEvent').COMPOSER_POST,l,{extraData:m});},logPostSuccess:function k(l,m){j.logEvent(c('ComposerWaterfallEvent').COMPOSER_POST_SUCCESS,l,{extraData:m});},logPostFailure:function k(l,m){j.logEvent(c('ComposerWaterfallEvent').COMPOSER_POST_FAILURE,l,{extraData:m});}};f.exports=j;}),null);
__d('OldPrivacySelectorTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:OldPrivacySelectorLoggerConfig',this.$OldPrivacySelectorTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:OldPrivacySelectorLoggerConfig',this.$OldPrivacySelectorTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$OldPrivacySelectorTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$OldPrivacySelectorTypedLogger1=babelHelpers['extends']({},this.$OldPrivacySelectorTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$OldPrivacySelectorTypedLogger1.event=j;return this;};h.prototype.setFbid=function(j){this.$OldPrivacySelectorTypedLogger1.fbid=j;return this;};h.prototype.setVC=function(j){this.$OldPrivacySelectorTypedLogger1.vc=j;return this;};var i={event:true,fbid:true,vc:true};f.exports=h;}),null);
__d('PhotoUploadFacerecWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers['extends']({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this;};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this;};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this;};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this;};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this;};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this;};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h;}),null);
__d("AudienceSelectorTags",[],(function a(b,c,d,e,f,g){var h={},i={hasTags:function j(k){return Object.prototype.hasOwnProperty.call(h,k);},setHasTags:function j(k){if(k)h[k]=true;}};f.exports=i;}),null);
__d('DynamicIconSelector',['Button','CSS','DOM','SelectorDeprecated'],(function a(b,c,d,e,f,g){var h={swapIcon:function i(j){var k=c('SelectorDeprecated').getSelectedOptions(j)[0],l=k&&c('DOM').scry(k,'.itemIcon')[0],m=c('SelectorDeprecated').getSelectorButton(j);if(l){c('Button').setIcon(m,l.cloneNode(true));}else{var n=c('DOM').scry(m,'.img')[0];n&&c('DOM').remove(n);}c('CSS').conditionClass(m,'uiSelectorChevronOnly',!l);}};c('SelectorDeprecated').subscribe('change',function(i,j){var k=j.selector;if(c('CSS').hasClass(k,'dynamicIconSelector'))h.swapIcon(k);});f.exports=h;}),null);
__d('PrivacySelectorOption',['csx','fbt','Arbiter','AudienceSelectorTags','CSS','CurrentUser','DOM','DynamicIconSelector','Parent','PrivacyBaseFilterConst','PrivacyConst','SelectorDeprecated','intlList'],(function a(b,c,d,e,f,g,h,i){function j(k,l){if(!k)throw new Error("there's no DOM option. Config data: ",l);this._elem=k;this._selector=c('Parent').byClass(this._elem,'audienceSelector');if(!this._selector)return;this._priv_base_val=l.priv_base_val;this._audienceCount='';this._hasRestricted=l.has_restricted||false;this._isCustom=l.is_custom||false;this._includedAudience=l.included||'';this._excludedAudience=l.excluded||{};this._excludedTaggees={};this._tagExpansionBehavior=l.tag_expansion_behavior||c('PrivacyConst').TagExpansion.NONE;this._plusLabel=c('DOM').scry(k,'.plusLabel')[0];this._audienceCountLabel=c('DOM').scry(k,'.audienceCountLabel')[0];this._taggedIDs=[];this._tags=[];this._recalculateTooltipAndLabel();this._updateOptionCountLabel();this._updateSelector();c('Arbiter').subscribe('Composer/changedtags',function(m,n){var o=c('CSS').hasClass(this._selector,'composerAudienceSelector');if(!this._getChangedData()||!o)return;this._tags=[];this._taggedIDs=[];for(var p=0;p<n.withTags.length;p++){var q=n.withTags[p].info;if(q.uid!=c('CurrentUser').getID()){this._tags.push(q.text);this._taggedIDs.push(q.uid);}}for(var r in n.mention)if(n.mention[r].type=='user'&&n.mention[r].uid!=c('CurrentUser').getID()){this._tags.push(n.mention[r].text);this._taggedIDs.push(n.mention[r].uid);}var s=c('DOM').scry(document.body,"._5l7q")[0];s&&!!this._taggedIDs.length&&c('CSS').hide(s);this._updateOptionCountLabel();var t=this._recalculateTooltipAndLabel();if(t&&c('SelectorDeprecated').isOptionSelected(this._elem)){this._updateSelector();c('Arbiter').inform('SelectedPrivacyOption/changed',this._getChangedData());}}.bind(this));c('SelectorDeprecated').listen(this._selector,'change',this._updateSelector.bind(this));}Object.assign(j.prototype,{updateOption:function k(l,m,n,o,p){this._priv_base_val=l;this._includedAudience=m;this._excludedAudience=n;this._tagExpansionBehavior=o;this._audienceCount=p;this._recalculateTooltipAndLabel();this._updateOptionCountLabel();return {label:this._label,tooltip:this._tooltip};},_recalculateTooltipAndLabel:function k(){var l=this._label;this._label=this._getNewSelectorLabel();var m=this._tooltip;this._tooltip=this._getNewTooltip();return m!=this._tooltip||l!=this._label;},_getNewTooltip:function k(){if(this._isCustom)return this._recalcCustomTooltip();switch(this._priv_base_val){case c('PrivacyBaseFilterConst').ALL_FRIENDS:return this._recalcFriendsTooltip();case c('PrivacyBaseFilterConst').FRIENDS_MINUS_ACQUAINTANCES:return this._recalcFriendsMinusTooltip();case c('PrivacyBaseFilterConst').SELF:var l=this._getTagExpansionText();return l?l:this._getIncludedAudience();default:return this._recalcCustomTooltip();}},_getNewSelectorLabel:function k(){var l=this._elem.getAttribute('data-label').replace(/\(.*\)/,'');if(this._showAudienceCount()){var m=' ('+this._audienceCount+')';l+=m;}if(this._isTagExpanded())l+=' (+)';return l;},_updateOptionCountLabel:function k(){if(this._audienceCountLabel){if(this._showAudienceCount()){var l=' ('+this._audienceCount+')';c('DOM').setContent(this._audienceCountLabel,l);}c('CSS').conditionShow(this._audienceCountLabel,this._showAudienceCount());}this._plusLabel&&c('CSS').conditionShow(this._plusLabel,this._isTagExpanded());},_getChangedData:function k(){return {tags:this._taggedIDs,privacy:this._priv_base_val};},_showAudienceCount:function k(){return this._audienceCountLabel&&this._audienceCount&&this._audienceCount.length>0;},_isTagExpanded:function k(){var l=this._getTagExpansionBehavior(),m=!!this._taggedIDs.length||this._alreadyHasTags();return m&&l!=c('PrivacyConst').TagExpansion.NONE;},_alreadyHasTags:function k(){var l=c('DOM').scry(this._selector,'*[data-oid]')[0];l=l&&l.getAttribute('data-oid');return l&&c('AudienceSelectorTags').hasTags(l);},_updateSelector:function k(){if(!this._isSharedAlbum()&&c('SelectorDeprecated').isOptionSelected(this._elem)){var l=c('CSS').hasClass(this._selector,'composerAudienceSelector');l&&c('SelectorDeprecated').setButtonLabel(this._selector,this._label);c('SelectorDeprecated').setButtonTooltip(this._selector,this._tooltip);c('DynamicIconSelector').swapIcon(this._selector);return false;}return true;},_isSharedAlbum:function k(){var l=c('DOM').scry(this._selector,'*[data-shared-album]')[0];return l&&l.getAttribute('data-shared-album');},_getTagExpansionBehavior:function k(){if(this._tagExpansionBehavior)return this._tagExpansionBehavior;var l=this._priv_base_val===c('PrivacyConst').FriendsValue.SELF,m=this._priv_base_val===c('PrivacyConst').FriendsValue.EVERYONE;if(l&&this._isSharedAlbum()||m){return c('PrivacyConst').TagExpansion.NONE;}else if(this._priv_base_val<c('PrivacyConst').FriendsValue.ALL_FRIENDS)return c('PrivacyConst').TagExpansion.TAGGEES;return c('PrivacyConst').TagExpansion.FRIENDS_OF_TAGGEES;},_getTagExpansionText:function k(){var l=this._getTagExpansionBehavior();if(!!this._taggedIDs.length||this._alreadyHasTags()){if(l==c('PrivacyConst').TagExpansion.FRIENDS_OF_TAGGEES){return i._("friends of anyone tagged");}else if(l==c('PrivacyConst').TagExpansion.TAGGEES)return i._("Anyone tagged");return '';}return '';},_getIncludedAudience:function k(){if(this._includedAudience)return this._includedAudience;var l=this._priv_base_val===c('PrivacyConst').FriendsValue.SELF;if(l&&!this._isSharedAlbum())return i._("Only Me");return this._elem.getAttribute('data-label');},_getCombinedSentence:function k(l,m){if(!m)return l;return i._("{list of people who can see this}; Except: {list of people who cannot see this}",[i.param('list of people who can see this',l),i.param('list of people who cannot see this',m)]);},_recalcFriendsTooltip:function k(){var l=this._tags.length;if(l>2){return this._hasRestricted?i._("Your friends and friends of anyone tagged; Except: Restricted"):i._("Your friends and friends of anyone tagged");}else if(l==2){if(this._hasRestricted){return i._("Your friends, {user}'s friends and {user2}'s friends. Except: Restricted",[i.param('user',this._tags[0]),i.param('user2',this._tags[1])]);}else return i._("Your friends, {user}'s friends and {user2}'s friends",[i.param('user',this._tags[0]),i.param('user2',this._tags[1])]);}else if(l==1){if(this._hasRestricted){return i._("Your friends and {user}'s friends; Except: Restricted",[i.param('user',this._tags[0])]);}else return i._("Your friends and {user}'s friends",[i.param('user',this._tags[0])]);}else return this._hasRestricted?i._("Your friends; Except: Restricted"):i._("Your friends");},_recalcFriendsMinusTooltip:function k(){var l=this._tags.length;if(l>0||this._alreadyHasTags()){var m=i._("friends of anyone tagged"),n=i._("{people who can see this}, {list of more people who can see this}",[i.param('people who can see this',i._("Your friends")),i.param('list of more people who can see this',m)]),o=i._("Acquaintances");if(this._hasRestricted)o=i._("{Name of Acquaintances friend list}, {restricted}",[i.param('Name of Acquaintances friend list',o),i.param('restricted',i._("Restricted"))]);return this._getCombinedSentence(n,o);}else{if(this._hasRestricted)return i._("Friends; Except: Acquaintances, Restricted");return i._("Friends except Acquaintances");}},_recalcCustomTooltip:function k(){var l=this._getIncludedAudience(),m=this._getTagExpansionText();if(m)l=i._("{list of people who can see this}, {list of additional people who can see this}",[i.param('list of people who can see this',l),i.param('list of additional people who can see this',m)]);for(var n=0;n<this._taggedIDs.length;n++){var o=this._taggedIDs[n];if(o in this._excludedAudience){delete this._excludedAudience[o];this._excludedTaggees[o]=this._tags[n];break;}}for(var p in this._excludedTaggees)if(Object.prototype.hasOwnProperty.call(this._excludedTaggees,p))if(this._taggedIDs.indexOf(p)===-1){this._excludedAudience[p]=this._excludedTaggees[p];delete this._excludedTaggees[p];break;}var q=[];for(var r in this._excludedAudience)if(Object.prototype.hasOwnProperty.call(this._excludedAudience,r))q.push(this._excludedAudience[r]);return this._getCombinedSentence(l,c('intlList')(q));}});f.exports=j;}),null);
__d('CustomPrivacyOptionController',['Arbiter','AsyncDialog','AsyncRequest','DOM','Event','Form','Parent','PrivacyConst','PrivacySelectorOption','SelectorDeprecated','XPrivacyCustomDialogController'],(function a(b,c,d,e,f,g){function h(i,j){if(!i)return;setTimeout(function(){this._selector=c('Parent').byClass(i,'audienceSelector');if(!this._selector)return;this.initCustomState(i,j.option_id,j.id);var k={priv_base_val:j.base_audience_value,audience_count:j.audience_count,is_custom:true,included:j.included_audience,excluded:j.excluded_audience,tag_expansion_behavior:j.tag_expansion_behavior};this._optionJSInstance=new (c('PrivacySelectorOption'))(i,k);c('Event').listen(i,'click',function(event){this.openCustomDialog(event,j.option_id,j.explain_tags,j.autosave,j.limit_community,j.limit_facebook,j.limit_fof,j.limit_tagexpand,j.source);}.bind(this));c('SelectorDeprecated').listen(this._selector,'select',function(l){if(l.option._id!=this._id)this.clearCustomState();}.bind(this));}.bind(this),0);}Object.assign(h,{_instances:{},update:function i(j,k,l,m,n,o,p,q,r){var s=h._instances[j];s._update(k,l)._updateOption(l,n,o,p,q,r);c('Arbiter').inform('Form/change',{node:s._container});},getData:function i(j){var k=h._instances[j];return k&&k._privacyData;},setPrivacyData:function i(j,k,l){h._instances[j]._update(k,l);}});Object.assign(h.prototype,{_updateOption:function i(j,k,l,m,n,o){var p=c('SelectorDeprecated').getOption(this._selector,j)||c('SelectorDeprecated').getOption(this._selector,c('PrivacyConst').BaseValue.CUSTOM+''),q=this._optionJSInstance.updateOption(k,l,m,n,o);c('Arbiter').inform('CustomPrivacyOptionController/update',{selector:this._selector,option:p,tooltip:q.tooltip,label:q.label});return this;},_update:function i(j,k){var l=k==c('PrivacyConst').BaseValue.CUSTOM||!c('SelectorDeprecated').getOption(this._selector,k),m=this._selector.getAttribute('data-name');this.updateCustomState(j,l,m);return this;},initCustomState:function i(j,k,l){h._instances[k]=this;this._container=c('DOM').find(j,'.customPrivacyInputs');this._id=l;this._privacyData={};var m=c('Form').serialize(this._container);if(m.audience)this._privacyData=m.audience[l];return j;},openCustomDialog:function i(event,j,k,l,m,n,o,p,q){var r=c('XPrivacyCustomDialogController').getURIBuilder().setString('option_id',j).setString('id',this._id).setString('privacy_data',JSON.stringify(this._privacyData)).setBool('explain_tags',k).setBool('autosave',l).setBool('limit_community',m).setBool('limit_facebook',n).setBool('limit_fof',o).setBool('limit_tagexpand',p).setBool('is_new_privacy_selector',false).setString('source',q).getURI(),s=new (c('AsyncRequest'))(r);s.setRelativeTo(event.getTarget());c('AsyncDialog').send(s,function(t){t.subscribe('cancel',function(){c('Arbiter').inform('CustomPrivacyOptionController/cancel',{selector:this._selector});}.bind(this));}.bind(this));},updateCustomState:function i(j,k,l){this.clearCustomState();this._privacyData=babelHelpers['extends']({},j);if(k)if(l){l=l.slice(0,-'[value]'.length);var m={};m[l]=j;c('Form').createHiddenInputs(m,this._container,{},true);}},clearCustomState:function i(){this._privacyData={};c('DOM').empty(this._container);}});f.exports=h;}),null);
__d('AudienceSelector',['Arbiter','AsyncRequest','AudienceSelectorTags','CSS','CustomPrivacyOptionController','DOM','DOMQuery','DynamicIconSelector','OldPrivacySelectorEvent','OldPrivacySelectorTypedLogger','PrivacyConst','SelectorDeprecated'],(function a(b,c,d,e,f,g){var h={};c('SelectorDeprecated').subscribe('select',function(l,m){if(!c('CSS').hasClass(m.selector,'audienceSelector'))return;var n=c('SelectorDeprecated').getOptionValue(m.option);m.value=n;c('Arbiter').inform('AudienceSelector/changed',m);if(n==c('PrivacyConst').BaseValue.CUSTOM&&!c('CSS').hasClass(m.option,'noDialog')){c('SelectorDeprecated').toggle(m.selector);return false;}c('Arbiter').inform('AudienceSelector/changedNonCustomDialogButton',m);if(c('CSS').hasClass(m.selector,'dataTooltip')){var o=c('DOM').find(m.option,'.itemAnchor').getAttribute('data-tooltip');c('SelectorDeprecated').setButtonTooltip(m.selector,o||null);}if(!c('CSS').hasClass(m.option,'specialOption'))return;var p=c('DOM').find(m.option,'a').getAttribute('data-type');if(c('CSS').hasClass(m.option,'moreOption')){c('CSS').addClass(m.selector,p);c('CSS').addClass(m.selector,'showSecondaryOptions');return false;}else if(c('CSS').hasClass(m.option,'returnOption')){c('CSS').removeClass(m.selector,'showSecondaryOptions');c('CSS').removeClass(m.selector,'friendList');return false;}});var i=function l(m){var n=m.getAttribute('data-name');if(n){var o=/audience\[(\d+)\]\[value\]/.exec(n);if(o!=null&&o.length>=1)return o[1];}return null;};function j(l){var m=document.documentElement,n=l.getBoundingClientRect();return n.top>=0&&n.bottom<=(window.innerHeight||m.clientHeight)&&n.left>=0&&n.right<=(window.innerWidth||m.clientWidth);}c('SelectorDeprecated').subscribe(['open','close'],function(event,l){if(!c('CSS').hasClass(l.selector,'audienceSelector'))return;var m=c('DOMQuery').scry(l.selector,'.uiSelectorMenuWrapper');if(m.length>0){var n=m[0];c('CSS').conditionClass(n,'audienceSelectorUpwards',!j(n));}var o=event==='open'?c('OldPrivacySelectorEvent').OPEN_MENU:c('OldPrivacySelectorEvent').CLOSE_MENU;new (c('OldPrivacySelectorTypedLogger'))().setEvent(o).setFbid(i(l.selector)).log();});var k={keepSynchronized:function l(m,n){h[m]||(h[m]={});h[m][n.id]=n;},setHasTags:function l(m){c('AudienceSelectorTags').setHasTags(m);},getComposerInstance:function l(){var m=h['PrivacyLiteNav/audience'];if(m){var n;for(var o in m){n=m[o];return n;}}return null;},forceAndKeepSynchronized:function l(m,n){k.keepSynchronized(m,n);c('Arbiter').inform('AudienceSelector/update',{option:c('SelectorDeprecated').getSelectedOptions(n)[0],selector:n});},get:function l(m){if(c('CSS').hasClass(m,'audienceSelector'))return m;var n=c('DOM').scry(m,'div.audienceSelector');if(n.length!=1)return;return n[0];},setAudience:function l(m,n){var o=k.get(m);c('SelectorDeprecated').loadMenu(o,function(p){c('SelectorDeprecated').setSelected(o,n.toString());c('DynamicIconSelector').swapIcon(o);var q=c('SelectorDeprecated').getSelectedOptions(o),r=q[0]&&c('DOM').find(q[0],'a');if(r&&r.getAttribute('ajaxify'))c('AsyncRequest').bootstrap(r.getAttribute('ajaxify'),r,true);c('Arbiter').inform('AudienceSelector/changed',{option:q[0],selector:o});});}};c('Arbiter').subscribe('CustomPrivacyOptionController/update',function(l,m){if(!c('CSS').hasClass(m.selector,'audienceSelector'))return;c('SelectorDeprecated').setSelected(m.selector,c('SelectorDeprecated').getOptionValue(m.option));c('DynamicIconSelector').swapIcon(m.selector);var n=c('CSS').hasClass(m.selector,'composerAudienceSelector');if(n)c('SelectorDeprecated').setButtonLabel(m.selector,m.label);c('SelectorDeprecated').setButtonTooltip(m.selector,m.tooltip);new (c('OldPrivacySelectorTypedLogger'))().setEvent(c('OldPrivacySelectorEvent').CUSTOM_SAVE).setFbid(i(m.selector)).log();c('Arbiter').inform('AudienceSelector/update',m);});c('Arbiter').subscribe('CustomPrivacyOptionController/cancel',function(l,m){if(!c('CSS').hasClass(m.selector,'audienceSelector'))return;new (c('OldPrivacySelectorTypedLogger'))().setEvent(c('OldPrivacySelectorEvent').CUSTOM_CANCEL).setFbid(i(m.selector)).log();});c('Arbiter').subscribe(['AudienceSelector/changed','AudienceSelector/update'],function(event,l){var m=c('SelectorDeprecated').getOptionValue(l.option),n=null;if(m==c('PrivacyConst').BaseValue.EVERYONE){n=c('OldPrivacySelectorEvent').SELECT_EVERYONE;}else if(m==c('PrivacyConst').BaseValue.FRIENDS_OF_FRIENDS){n=c('OldPrivacySelectorEvent').SELECT_FRIENDS_OF_FRIENDS;}else if(m==c('PrivacyConst').BaseValue.ALL_FRIENDS){n=c('OldPrivacySelectorEvent').SELECT_FRIENDS;}else if(m==c('PrivacyConst').BaseValue.FRIENDS_MINUS_ACQUAINTANCES){n=c('OldPrivacySelectorEvent').SELECT_FRIENDS_EXCEPT_ACQUIANTANCES;}else if(m==c('PrivacyConst').BaseValue.SELF){n=c('OldPrivacySelectorEvent').SELECT_ONLY_ME;}else if(m==c('PrivacyConst').BaseValue.CUSTOM){if(event==='AudienceSelector/changed')n=c('OldPrivacySelectorEvent').SELECT_CUSTOM;}else if(m==c('PrivacyConst').BaseValue.FACEBOOK_EMPLOYEES){n=c('OldPrivacySelectorEvent').SELECT_FB_ONLY;}else if(c('CSS').hasClass(l.option,'friendListOption')){n=c('OldPrivacySelectorEvent').SELECT_FRIENDLIST;}else if(c('CSS').hasClass(l.option,'moreOption')){n=c('OldPrivacySelectorEvent').SELECT_SEE_ALL_LISTS;}else if(c('CSS').hasClass(l.option,'returnOption')){n=c('OldPrivacySelectorEvent').SELECT_RETURN;}else n=c('OldPrivacySelectorEvent').SELECT_OTHER;if(n!=null)new (c('OldPrivacySelectorTypedLogger'))().setEvent(n).setFbid(i(l.selector)).log();var o={};if(m==c('PrivacyConst').BaseValue.CUSTOM){if(event=='AudienceSelector/changed')return;o=c('CustomPrivacyOptionController').getData(l.option.id);if(!o)return;}for(var p in h){var q=h[p];if(q[l.selector.id]){c('Arbiter').inform('AudienceSelector/syncNonSelectorIcon',{category:p});for(var r in q){var s=q[r];if(!s||l.selector===s)continue;if(c('SelectorDeprecated').getValue(s)!==m){c('SelectorDeprecated').setSelected(s,m);c('DynamicIconSelector').swapIcon(s);}if(m==c('PrivacyConst').BaseValue.CUSTOM){var t=c('SelectorDeprecated').getOption(s,c('PrivacyConst').BaseValue.CUSTOM+'');if(t){c('CustomPrivacyOptionController').setPrivacyData(t.id,o,m);c('SelectorDeprecated').setButtonTooltip(s,l.tooltip);}}}}}});f.exports=k;}),null);
__d('PhotoEditorSaveStates',['requireWeak','Map'],(function a(b,c,d,e,f,g){var h;c('requireWeak')('PhotoEditorGraphic',function(l){h=l.Sticker;});var i=new (c('Map'))(),j=new (c('Map'))(),k={setState:function l(m,n){i.set(m,n);},getState:function l(m){return i.get(m);},setLoggingData:function l(m,n){j.set(m,n);},getLoggingData:function l(m){return j.get(m);},getTotalNumOfStickersOnPhoto:function l(m){if(i.get(m))return i.get(m).graphics.filter(function(n){return h&&n.type===h;}).length;return 0;}};f.exports=k;}),null);
__d("XStickyComposerChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/privacy\/sticky_composer\/change\/",{privacyx:{type:"String"},logging_source:{type:"String"}});}),null);
__d('PrivacySelector',['csx','Arbiter','ArbiterMixin','AsyncRequest','AudienceSelector','CSS','DOM','PrivacyConst','DataStore','PrivacySelectorNewDispatcher','Run','SelectorDeprecated','SubscriptionsHandler','XStickyComposerChangeController','mixin'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this);if(l instanceof HTMLElement){this.$PrivacySelector3=l;}else this.$PrivacySelector1=l;this.$PrivacySelector7=null;this.$PrivacySelector6=new (c('SubscriptionsHandler'))();this.$PrivacySelector5=new (c('SubscriptionsHandler'))();if(this.$PrivacySelector1!=null){this.$PrivacySelector8();}else this.$PrivacySelector9();c('Run').onLeave(this.cleanup.bind(this));}k.prototype.select=function(l,m,n){'use strict';if(l==null||m==null)throw new Error('PrivacySelector.select: you must pass in privacyParam '+'and privacyBase');if(this.$PrivacySelector1!=null){var o=this.$PrivacySelector1;n&&this.$PrivacySelector6.addSubscriptions(o.subscribeOnce('changed',function(p,q){n&&n('changed',{post_param:q.post_param});}));o.selectOption(l);}else{n&&this.$PrivacySelector5.addSubscriptions(c('Arbiter').subscribe('AudienceSelector/changed',function(p,q){if(this.$PrivacySelector10(q.selector)){var r=c('SelectorDeprecated').getOptionValue(q.option);n&&n('changed',{privacy_base:r});}}.bind(this)));c('AudienceSelector').setAudience(this.$PrivacySelector3,m);}};k.prototype.expandFull=function(l){'use strict';if(this.$PrivacySelector1!=null){this.$PrivacySelector1.openSelectorExpanded(l);}else this.expand(l);};k.prototype.expandFullAndShowFlyout=function(l){'use strict';this.expandFull(this.showFlyoutOnMenu.bind(this,l));};k.prototype.expand=function(l){'use strict';if(this.$PrivacySelector1!=null){this.$PrivacySelector1.openSelector(l);}else{var m=c('SelectorDeprecated').getSelectorMenu(this.$PrivacySelector3);if(!m){c('SelectorDeprecated').loadMenu(this.$PrivacySelector3,function(){l&&l();});}else this.$PrivacySelector5.addSubscriptions(c('SelectorDeprecated').listen(this.$PrivacySelector3,'open',function(){l&&l();this.$PrivacySelector10(this.$PrivacySelector3);}.bind(this)));c('SelectorDeprecated').toggle(this.$PrivacySelector3,l);}};k.prototype.showFlyoutOnMenu=function(l){'use strict';this.$PrivacySelector2&&this.$PrivacySelector2.hide();this.$PrivacySelector2=l;var m=void 0;if(this.$PrivacySelector1!=null){m=this.$PrivacySelector1.getMenuElement();l.setOffsetY(85);}else{m=c('DOM').scry(this.$PrivacySelector3,'div.uiSelectorMenuWrapper')[0];l.setOffsetY(13);}l.setContext(m);l.show();};k.prototype.setOnClose=function(l){'use strict';this.$PrivacySelector7=l;};k.prototype.cleanup=function(){'use strict';this.$PrivacySelector6.release();this.$PrivacySelector6=new (c('SubscriptionsHandler'))();this.$PrivacySelector5.release();this.$PrivacySelector5=new (c('SubscriptionsHandler'))();this.$PrivacySelector2&&this.$PrivacySelector2.hide();this.$PrivacySelector2=null;this.$PrivacySelector7=null;};k.prototype.disable=function(){'use strict';if(this.$PrivacySelector1!=null){this.$PrivacySelector1.disable();}else c('SelectorDeprecated').setEnabled(this.$PrivacySelector3,false);};k.prototype.enable=function(){'use strict';if(this.$PrivacySelector1!=null){this.$PrivacySelector1.enable();}else c('SelectorDeprecated').setEnabled(this.$PrivacySelector3,true);};k.get=function(l){'use strict';if(!l)return null;var m=c('DataStore').get(l,'selector');if(!m){var n=k.getDOMFromStory(l);if(!n)return null;m=c('DataStore').get(n,'selector');}if(m)return new k(m);return new k(l);};k.getAdamaSelectorInstance=function(l){'use strict';if(!l)return null;var m=c('DataStore').get(l,'selector');if(!m){var n=k.getDOMFromStory(l);if(!n)return null;m=c('DataStore').get(n,'selector');}return m;};k.getDOMFromStory=function(l){'use strict';if(!l)return null;var m=c('DOM').scry(l,"._43_1")[0];if(m)return m;return c('AudienceSelector').get(l);};k.getIconFromSelectorDOM=function(l){'use strict';return c('DOM').scry(l,'i.img')[0];};k.setComposerPrivacy=function(l,m,n){'use strict';var o=c('XStickyComposerChangeController').getURIBuilder().setString('privacyx',l).setString('logging_source',n);new (c('AsyncRequest'))(o.getURI()).send();c('PrivacySelectorNewDispatcher').handleUpdateFromSelector({selector_type:c('PrivacyConst').PrivacyField.CURRENT_COMPOSER,post_param:l,unique_value:'_updateStickyComposerPrivacy'});var p=c('AudienceSelector').getComposerInstance(m);if(p)c('AudienceSelector').setAudience(p,m);};k.isFakeOrUneditableSelector=function(l){'use strict';return c('CSS').matchesSelector(l,"._2qwi")||c('CSS').matchesSelector(l,"._29ee")||c('CSS').matchesSelector(l,"._jl")||c('DOM').scry(l,"._2qwi")[0]||c('DOM').scry(l,"._29ee")[0]||c('DOM').scry(l,"._jl")[0];};k.prototype.$PrivacySelector8=function(){'use strict';var l=this.$PrivacySelector1;if(!l)return;this.$PrivacySelector6.addSubscriptions(l.subscribe('changed',function(m,n){return this.inform('changed',{post_param:n.post_param});}.bind(this)),l.subscribe('selectorFinished',function(){return this.$PrivacySelector7&&this.$PrivacySelector7();}.bind(this)));};k.prototype.$PrivacySelector9=function(){'use strict';this.$PrivacySelector6.addSubscriptions(c('Arbiter').subscribe('AudienceSelector/update',function(l,m){if(this.$PrivacySelector3!==m.selector)return;var n=c('SelectorDeprecated').getOptionValue(m.option);this.inform('changed',{privacy_base:n});}.bind(this)),c('Arbiter').subscribe('AudienceSelector/changed',function(l,m){if(this.$PrivacySelector3!==m.selector)return;if(c('CSS').hasClass(m.option,'moreOption')||c('CSS').hasClass(m.option,'returnOption'))return;if(m.value!=c('PrivacyConst').BaseValue.CUSTOM){this.inform('changed',{privacy_base:m.value});}else if(m.value==c('PrivacyConst').BaseValue.CUSTOM)this.$PrivacySelector4=true;}.bind(this)),c('SelectorDeprecated').listen(this.$PrivacySelector3,'close',function(){if(this.$PrivacySelector4){this.$PrivacySelector4=false;return;}this.$PrivacySelector7&&this.$PrivacySelector7();}.bind(this)),c('Arbiter').subscribe('CustomPrivacyOptionController/cancel',function(l,m){if(this.$PrivacySelector3!==m.selector)return;this.$PrivacySelector7&&this.$PrivacySelector7();}.bind(this)));};k.prototype.$PrivacySelector10=function(l){'use strict';if(l!=this.$PrivacySelector3)return false;this.$PrivacySelector5.release();this.$PrivacySelector5=new (c('SubscriptionsHandler'))();return true;};f.exports=k;}),null);
__d('ReactComposerAttachmentInitState',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({UNINITIALIZED:null,INITIALIZING:null,INITIALIZED:null},'ReactComposerAttachmentInitState');}),null);
__d('ReactComposerAttachmentStore',['ImmutableObject','ReactComposerAttachmentActionType','ReactComposerAttachmentInitState','ReactComposerAttachmentType','ReactComposerStoreBase','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {attachments:[],selectedAttachment:null,isSelectedAttachmentActive:false};},function(l){switch(l.type){case c('ReactComposerAttachmentActionType').REGISTER_ATTACHMENT:k&&k.$ReactComposerAttachmentStore1(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerAttachmentStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:k&&k.$ReactComposerAttachmentStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:k&&k.$ReactComposerAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SET_INITIALIZED:k&&k.$ReactComposerAttachmentStore5(l);break;}});k=this;}j.prototype.getAttachment=function(k,l){'use strict';var m=this.getComposerData(k);return m.attachments.find(function(n){return n.id===l;});};j.prototype.getSelectedAttachmentID=function(k){'use strict';var l=this.getComposerData(k);if(l.selectedAttachment)return l.selectedAttachment.id;return null;};j.prototype.hasAttachment=function(k,l){'use strict';return this.getComposerData(k).attachments.some(function(m){return m.id===l;});};j.prototype.getIsAttachmentSelected=function(k,l){'use strict';var m=this.getComposerData(k).selectedAttachment;return !!m&&m.id===l;};j.prototype.isSelectedAttachmentActive=function(k){'use strict';return this.getComposerData(k).isSelectedAttachmentActive;};j.prototype.isBootstrapped=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootstrapped;};j.prototype.getBootloadDuration=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootloadDuration;};j.prototype.getBootstrapDuration=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootstrapDuration;};j.prototype.getAttachmentsConfig=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].config;};j.prototype.$ReactComposerAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1],o=this.getComposerData(m),p=new (c('ImmutableObject'))({id:n,initState:c('ReactComposerAttachmentInitState').UNINITIALIZED,bootloaded:k.bootloaded,bootstrapped:k.bootstrapped,module:k.module,postButtonModule:k.postButtonModule,initTime:null,bootloadDuration:null,bootstrapDuration:null,config:n===c('ReactComposerAttachmentType').MEDIA&&k.config?{videoUploadParams:k.config.videoUploadParams||{}}:null});o.attachments.push(p);if(k.selected)o.selectedAttachment=p;if(k.active)o.isSelectedAttachmentActive=true;this.emitChange(m);};j.prototype.$ReactComposerAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);if(o.attachments[p].initState===c('ReactComposerAttachmentInitState').UNINITIALIZED)o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{initState:c('ReactComposerAttachmentInitState').INITIALIZING});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['id','composerID','activate']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(n),q=this.$ReactComposerAttachmentStore6(p,m);p.selectedAttachment=p.attachments[q];if(o)p.isSelectedAttachmentActive=true;if(p.attachments[q].initState===c('ReactComposerAttachmentInitState').UNINITIALIZED)p.attachments[q]=c('ImmutableObject').set(p.attachments[q],{initState:c('ReactComposerAttachmentInitState').INITIALIZING});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['id','composerID','attachmentModule']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(n),q=this.$ReactComposerAttachmentStore6(p,m);p.attachments[q]=c('ImmutableObject').set(p.attachments[q],{bootloaded:true,bootloadDuration:c('performanceAbsoluteNow')()-p.attachments[q].initTime,module:o,postButtonModule:k.postButtonModule});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{bootstrapped:true,bootstrapDuration:c('performanceAbsoluteNow')()-o.attachments[p].initTime});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{initState:c('ReactComposerAttachmentInitState').INITIALIZED,initTime:c('performanceAbsoluteNow')()});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore6=function(k,l){'use strict';var m=-1;for(var n=0;n<k.attachments.length;n++)if(k.attachments[n].id===l){m=n;break;}if(m===-1)throw new Error('Undefined attachment id: '+l);return m;};f.exports=new j();}),null);
__d('ReactComposerAttachmentActions',['ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerDispatcher'],(function a(b,c,d,e,f,g){h.prototype.registerAttachment=function(i,j){'use strict';var k=babelHelpers['extends']({composerID:i,type:c('ReactComposerAttachmentActionType').REGISTER_ATTACHMENT},j);c('ReactComposerDispatcher').dispatch(k);};h.prototype.initializeAttachment=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').INITIALIZE_ATTACHMENT,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.selectAttachment=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2],l=arguments[3];'use strict';var m=c('ReactComposerAttachmentStore').getSelectedAttachmentID(i);if(!m)return;var n={composerID:i,type:c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT,id:j,activate:k,uiElementName:l,currentAttachmentID:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.setInitialized=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').SET_INITIALIZED,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setBootloaded=function(i,j,k,l){'use strict';var m={composerID:i,type:c('ReactComposerAttachmentActionType').SET_BOOTLOADED,id:j,attachmentModule:k,postButtonModule:l};c('ReactComposerDispatcher').dispatch(m);};h.prototype.setBootstrapped=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.changeUploadStatus=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').UPLOAD_ATTACHMENT,uploading:j};c('ReactComposerDispatcher').dispatch(k);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerAlbumActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({CREATE_ALBUM_CLICKED:null},'ReactComposerAlbumActionType');}),null);
__d('ReactComposerHeaderType',[],(function a(b,c,d,e,f,g){'use strict';var h={NONE:'NONE',DEFAULT:'DEFAULT',SHARESHEET:'SHARESHEET'};f.exports=h;}),null);
__d('ReactComposerAudienceActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null,SET_COLLECTION:null},'ReactComposerAudienceActionTypes');}),null);
__d('ReactComposerAudienceStore',['csx','invariant','DOM','ReactComposerActionStore','ReactComposerAudienceActionTypes','$'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('ReactComposerActionStore'));k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false,collectionID:null};},function(n){switch(n.type){case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;case c('ReactComposerAudienceActionTypes').SET_COLLECTION:m&&m.$ReactComposerAudienceStore5(n);break;}});m=this;}l.prototype.getAudience=function(m){'use strict';if(this.getPrivacyxNullDangerous(m))return null;try{var n=c('DOM').scry(c('$')(m),"._5dd8");n.length<2||i(0);var o=n[0];if(o){var p=c('DOM').scry(o,'input[name="privacyx"]');p.length<2||i(0);if(p.length===1)return p[0].value;}}catch(q){}return this.getComposerData(m).audience;};l.prototype.getLegacyAudience=function(m){'use strict';return this.getComposerData(m).legacyAudience;};l.prototype.getAudienceElement=function(m){'use strict';return this.getComposerData(m).audienceElement;};l.prototype.getAudienceInstance=function(m){'use strict';return this.getComposerData(m).audienceInstance;};l.prototype.getPrivacyxNullDangerous=function(m){'use strict';return this.getComposerData(m).privacyxNullDangerous;};l.prototype.getCollectionID=function(m){'use strict';return this.getComposerData(m).collectionID;};l.prototype.$ReactComposerAudienceStore1=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore2=function(m){'use strict';var n=this.validateAction(m,['composerID','audienceElement']),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o);};l.prototype.$ReactComposerAudienceStore3=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore4=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore5=function(m){'use strict';var n=this.validateAction(m,['composerID','collectionID']),o=n[0],p=n[1],q=this.getComposerData(o);q.collectionID=p;this.emitChange(o);};f.exports=new l();}),null);
__d('ReactComposerAudienceActions',['ReactComposerAudienceActionTypes','ReactComposerDispatcher','ReactComposerAudienceStore'],(function a(b,c,d,e,f,g){c('ReactComposerAudienceStore');var h={setAudience:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE,audience:k,legacyAudience:l,sourceLoggingName:m});},setAudienceWithoutLogging:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE,audience:k,legacyAudience:l,suppressWaterfallLogging:true});},setAudienceElement:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT,audienceElement:k});},setAudienceInstance:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE,audienceInstance:k});},setPrivacyxNullDangerous:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS,privacyxNullDangerous:k});},setCollectionID:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,sourceLoggingName:k,type:c('ReactComposerAudienceActionTypes').SET_COLLECTION,collectionID:l});},setCollectionIDWithoutLogging:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,suppressWaterfallLogging:true,type:c('ReactComposerAudienceActionTypes').SET_COLLECTION,collectionID:k});}};f.exports=h;}),null);
__d('ReactComposerPhotoActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({PHOTO_RECOGNITION_STARTED:null,PHOTO_RECOGNITION_FINISHED:null,PHOTO_RECOGNITION_ALL_FINISHED:null,PHOTO_ADD_FACEBOX:null,PHOTO_TAG_FACEBOX:null,PHOTO_TAG_XY:null,PHOTO_TAG_XY_PRODUCT:null,PHOTO_UNTAG_FACEBOX:null,PHOTO_REMOVE:null,PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:null,PHOTO_EDIT_STARTED:null,PHOTO_EDIT_FINISHED:null,PHOTO_SET_BEING_TAGGED:null,PHOTO_LOADING_EDIT_FINISHED:null,PHOTO_UNTAG_ALL:null,PHOTO_SPHERICAL_UPDATING:null,PHOTO_UPDATE_ALL_PHOTO_TAGS:null},'ReactComposerPhotoActionType');}),null);
__d('ReactComposerPhotoStore',['immutable','ReactComposerMediaUploadActionType','ReactComposerPhotoActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i,j=c('immutable').Record({cubestripURI:null,faceboxes:c('immutable').Map(),height:null,id:null,imageSrc:null,isLoadingPhotoEdit:false,isRecognizingFaceboxes:false,thumbSrc:null,uploadID:null,width:null,xyTags:c('immutable').Map()}),k=c('immutable').Record({id:null,photoID:null,x:null,y:null,top:null,left:null,width:null,height:null,croppedURI:null,taggedSubjectID:null,taggedValue:null,isMagicTag:false,recognizedSubjectID:null}),l=c('immutable').Record({from_facebox:false,name:null,photoID:null,source:null,subject:null,x:null,y:null,is_product_tag:false});h=babelHelpers.inherits(m,c('ReactComposerStoreBase'));i=h&&h.prototype;function m(){'use strict';var n;i.constructor.call(this,function(){return {photos:c('immutable').Map(),photoBeingTagged:null,isSphericalPhotoUpdating:false};},function(o){switch(o.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:n&&n.$ReactComposerPhotoStore1(o);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_EXTRA_DONE:n&&n.$ReactComposerPhotoStore2(o);break;case c('ReactComposerMediaUploadActionType').PHOTO_ADD_UPLOAD:n&&n.$ReactComposerPhotoStore3(o);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_STARTED:n&&n.$ReactComposerPhotoStore4(o);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_FINISHED:n&&n.$ReactComposerPhotoStore5(o);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:n&&n.$ReactComposerPhotoStore6(o);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:n&&n.$ReactComposerPhotoStore7(o);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY_PRODUCT:n&&n.$ReactComposerPhotoStore8(o);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY:n&&n.$ReactComposerPhotoStore9(o);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_FACEBOX:n&&n.$ReactComposerPhotoStore10(o);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_FACEBOX:n&&n.$ReactComposerPhotoStore11(o);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:n&&n.$ReactComposerPhotoStore12(o);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:n&&n.$ReactComposerPhotoStore13(o);break;case c('ReactComposerPhotoActionType').PHOTO_SET_BEING_TAGGED:n&&n.$ReactComposerPhotoStore14(o);break;case c('ReactComposerMediaUploadActionType').PREFILL_MEDIAS:n&&n.$ReactComposerPhotoStore15(o);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:n&&n.$ReactComposerPhotoStore16(o);break;case c('ReactComposerPhotoActionType').PHOTO_LOADING_EDIT_FINISHED:n&&n.$ReactComposerPhotoStore17(o);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_ALL:n&&n.$ReactComposerPhotoStore18(o);break;case c('ReactComposerPhotoActionType').PHOTO_SPHERICAL_UPDATING:n&&n.$ReactComposerPhotoStore19(o);break;case c('ReactComposerPhotoActionType').PHOTO_UPDATE_ALL_PHOTO_TAGS:n&&n.$ReactComposerPhotoStore20(o);break;default:}});n=this;}m.prototype.getPhotos=function(n){'use strict';return this.getComposerData(n).photos;};m.prototype.isLimitExceeded=function(n,o){'use strict';return this.getPhotos(n).size>o;};m.prototype.getPhoto=function(n,o){'use strict';return this.getComposerData(n).photos.get(o);};m.prototype.isRecognizing=function(n){'use strict';return this.getComposerData(n).photos.some(function(o){return o.isRecognizingFaceboxes;});};m.prototype.getIsSubjectTagged=function(n,o){'use strict';var p=this.getComposerData(n).photos;return p.some(function(q){return this.getIsSubjectTaggedInPhoto(n,q.id,o);}.bind(this));};m.prototype.getIsSubjectTaggedInPhoto=function(n,o,p){'use strict';var q=this.getPhoto(n,o),r=q.faceboxes.some(function(t){return t.taggedSubjectID===p;}),s=q.xyTags.some(function(t){return t.subject===p;});return r||s;};m.prototype.hasTagsInPhoto=function(n,o){'use strict';var p=this.getPhoto(n,o);if(!p)return false;var q=p.faceboxes.some(function(s){return s.taggedSubjectID!==null;}),r=p.xyTags.size>0;return q||r;};m.prototype.getAllTaggedFaceboxes=function(n){'use strict';var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.faceboxes.toArray());});return p.filter(function(q){return !!q.get('taggedSubjectID');});};m.prototype.getTaggedFaceboxes=function(n,o){'use strict';var p=this.getPhoto(n,o);return !p?null:p.faceboxes.filter(function(q){return !!q.get('taggedSubjectID');}).map(function(q){return q.toObject();}).toArray();};m.prototype.getFaceboxes=function(n,o){'use strict';var p=this.getPhoto(n,o);return !p?null:p.faceboxes.map(function(q){return q.toObject();}).toArray();};m.prototype.getXYTags=function(n,o){'use strict';var p=this.getPhoto(n,o);return !p?null:p.xyTags.map(function(q){return q.toObject();}).toArray();};m.prototype.getAllXYTags=function(n){'use strict';var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.xyTags.toArray());});return p;};m.prototype.getPhotoBeingTagged=function(n){'use strict';return this.getComposerData(n).photoBeingTagged;};m.prototype.isSphericalPhotoUpdating=function(n){'use strict';return this.getComposerData(n).isSphericalPhotoUpdating;};m.prototype.$ReactComposerPhotoStore1=function(n){'use strict';var o=this.validateAction(n,['composerID','uploadID','photoID','thumbSrc','cubestripURI','imageSrc','width','height']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=o[7];this.$ReactComposerPhotoStore21(p,r,new j({id:r,uploadID:q,thumbSrc:s,cubestripURI:t,imageSrc:u,width:v,height:w}));this.emitChange(p);};m.prototype.$ReactComposerPhotoStore2=function(n){'use strict';this.$ReactComposerPhotoStore1(n);};m.prototype.$ReactComposerPhotoStore4=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set('isRecognizingFaceboxes',true);});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore5=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s&&s.set('isRecognizingFaceboxes',false);});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore6=function(n){'use strict';var o=this.validateAction(n,['composerID','photos']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return q.indexOf(s.id)!==-1?s.set('isRecognizingFaceboxes',false):s;});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore7=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID','facebox']),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p),t=r.bestRecognition,u=null,v=null;if(t){u=t.subjectID;v=t.value;}s.photos=s.photos.update(q,function(w){return w&&w.update('faceboxes',function(x){return x.set(r.id,new k({id:r.id,photoID:q,x:r.x,y:r.y,top:r.top,left:r.left,width:r.width,height:r.height,croppedURI:r.croppedURI,taggedSubjectID:u,taggedValue:v,isMagicTag:!!u,recognizedSubjectID:u}));});});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore9=function(n){'use strict';var o=this.validateAction(n,['composerID','value','photoID','source','subject','x','y']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(x){return x.update('xyTags',function(y){return y.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v}));});});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore8=function(n){'use strict';var o=this.validateAction(n,['composerID','value','photoID','source','subject','x','y']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(x){return x.update('xyTags',function(y){return y.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v,is_product_tag:true}));});});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore10=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID','faceboxID','subjectID','value']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=this.getComposerData(p);u.photos=u.photos.update(q,function(v){return v.update('faceboxes',function(w){return w.update(r,function(x){return x.withMutations(function(y){return y.set('taggedSubjectID',s).set('taggedValue',t).set('isMagicTag',false);});});});});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore18=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){s=s.set('xyTags',c('immutable').Map());return s;});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore11=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID','faceboxID']),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p);s.photos=s.photos.update(q,function(t){return t.update('faceboxes',function(u){return u.update(r,function(v){return v.withMutations(function(w){return w.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});});});});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore12=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos['delete'](q);};m.prototype.$ReactComposerPhotoStore13=function(n){'use strict';var o=this.validateAction(n,['composerID','subjectID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return s.withMutations(function(t){return t.update('faceboxes',function(u){return u.map(function(v){if(v.taggedSubjectID!==q)return v;return v.withMutations(function(w){return w.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});});}).update('xyTags',function(u){return u.filterNot(function(v){return v.subject===q;});});});});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore14=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photoBeingTagged=q;this.emitChange(p);};m.prototype.$ReactComposerPhotoStore15=function(n){'use strict';var o=this.validateAction(n,['composerID','medias']),p=o[0],q=o[1];q.forEach(function(r){this.$ReactComposerPhotoStore21(p,r.photoID,new j({id:r.photoID,uploadID:r.uploadID,thumbSrc:r.thumbSrc,imageSrc:r.imageSrc,width:r.width,height:r.height,cubestripURI:r.cubestripURI}));}.bind(this));this.emitChange(p);};m.prototype.$ReactComposerPhotoStore16=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set('isLoadingPhotoEdit',true);});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore17=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return s.set('isLoadingPhotoEdit',false);});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore3=function(n){'use strict';var o=this.validateAction(n,['composerID','photo']),p=o[0],q=o[1];this.$ReactComposerPhotoStore21(p,q.id,q);this.emitChange(p);};m.prototype.$ReactComposerPhotoStore19=function(n){'use strict';var o=this.validateAction(n,['composerID','isSphericalPhotoUpdating']),p=o[0],q=o[1],r=this.getComposerData(p);r.isSphericalPhotoUpdating=q;this.emitChange(p);};m.prototype.$ReactComposerPhotoStore20=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID','faceboxes','xyTags']),p=o[0],q=o[1],r=o[2],s=o[3],t=this.getComposerData(p),u={};r.forEach(function(w){u[w.id]=new k(w);});var v={};s.forEach(function(w){v[w.subject]=new l(w);});t.photos=t.photos.update(q,function(w){return w&&w.set('faceboxes',c('immutable').Map(u)).set('xyTags',c('immutable').Map(v));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore21=function(n,o,p){'use strict';var q=this.getComposerData(n);q.photos=q.photos.set(o,p);};f.exports=new m();}),null);
__d('ReactComposerPhotoActions',['ReactComposerDispatcher','ReactComposerPhotoActionType','ReactComposerPhotoStore'],(function a(b,c,d,e,f,g){c('ReactComposerPhotoStore');var h={startRecognizing:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,photoID:k,type:c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_STARTED});},finishRecognizingPhoto:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_FINISHED,photoID:k});},finishRecognizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED,photos:k,facerecWaterfallEvent:l});},addFacebox:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX,photoID:k,facebox:l});},tagXY:function i(j,k,l,m,n,o,p){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_TAG_XY,value:l,photoID:k,source:m,subject:n,x:o,y:p});},tagXYProduct:function i(j,k,l,m,n,o,p){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_TAG_XY_PRODUCT,value:l,photoID:k,source:m,subject:n,x:o,y:p});},tagFacebox:function i(j,k,l,m,n){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_TAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m,value:n});},untagFacebox:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UNTAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m});},removePhoto:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_REMOVE,photoID:k,uploadID:l});},untagSubjectFromAllPhotos:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:k});},untagAllForPhoto:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UNTAG_ALL,photoID:k});},startPhotoEdit:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,photoID:k,type:c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED});},finishPhotoEdit:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED});},setPhotoBeingTagged:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,photoID:k,type:c('ReactComposerPhotoActionType').PHOTO_SET_BEING_TAGGED});},finishLoadingPhotoEdit:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_LOADING_EDIT_FINISHED,photoID:k});},changeSphericalPhotoUpdateStatus:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_SPHERICAL_UPDATING,isSphericalPhotoUpdating:k});},updateAllPhotoTags:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UPDATE_ALL_PHOTO_TAGS,photoID:k,faceboxes:l,xyTags:m});}};f.exports=h;}),null);
__d('ReactComposerPhotoUploadState',[],(function a(b,c,d,e,f,g){f.exports={PHOTO_UPLOAD_ENQUEUED:'PHOTO_UPLOAD_ENQUEUED',PHOTO_UPLOAD_RESIZE_STARTED:'PHOTO_UPLOAD_RESIZE_STARTED',PHOTO_UPLOAD_RESIZE_DONE:'PHOTO_UPLOAD_RESIZE_DONE',PHOTO_UPLOAD_RESIZE_FAILED:'PHOTO_UPLOAD_RESIZE_FAILED',PHOTO_UPLOAD_UPLOADING:'PHOTO_UPLOAD_UPLOADING',PHOTO_UPLOAD_DONE:'PHOTO_UPLOAD_DONE',PHOTO_UPLOAD_FAILED:'PHOTO_UPLOAD_FAILED'};}),null);
__d('ReactComposerMediaUploadActions',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerPhotoActions','ReactComposerPhotoUploadState','ReactComposerMediaUploadStore','ReactComposerPhotoStore'],(function a(b,c,d,e,f,g){c('ReactComposerMediaUploadStore');c('ReactComposerPhotoStore');var h={enqueue:function i(j,k,l,m,n,o,p){var q=arguments.length<=7||arguments[7]===undefined?[]:arguments[7],r=arguments.length<=8||arguments[8]===undefined?false:arguments[8];c('ReactComposerDispatcher').dispatch({composerID:j,mediaType:o,uploadID:k,type:n,filename:l,fileURL:p?p:'',index:m,xyTags:q,isSpherical:r});},startResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED});},progressResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_PROGRESS,progress:l});},doneResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE});},failResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED});},doneSphericalCheck:function i(j,k,l,m,n){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_DONE,sphericalImage:m,useLocalSphericalImage:n});},failSphericalCheck:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_FAILED});},startUploading:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:m,fileUpload:l});},progressUploading:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_PROGRESS,progress:l});},isSpherical:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_IS_SPHERICAL,isSpherical:l,projectionType:m});},doneUploading:function i(j,k,l,m,n,o,p,q,r,s,t,u,v,w){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,fileUpload:m,mediaLocation:s,timeToUpload:n,type:l,photoID:o,sphericalPhotoID:p,thumbSrc:q,originalPhotoID:r,cubestripURI:t,imageSrc:u,width:v,height:w});},doneUploadingExtra:function i(j,k,l,m,n,o,p,q){c('ReactComposerDispatcher').dispatch({type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_EXTRA_DONE,composerID:j,uploadID:k,photoID:l,thumbSrc:m,cubestripURI:n,imageSrc:o,width:p,height:q});},failUploading:function i(j,k,l,m,n,o){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:o,error:n,fileUpload:l,timeToUpload:m});},removeAllPhotoUploads:function i(j,k){k.forEach(function(l){return this.removePhotoAndPhotoUpload(j,l);}.bind(this));},removePhotoAndPhotoUpload:function i(j,k){if(k.state===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE){c('ReactComposerPhotoActions').removePhoto(j,k.photoID,k.id);}else this.removeMediaUpload(j,k.id);},removeMediaUpload:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE,uploadID:k});},mediaMoved:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_MOVED,from:k,to:l});},resizerUnavailable:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE});},photosSelect:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,method:l,numPhotos:k,type:c('ReactComposerMediaUploadActionType').PHOTOS_SELECT});},retryMediaUpload:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:k});},reorderMedias:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,mediaIDs:k,type:c('ReactComposerMediaUploadActionType').REORDER_MEDIAS});},prefillMedias:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,medias:k,type:c('ReactComposerMediaUploadActionType').PREFILL_MEDIAS});},setVideoThumbnail:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').VIDEO_SET_THUMBNAIL,thumbSrc:l,uploadID:k});},addPhotoUpload:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({type:c('ReactComposerMediaUploadActionType').PHOTO_ADD_UPLOAD,composerID:j,index:k,photo:m,upload:l});},setPhotoThumbnail:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').PHOTO_SET_THUMBNAIL,thumbSrc:l,uploadID:k});}};f.exports=h;}),null);
__d('ReactComposerMediaUploadType',[],(function a(b,c,d,e,f,g){f.exports={PHOTO:'PHOTO',VIDEO:'VIDEO'};}),null);
__d('ReactComposerPhotoUpload',['immutable'],(function a(b,c,d,e,f,g){f.exports=c('immutable').Record({error:{},filename:null,fileSize:null,fileUpload:null,fileURL:null,height:null,id:null,mediaType:null,originalPhotoID:null,photoID:null,progress:null,state:null,thumbSrc:null,width:null,xyTags:[],canShowSphericalSingletonNux:false,flatPhotoID:null,sphericalImage:null,isSpherical:false,projectionType:null,sphericalPhotoID:null,useLocalSphericalImage:false,isFromPrefill:false});}),null);
__d('ReactComposerMediaUploadStore',['invariant','Bootloader','immutable','PhotoEditorSaveStates','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadType','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerPhotoUpload','ReactComposerPhotoUploadState','ReactComposerStoreBase','ReactComposerVideoXUploader'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {removedIDs:c('immutable').Set(),uploads:c('immutable').List(),uploadsByID:c('immutable').Map(),videoUploader:null};},function(m){if(l&&l.$ReactComposerMediaUploadStore1(m))return;switch(m.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED:l&&l.$ReactComposerMediaUploadStore2(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:l&&l.$ReactComposerMediaUploadStore3(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_PROGRESS:l&&l.$ReactComposerMediaUploadStore4(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:l&&l.$ReactComposerMediaUploadStore5(m,c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_DONE);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:l&&l.$ReactComposerMediaUploadStore5(m,c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_FAILED);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_UPLOADING:l&&l.$ReactComposerMediaUploadStore6(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_IS_SPHERICAL:l&&l.$ReactComposerMediaUploadStore7(m);break;case c('ReactComposerMediaUploadActionType').VIDEO_SET_THUMBNAIL:case c('ReactComposerMediaUploadActionType').PHOTO_SET_THUMBNAIL:l&&l.$ReactComposerMediaUploadStore8(m);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_PROGRESS:l&&l.$ReactComposerMediaUploadStore4(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore9(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_EXTRA_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore10(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_FAILED:l&&l.$ReactComposerMediaUploadStore11(m);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:case c('ReactComposerPhotoActionType').PHOTO_REMOVE:l&&l.$ReactComposerMediaUploadStore12(m);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_MOVED:l&&l.$ReactComposerMediaUploadStore13(m);break;case c('ReactComposerMediaUploadActionType').PREFILL_MEDIAS:l&&l.$ReactComposerMediaUploadStore14(m);break;case c('ReactComposerMediaUploadActionType').REORDER_MEDIAS:l&&l.$ReactComposerMediaUploadStore15(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_ADD_UPLOAD:l&&l.$ReactComposerMediaUploadStore16(m);break;case c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_DONE:l&&l.$ReactComposerMediaUploadStore17(m);break;default:}});l=this;}k.prototype.getMediaUploadExists=function(l,m){'use strict';var n=this.getComposerData(l);return n.uploadsByID.get(m)!==undefined;};k.prototype.getMediaUpload=function(l,m){'use strict';return this.$ReactComposerMediaUploadStore18(this.getComposerData(l),m);};k.prototype.getUploadIndex=function(l,m){'use strict';return this.$ReactComposerMediaUploadStore19(this.getComposerData(l),m);};k.prototype.getUploads=function(l){'use strict';return this.getComposerData(l).uploads;};k.prototype.getUploadsOfType=function(l,m){'use strict';var n=this.getComposerData(l).uploads.filter(function(o){return o.mediaType===m;});return n;};k.prototype.getUploadsCount=function(l,m){'use strict';if(!m)return this.getComposerData(l).uploads.size;return this.getComposerData(l).uploads.filter(function(n){return n.mediaType===m;}).size;};k.prototype.getNonPrefillVideoUploadsCount=function(l){'use strict';return this.getUploadsOfType(l,c('ReactComposerMediaUploadType').VIDEO).filter(function(m){return !m.isFromPrefill;}).size;};k.prototype.getSphericalPhotoCount=function(l){'use strict';return this.getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO).filter(function(m){return m.isSpherical;}).size;};k.prototype.getNonsphericalPhotoCount=function(l){'use strict';return this.getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO).filter(function(m){return !m.isSpherical;}).size;};k.prototype.getHasUploadBeenRemoved=function(l,m){'use strict';var n=this.getComposerData(l);return n.removedIDs.has(m);};k.prototype.isUploading=function(l){'use strict';return this.getComposerData(l).uploads.some(function(m){return m.state!==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_FAILED&&m.state!==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE&&m.state!==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_FAILED;});};k.prototype.getTotalNumberOfStickersOnPhotos=function(l){'use strict';var m=0;this.getComposerData(l).uploads.forEach(function(n){var o=n.get('originalPhotoID');if(o)m+=c('PhotoEditorSaveStates').getTotalNumOfStickersOnPhoto(o);});return m;};k.prototype.getVideoUploader=function(l,m){'use strict';var n=this.getComposerData(l);if(!n.videoUploader){var o=new (c('ReactComposerVideoXUploader'))({composerID:l,uploaderParams:m});n.videoUploader=o;}return n.videoUploader;};k.prototype.$ReactComposerMediaUploadStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','mediaType','uploadID','filename','fileURL','index','xyTags','isSpherical']),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=m[5],t=m[6],u=m[7];this.$ReactComposerMediaUploadStore20(n,s,new (c('ReactComposerPhotoUpload'))({id:p,mediaType:o,state:c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_ENQUEUED,filename:q,fileURL:r,xyTags:t,isSpherical:u}));this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID']),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(p,o,function(q){return q.withMutations(function(r){return r.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_STARTED).set('progress',0);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','fileUpload']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=p&&p.getFile&&p.getFile().size;this.$ReactComposerMediaUploadStore21(q,o,function(s){return s.withMutations(function(t){return t.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_UPLOADING).set('progress',0).set('fileUpload',p).set('fileSize',r||null);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','progress']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.set('progress',p);});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore9=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','photoID']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.withMutations(function(s){return s.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE).set('photoID',p).set('sphericalPhotoID',l.sphericalPhotoID).set('originalPhotoID',l.originalPhotoID||p).set('progress',100).remove('fileUpload');});});if(!l.cubestripURI)this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.set('isSpherical',false);});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore10=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','photoID','cubestripURI']),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getUploadsCount(n);this.$ReactComposerMediaUploadStore20(n,r,new (c('ReactComposerPhotoUpload'))({id:o,photoID:p,mediaType:c('ReactComposerMediaUploadType').PHOTO,originalPhotoID:p,state:c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE,isSpherical:Boolean(q)}));this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','isSpherical']),n=m[0],o=m[1],p=m[2];if(p)c('Bootloader').loadModules(["SphericalPhotoConstants","QE2Logger"],function(q,r){return r.logExposureForUser(q.QE_WWW_UNIVERSE);},'ReactComposerMediaUploadStore');this.$ReactComposerMediaUploadStore21(this.getComposerData(n),o,function(q){return q.withMutations(function(r){return r.set('isSpherical',p).set('projectionType',l.projectionType);});});};k.prototype.$ReactComposerMediaUploadStore11=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID']),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(p,o,function(q){return q.withMutations(function(r){return r.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_FAILED).set('error',l.error);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore12=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID']),n=m[0],o=m[1],p=this.getComposerData(n),q=this.$ReactComposerMediaUploadStore19(p,o),r=p.uploads.get(q);if(r.mediaType==c('ReactComposerMediaUploadType').VIDEO)if(r.state===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_UPLOADING){p.videoUploader.cancelUpload(o);}else{if(!p.videoUploader){var s=c('ReactComposerAttachmentStore').getAttachmentsConfig(n,c('ReactComposerAttachmentType').MEDIA);s||h(0);this.getVideoUploader(n,s.videoUploadParams);}p.videoUploader.deleteUpload(o);}p.uploads=p.uploads['delete'](q);p.uploadsByID=p.uploadsByID['delete'](o);for(var t=q;t<p.uploads.size;t++){var u=p.uploads.get(t).id;p.uploadsByID=p.uploadsByID.set(u,t);}p.removedIDs=p.removedIDs.add(o);this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore8=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','thumbSrc']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.set('thumbSrc',p);});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore5=function(l,m){'use strict';var n=this.validateAction(l,['composerID','uploadID']),o=n[0],p=n[1];this.$ReactComposerMediaUploadStore22(o,p,m);this.emitChange(o);};k.prototype.$ReactComposerMediaUploadStore13=function(l){'use strict';var m=this.validateAction(l,['composerID','from','to']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,1).splice(p,0,q.uploads.get(o));q.uploadsByID=q.uploads.groupBy(function(r,s){return s;}).toMap().map(function(r){return r.first().id;}).flip();this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore15=function(l){'use strict';var m=this.validateAction(l,['composerID','mediaIDs']),n=m[0],o=m[1],p=this.getComposerData(n);p.uploads=o.map(function(q){return this.$ReactComposerMediaUploadStore18(p,q);}.bind(this));p.uploadsByID=p.uploads.groupBy(function(q,r){return r;}).toMap().map(function(q){return q.first().id;}).flip();this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore14=function(l){'use strict';var m=this.validateAction(l,['composerID','medias']),n=m[0],o=m[1];o.forEach(function(p,q){this.$ReactComposerMediaUploadStore20(n,q,new (c('ReactComposerPhotoUpload'))({id:p.uploadID,photoID:p.photoID,mediaType:p.mediaType,originalPhotoID:p.photoID,state:c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE,thumbSrc:p.thumbSrc,fileURL:p.fileURL||p.imageSrc,filename:p.filename,isSpherical:Boolean(p.cubestripURI),height:p.height,width:p.width,isFromPrefill:true}));}.bind(this));this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore16=function(l){'use strict';var m=this.validateAction(l,['composerID','index','upload']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,0,p);for(var r=o;r<q.uploads.size;r++){var s=q.uploads.get(r).id;q.uploadsByID=q.uploadsByID.set(s,r);}this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore17=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','sphericalImage','useLocalSphericalImage']),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(r,o,function(s){return s.withMutations(function(t){return t.set('sphericalImage',p).set('useLocalSphericalImage',q);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore22=function(l,m,n){'use strict';var o=this.getComposerData(l);this.$ReactComposerMediaUploadStore21(o,m,function(p){return p.set('state',n);});};k.prototype.$ReactComposerMediaUploadStore21=function(l,m,n){'use strict';var o=this.$ReactComposerMediaUploadStore23(l,m),p=o[0],q=o[1];l.uploads=l.uploads.set(q,n(p,q));};k.prototype.$ReactComposerMediaUploadStore23=function(l,m){'use strict';var n=this.$ReactComposerMediaUploadStore19(l,m);return [l.uploads.get(n),n];};k.prototype.$ReactComposerMediaUploadStore19=function(l,m){'use strict';var n=l.uploadsByID.get(m);if(n===undefined)throw new Error('Upload '+m+" hasn't been registered");return n;};k.prototype.$ReactComposerMediaUploadStore18=function(l,m){'use strict';var n=this.$ReactComposerMediaUploadStore19(l,m);return l.uploads.get(n);};k.prototype.$ReactComposerMediaUploadStore1=function(l){'use strict';if(c('ReactComposerMediaUploadActionType')[l.type]){var m=l.composerID,n=l.uploadID;if(n==null)return false;return this.getHasUploadBeenRemoved(m,n);}return false;};k.prototype.$ReactComposerMediaUploadStore20=function(l,m,n){'use strict';var o=this.getComposerData(l);o.uploads=o.uploads.splice(m,0,n);for(var p=m;p<o.uploads.size;p++){var q=o.uploads.get(p).id;o.uploadsByID=o.uploadsByID.set(q,p);}this.$ReactComposerMediaUploadStore24(l,n);};k.prototype.$ReactComposerMediaUploadStore24=function(l,m){'use strict';if(m.mediaType==c('ReactComposerMediaUploadType').PHOTO){var n=new Image();n.onload=function(){var p=this.getComposerData(l);this.$ReactComposerMediaUploadStore21(p,m.id,function(q){return q.withMutations(function(r){return r.set('height',n.height).set('width',n.width);});});this.emitChange(l);}.bind(this);n.src=m.fileURL;}else if(m.mediaType==c('ReactComposerMediaUploadType').VIDEO){var o=document.createElement('video');o.onloadedmetadata=function(){var p=this.getComposerData(l);this.$ReactComposerMediaUploadStore21(p,m.id,function(q){return q.withMutations(function(r){return r.set('height',o.videoHeight).set('width',o.videoWidth);});});this.emitChange(l);}.bind(this);o.src=m.fileURL;}};f.exports=new k();}),null);
__d('MultimediaUploadProcessingDialog.react',['fbt','React','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={dialogShown:true},this.$MultimediaUploadProcessingDialog1=function(){return this.props.numOfVideos===1?h._("The video in your post is being processed. We'll send you a notification when it's finished and your post is ready to view."):h._("The videos in your post are being processed. We'll send you a notification when they've finished and your post is ready to view.");}.bind(this),this.$MultimediaUploadProcessingDialog2=function(){return h._("Processing videos");},n;}l.prototype.componentWillReceiveProps=function(m){if(m.show)this.setState({dialogShown:true});};l.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:this.state.dialogShown,'data-testid':'video_processing_dialog',width:400},c('React').createElement(c('XUIDialogTitle.react'),null,this.$MultimediaUploadProcessingDialog2()),c('React').createElement(c('XUIDialogBody.react'),null,this.$MultimediaUploadProcessingDialog1()));};l.propTypes={numOfVideos:k.number.isRequired};f.exports=l;}),null);
__d('ReactComposerMediaFilterUtils',['ComposerXNativeAudioUploadsConfig','VideoUploadConfig'],(function a(b,c,d,e,f,g){var h={hasVideos:function i(j){return this.filterVideos(j).length>0;},hasAudioFiles:function i(j){return this.filterAudioFiles(j).length>0;},filterVideos:function i(j){return this.filterFileOfSupportedType(j,c('VideoUploadConfig').videoExtensions);},filterAudioFiles:function i(j){return this.filterFileOfSupportedType(j,c('ComposerXNativeAudioUploadsConfig').audioExtensions);},filterFileOfSupportedType:function i(j,k){return j.filter(function(l){var m=l.indexOf('.')!==-1?l.split('.').pop().toLowerCase():'';return k[m];});}};f.exports=h;}),null);
__d('ReactComposerVideoXUploader',['invariant','Arbiter','DOM','JSLogger','Map','MultimediaUploadProcessingDialog.react','PhotosUploadID','React','ReactComposerEvents','ReactComposerMediaFilterUtils','ReactComposerMediaUploadActions','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactDOM','Run','Set','SubscriptionsHandler','VideoUploader','VideoUploadFile','VideoUploadLogger','VideoUploadProgressBar','ifRequired','throttle','ReactComposerMediaUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=250;function j(k){this.$ReactComposerVideoXUploader12=function(){this.$ReactComposerVideoXUploader20().logEvent(c('VideoUploadLogger').EVENT_FINISHED_FLOW_EXP1);var l=c('DOM').create('div');c('DOM').appendContent(document.body,l);var m=this.$ReactComposerVideoXUploader6>0;c('ifRequired')('ReactComposerOptimisticPostingStore',function(n){if(n.hadOptimisticallyPosted(this.$ReactComposerVideoXUploader1))m=false;}.bind(this),function(){});if(m)c('ReactDOM').render(c('React').createElement(c('MultimediaUploadProcessingDialog.react'),{numOfVideos:this.$ReactComposerVideoXUploader6}),l);}.bind(this);this.$ReactComposerVideoXUploader13=function(){this.$ReactComposerVideoXUploader20().logEvent(c('VideoUploadLogger').EVENT_STARTED_FLOW_EXP1);this.$ReactComposerVideoXUploader6=c('ReactComposerMediaUploadStore').getNonPrefillVideoUploadsCount(this.$ReactComposerVideoXUploader1);}.bind(this);this.$ReactComposerVideoXUploader3=k;this.$ReactComposerVideoXUploader2=new (c('SubscriptionsHandler'))();this.$ReactComposerVideoXUploader6=0;this.$ReactComposerVideoXUploader7=new (c('Map'))();this.$ReactComposerVideoXUploader8=new (c('Set'))();this.$ReactComposerVideoXUploader9=false;k.composerID||h(0);k.uploaderParams||h(0);this.$ReactComposerVideoXUploader2.addSubscriptions(c('Arbiter').subscribe(c('ReactComposerEvents').POST_SUCCEEDED+k.composerID,c('throttle')(this.$ReactComposerVideoXUploader12,i,this)),c('Arbiter').subscribe(c('ReactComposerEvents').POST_STARTED+k.composerID,c('throttle')(this.$ReactComposerVideoXUploader13,i,this)));this.$ReactComposerVideoXUploader1=k.composerID;this.$ReactComposerVideoXUploader4=k.uploaderParams;this.$ReactComposerVideoXUploader5=c('JSLogger').create('composer');c('Run').onLeave(function(){return this.cancelUploads();}.bind(this));c('Run').onUnload(function(){return this.cancelUploads();}.bind(this));}j.prototype.cancelUploads=function(){this.$ReactComposerVideoXUploader8.forEach(function(k){var l=k.uploadID;this.$ReactComposerVideoXUploader8['delete'](k);var m=this.$ReactComposerVideoXUploader7.get(l);if(m)m.abandon();}.bind(this));this.$ReactComposerVideoXUploader9=false;};j.prototype.upload=function(k){k.forEach(function(m){if(!c('ReactComposerMediaFilterUtils').hasVideos([m.name]))return;if(!m.uploadID)m.uploadID=c('PhotosUploadID').getNewID();this.$ReactComposerVideoXUploader14(m);}.bind(this));var l=k.find(function(m){return c('ReactComposerMediaFilterUtils').hasVideos([m.name]);});if(!this.$ReactComposerVideoXUploader9&&l)this.uploadVideo(l);};j.prototype.uploadVideo=function(k){if(!k)return;this.$ReactComposerVideoXUploader9=true;var l=JSON.parse(JSON.stringify(this.$ReactComposerVideoXUploader4));l.isMultiMediaPost=true;var m=new (c('VideoUploader'))(l);this.$ReactComposerVideoXUploader7.set(k.uploadID,m);var n=c('VideoUploadFile').fromFile(k);this.$ReactComposerVideoXUploader2.addSubscriptions(m.subscribe('upload-started',this.$ReactComposerVideoXUploader15.bind(this,k)),m.subscribe('upload-progressed',this.$ReactComposerVideoXUploader16.bind(this,k)),m.subscribe('upload-failed',this.$ReactComposerVideoXUploader17.bind(this,k)),m.subscribe('upload-finished',this.$ReactComposerVideoXUploader18.bind(this,k)),m.subscribe('set-waterfall-id',this.$ReactComposerVideoXUploader19.bind(this,k)));try{m.upload(n);}catch(o){this.$ReactComposerVideoXUploader5.error('error_send_unpublished_files',o);throw o;}};j.prototype.cancelUpload=function(k){var l=this.$ReactComposerVideoXUploader7.get(k);if(l){l.cancel();l.reset();this.$ReactComposerVideoXUploader7['delete'](k);if(this.$ReactComposerVideoXUploader8.size>0){var m=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(m);}else this.$ReactComposerVideoXUploader9=false;}this.deleteUpload(k);};j.prototype.deleteUpload=function(k){this.$ReactComposerVideoXUploader8.forEach(function(l){if(l.uploadID===k)this.$ReactComposerVideoXUploader8['delete'](l);}.bind(this));};j.prototype.$ReactComposerVideoXUploader18=function(k,l,m){c('ReactComposerMediaUploadActions').doneUploading(this.$ReactComposerVideoXUploader1,k.uploadID,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_DONE,k,0,m.video_id,'','');var n=this.$ReactComposerVideoXUploader7.get(k.uploadID);if(n){n.reset();this.$ReactComposerVideoXUploader7['delete'](k.uploadID);}c('ReactComposerMediaUtils').changeToPeopleTaggerAfterUpload(this.$ReactComposerVideoXUploader1);this.$ReactComposerVideoXUploader9=false;this.$ReactComposerVideoXUploader8['delete'](k);if(this.$ReactComposerVideoXUploader8.size>0){var o=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(o);}};j.prototype.$ReactComposerVideoXUploader14=function(k){this.$ReactComposerVideoXUploader8.add(k);c('ReactComposerMediaUploadActions').enqueue(this.$ReactComposerVideoXUploader1,k.uploadID,k.name,c('ReactComposerMediaUploadStore').getUploads(this.$ReactComposerVideoXUploader1).size,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED,c('ReactComposerMediaUploadType').VIDEO,URL.createObjectURL(k));};j.prototype.$ReactComposerVideoXUploader15=function(k,l){c('ReactComposerMediaUploadActions').startUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_UPLOADING);};j.prototype.$ReactComposerVideoXUploader16=function(k,l,m){var n=c('VideoUploadProgressBar').computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0);c('ReactComposerMediaUploadActions').progressUploading(this.$ReactComposerVideoXUploader1,k.uploadID,Math.round(n));};j.prototype.$ReactComposerVideoXUploader17=function(k,l,m){var n={code:m.error_code,description:m.error_description,summary:m.error_summary,"transient":m.error_is_transient||m.error_code==1004||m.error_code==1006};c('ReactComposerMediaUploadActions').failUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,0,n,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_FAILED);};j.prototype.$ReactComposerVideoXUploader19=function(k,l,m){if(!this.$ReactComposerVideoXUploader10)this.$ReactComposerVideoXUploader10=m.waterfallID;};j.prototype.$ReactComposerVideoXUploader21=function(){this.$ReactComposerVideoXUploader11=new (c('VideoUploadLogger'))({actor_id:this.$ReactComposerVideoXUploader4.actorID,source:this.$ReactComposerVideoXUploader4.source,waterfall_id:this.$ReactComposerVideoXUploader10,target_id:this.$ReactComposerVideoXUploader4.targetID,composer_entry_point_ref:this.$ReactComposerVideoXUploader4.composerEntryPointRef});};j.prototype.$ReactComposerVideoXUploader20=function(){if(!this.$ReactComposerVideoXUploader11)this.$ReactComposerVideoXUploader21();return this.$ReactComposerVideoXUploader11;};j.prototype.destroy=function(){this.$ReactComposerVideoXUploader2.release();};f.exports=j;}),null);
__d('ReactComposerPhotoLegacyLimitExceededDialog',['fbt','DOM','LayerDestroyOnHide','React','ReactDOM','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h){var i={show:function j(k){var l=h._("Too many photos added"),m=h._("You can only add {maxselect} photos to a post. To add more photos, try creating an album.",[h.param('maxselect',k)]),n=c('DOM').create('div');c('ReactDOM').render(c('React').createElement(c('XUIDialog.react'),{shown:true,behaviors:{LayerDestroyOnHide:c('LayerDestroyOnHide')},width:600},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('span',null,l)),c('React').createElement(c('XUIDialogBody.react'),null,m),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogOkayButton.react'),{use:'confirm',action:'cancel'}))),n);}};f.exports=i;}),null);
__d('ReactComposerTaggerActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({DESELECT_TAGGER:null,SET_SELECTED_TAGGER:null,UPDATE_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null,SET_SELECTED_DATETIME:null,SET_SELECTED_PEOPLE:null,SET_TAGGER_SHOW_NUX:null,SET_SHOULD_HIDE_TAGGER_BUTTON:null,SET_TAGGER_SHOW_TOOLTIP:null,SET_IS_BRANDED_CONTENT_VIDEO:null},'ReactComposerTaggerActionType');}),null);
__d('ReactComposerTaggerStore',['immutable','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','SearchableEntry','Set','isEmpty'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){var l={};l[c('ReactComposerTaggerType').PEOPLE]=[];l[c('ReactComposerTaggerType').LOCATION]={};l[c('ReactComposerTaggerType').BACKDATE]={};l[c('ReactComposerTaggerType').ACTIVITY]={};l[c('ReactComposerTaggerType').TARGETING]={};l[c('ReactComposerTaggerType').PUBLISHER_ABTEST_HOLDOUT]={};l[c('ReactComposerTaggerType').SPONSOR]={sponsors:[],directShareStatus:0,sponsorRelationship:0};l[c('ReactComposerTaggerType').PRODUCT]=[];l[c('ReactComposerTaggerType').MARKDOWN]={};l[c('ReactComposerTaggerType').CONTENT_WARNINGS]=[];l[c('ReactComposerTaggerType').MESSAGING]=[];l[c('ReactComposerTaggerType').POLITICAL_INFO]={};l[c('ReactComposerTaggerType').ISSUE_TAG]=[];l[c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE]={};return {$ReactComposerTaggerStore1:c('immutable').Set(),autoFocusOnSelectedTagger:true,selectedTagger:null,taggersData:l,taggersSource:{},taggersShowNUX:{},shouldHideTaggerButton:{},taggersShowTooltip:{}};},function(l){switch(l.type){case c('ReactComposerTaggerActionType').DESELECT_TAGGER:k&&k.$ReactComposerTaggerStore2(l);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:k&&k.$ReactComposerTaggerStore3(l);break;case c('ReactComposerTaggerActionType').UPDATE_TAGGERS_SOURCE:k&&k.$ReactComposerTaggerStore4(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_SOURCE:k&&k.$ReactComposerTaggerStore5(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:k&&k.$ReactComposerTaggerStore6(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_SHOW_NUX:k&&k.$ReactComposerTaggerStore7(l);break;case c('ReactComposerTaggerActionType').SET_SHOULD_HIDE_TAGGER_BUTTON:k&&k.$ReactComposerTaggerStore8(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_SHOW_TOOLTIP:k&&k.$ReactComposerTaggerStore9(l);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:k&&k.$ReactComposerTaggerStore10(l);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY:k&&k.$ReactComposerTaggerStore11(l);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY_PRODUCT:k&&k.$ReactComposerTaggerStore12(l);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_FACEBOX:k&&k.$ReactComposerTaggerStore13(l);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_ALL:k&&k.$ReactComposerTaggerStore14(l);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_FACEBOX:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);k&&k.$ReactComposerTaggerStore15(l);break;case c('ReactComposerPhotoActionType').PHOTO_UPDATE_ALL_PHOTO_TAGS:k&&k.$ReactComposerTaggerStore16(l);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);k&&k.$ReactComposerTaggerStore17(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:k&&k.$ReactComposerTaggerStore18(l);break;}});k=this;}j.prototype.hasData=function(k,l){'use strict';var m=this.getTaggerData(k,l);if(m==null)return false;switch(l){case c('ReactComposerTaggerType').PEOPLE:case c('ReactComposerTaggerType').PRODUCT:case c('ReactComposerTaggerType').CONTENT_WARNINGS:return m.length>0;case c('ReactComposerTaggerType').LOCATION:return !!m.place;case c('ReactComposerTaggerType').BACKDATE:return !!m.year;case c('ReactComposerTaggerType').ACTIVITY:return !!m.action&&!!m.object;case c('ReactComposerTaggerType').TARGETING:case c('ReactComposerTaggerType').PUBLISHER_ABTEST_HOLDOUT:case c('ReactComposerTaggerType').MARKDOWN:case c('ReactComposerTaggerType').POLITICAL_INFO:case c('ReactComposerTaggerType').ISSUE_TAG:case c('ReactComposerTaggerType').FUN_FACT:return !c('isEmpty')(m);case c('ReactComposerTaggerType').SPONSOR:return m.sponsors&&m.sponsors.length>0;case c('ReactComposerTaggerType').FORMATTED_TEXT:return !!m.formatActive;case c('ReactComposerTaggerType').STICKER:return !!m.stickerID;case c('ReactComposerTaggerType').MESSAGING:return m.hasCTA;case c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE:return !!m.politicalRepresentative;default:throw new Error(l+' is an unhandled tagger type in '+'ReactComposerTaggerStore.hasData');}};j.prototype.shouldShowNUX=function(k,l){'use strict';var m=this.getComposerData(k);return !!m.taggersShowNUX[l];};j.prototype.shouldShowTooltip=function(k,l){'use strict';var m=this.getComposerData(k);return !!m.taggersShowTooltip[l];};j.prototype.shouldHideTaggerButton=function(k,l){'use strict';var m=this.getComposerData(k);return !!m.shouldHideTaggerButton[l];};j.prototype.areAllTaggersEmpty=function(k){'use strict';var l=this.getTaggersData(k);for(var m in l)if(this.hasData(k,m))return false;return true;};j.prototype.getSelectedTagger=function(k){'use strict';return this.getComposerData(k).selectedTagger;};j.prototype.getAutoFocusOnSelectedTagger=function(k){'use strict';return this.getComposerData(k).autoFocusOnSelectedTagger;};j.prototype.getTaggerSource=function(k,l){'use strict';return this.getComposerData(k).taggersSource[l];};j.prototype.getTaggerData=function(k,l){'use strict';return this.getComposerData(k).taggersData[l];};j.prototype.getTaggersData=function(k){'use strict';return this.getComposerData(k).taggersData;};j.prototype.hasMinutiae=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY);return !!(l&&l.action&&l.object);};j.prototype.hasLocationTag=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').LOCATION);return !!(l&&(l.place||l.implicitLocation));};j.prototype.hasExplicitLocation=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').LOCATION);return !!(l&&l.place);};j.prototype.hasImplicitLocation=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').LOCATION);return !!(l&&l.implicitLocation&&!l.place);};j.prototype.hasBackdate=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').BACKDATE)||{};return !!l.year;};j.prototype.hasMarkdown=function(k){'use strict';return !!this.getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;};j.prototype.hasMessagingCTA=function(k){'use strict';return !!this.getTaggerData(k,c('ReactComposerTaggerType').MESSAGING).hasCTA;};j.prototype.getPoliticalDistrictInfo=function(k){'use strict';return this.getTaggerData(k,c('ReactComposerTaggerType').POLITICAL_INFO);};j.prototype.getNumberOfWithWhoTags=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[];return l.length;};j.prototype.$ReactComposerTaggerStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.selectedTagger=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);if(l.selectedTagger===k.taggerID&&!k.disableToggle){l.selectedTagger=null;}else l.selectedTagger=k.taggerID;l.autoFocusOnSelectedTagger=k.autoFocus;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore5=function(k){'use strict';var l=this.getComposerData(k.composerID);l.taggersSource[k.taggerID]=k.taggerSource;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','taggersSource']),m=l[0],n=l[1],o=this.getComposerData(m);for(var p in n)o.taggersSource[p]=n[p];this.emitChange(m);};j.prototype.$ReactComposerTaggerStore6=function(k){'use strict';var l=this.getComposerData(k.composerID),m=Array.isArray(k.taggerData)?k.taggerData.slice():Object.assign({},k.taggerData);l.taggersData[k.taggerID]=m;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore7=function(k){'use strict';var l=this.getComposerData(k.composerID);l.taggersShowNUX[k.taggerID]=k.showNUX;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore9=function(k){'use strict';var l=this.getComposerData(k.composerID);l.taggersShowTooltip[k.taggerID]=k.showTooltip;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore8=function(k){'use strict';var l=this.validateAction(k,['composerID','taggerID','shouldHideTaggerButton']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.shouldHideTaggerButton[n]=o;this.emitChange(m);};j.prototype.$ReactComposerTaggerStore18=function(k){'use strict';var l=this.getComposerData(k.composerID),m=Object.assign({mediaLocation:k.mediaLocation},l.taggersData[c('ReactComposerTaggerType').LOCATION]);l.taggersData[c('ReactComposerTaggerType').LOCATION]=m;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore10=function(k){'use strict';var l=this.validateAction(k,['composerID','facebox','photoID']),m=l[0],n=l[1],o=l[2],p=n.bestRecognition;if(p)this.$ReactComposerTaggerStore19(m,p.subjectID,p.value,o);};j.prototype.$ReactComposerTaggerStore11=function(k){'use strict';var l=this.validateAction(k,['composerID','subject','value','photoID']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerTaggerStore19(m,n,o,p);};j.prototype.$ReactComposerTaggerStore14=function(k){'use strict';var l=this.validateAction(k,['composerID','photoID']),m=l[0],n=l[1];this.$ReactComposerTaggerStore20(m,n);this.$ReactComposerTaggerStore21(m,n);};j.prototype.$ReactComposerTaggerStore12=function(k){'use strict';var l=this.validateAction(k,['composerID','subject','value','photoID']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerTaggerStore22(m,n,o,p);};j.prototype.$ReactComposerTaggerStore13=function(k){'use strict';var l=this.validateAction(k,['composerID','subjectID','value','photoID']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerTaggerStore19(m,n,o,p);};j.prototype.$ReactComposerTaggerStore15=function(k){'use strict';var l=this.validateAction(k,['composerID','subjectID']),m=l[0],n=l[1];if(!c('ReactComposerPhotoStore').getIsSubjectTagged(m,n))this.$ReactComposerTaggerStore23(m,n);};j.prototype.$ReactComposerTaggerStore16=function(k){'use strict';var l=this.validateAction(k,['composerID','photoID','faceboxes','xyTags']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerTaggerStore20(m,n);o.forEach(function(q){q&&q.taggedSubjectID&&this.$ReactComposerTaggerStore19(m,q.taggedSubjectID,q.taggedValue,n);}.bind(this));p.forEach(function(q){q&&this.$ReactComposerTaggerStore19(m,q.subject,q.name,n);}.bind(this));};j.prototype.$ReactComposerTaggerStore17=function(k){'use strict';var l=this.validateAction(k,'composerID');this.getComposerData(l).$ReactComposerTaggerStore1.forEach(function(m){if(!c('ReactComposerPhotoStore').getIsSubjectTagged(l,m))this.$ReactComposerTaggerStore23(l,m);}.bind(this));};j.prototype.$ReactComposerTaggerStore19=function(k,l,m,n){'use strict';var o=new (c('SearchableEntry'))({uniqueID:l,title:m,auxiliaryData:{isFacebox:true,photos:new (c('Set'))([n])}}),p=this.getComposerData(k),q=p.taggersData[c('ReactComposerTaggerType').PEOPLE],r=q.find(function(t){return t.getUniqueID()===o.getUniqueID();});p.$ReactComposerTaggerStore1=p.$ReactComposerTaggerStore1.add(l);if(r){var s=r.getAuxiliaryData();if(this.$ReactComposerTaggerStore24(r))s.photos.add(n);}else p.taggersData[c('ReactComposerTaggerType').PEOPLE]=q.concat(o);this.emitChange(k);};j.prototype.$ReactComposerTaggerStore22=function(k,l,m,n){'use strict';var o=new (c('SearchableEntry'))({uniqueID:l,title:m,auxiliaryData:{isFacebox:true,photos:new (c('Set'))([n])}}),p=this.getComposerData(k),q=p.taggersData[c('ReactComposerTaggerType').PRODUCT],r=q.find(function(s){return s.getUniqueID()===o.getUniqueID();});if(r){if(this.$ReactComposerTaggerStore24(r))r.getAuxiliaryData().photos.add(n);}else p.taggersData[c('ReactComposerTaggerType').PRODUCT]=q.concat(o);this.emitChange(k);};j.prototype.$ReactComposerTaggerStore23=function(k,l){'use strict';var m=this.getComposerData(k);m.taggersData[c('ReactComposerTaggerType').PEOPLE]=m.taggersData[c('ReactComposerTaggerType').PEOPLE].filter(function(n){return n.getUniqueID()!==l;});m.taggersData[c('ReactComposerTaggerType').PRODUCT]=m.taggersData[c('ReactComposerTaggerType').PRODUCT].filter(function(n){return n.getUniqueID()!==l;});m.$ReactComposerTaggerStore1=m.$ReactComposerTaggerStore1['delete'](l);this.emitChange(k);};j.prototype.$ReactComposerTaggerStore20=function(k,l){'use strict';var m=this.getComposerData(k),n=m.taggersData[c('ReactComposerTaggerType').PEOPLE];this.$ReactComposerTaggerStore25(k,n,l);};j.prototype.$ReactComposerTaggerStore21=function(k,l){'use strict';var m=this.getComposerData(k),n=m.taggersData[c('ReactComposerTaggerType').PRODUCT];this.$ReactComposerTaggerStore25(k,n,l);};j.prototype.$ReactComposerTaggerStore25=function(k,l,m){'use strict';var n=[];for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s.getAuxiliaryData();if(this.$ReactComposerTaggerStore24(s)&&t.photos['delete'](m)&&t.photos.size==0)n.push(s.getUniqueID());}for(var u=n,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var x;if(v){if(w>=u.length)break;x=u[w++];}else{w=u.next();if(w.done)break;x=w.value;}var y=x;this.$ReactComposerTaggerStore23(k,y);}};j.prototype.$ReactComposerTaggerStore24=function(k){'use strict';return k.getAuxiliaryData().photos;};f.exports=new j();}),null);
__d('ReactComposerTaggerActions',['ReactComposerDispatcher','ReactComposerTaggerActionType','ReactComposerTaggerStore'],(function a(b,c,d,e,f,g){h.prototype.deselectCurrentTagger=function(i,j){'use strict';var k=c('ReactComposerTaggerStore').getSelectedTagger(i);if(k){var l={composerID:i,sourceLoggingName:j,type:c('ReactComposerTaggerActionType').DESELECT_TAGGER,taggerID:k};c('ReactComposerDispatcher').dispatch(l);}};h.prototype.selectTagger=function(i,j,k,l){'use strict';var m=c('ReactComposerTaggerStore').getSelectedTagger(i);if(k===m&&l!==true){this.deselectCurrentTagger(i,j);}else{var n={composerID:i,sourceLoggingName:j,type:c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER,taggerID:k,autoFocus:true,disableToggle:l};c('ReactComposerDispatcher').dispatch(n);}};h.prototype.selectTaggerWithoutAutofocus=function(i,j,k){'use strict';var l={composerID:i,sourceLoggingName:j,type:c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER,taggerID:k,autoFocus:false};c('ReactComposerDispatcher').dispatch(l);};h.prototype.updateTaggersSource=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerTaggerActionType').UPDATE_TAGGERS_SOURCE,taggersSource:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setTaggerSource=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerTaggerActionType').SET_TAGGER_SOURCE,taggerID:j,taggerSource:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setTaggerData=function(i,j,k,l){'use strict';this.$ReactComposerTaggerActions1(i,k,l,false,j);};h.prototype.setTaggerDataWithoutLogging=function(i,j,k){'use strict';this.$ReactComposerTaggerActions1(i,j,k,true);};h.prototype.$ReactComposerTaggerActions1=function(i,j,k,l,m){'use strict';var n={composerID:i,sourceLoggingName:m,type:c('ReactComposerTaggerActionType').SET_TAGGER_DATA,taggerID:j,taggerData:k,suppressWaterfallLogging:l};c('ReactComposerDispatcher').dispatch(n);};h.prototype.selectDateTime=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerTaggerActionType').SET_SELECTED_DATETIME,selectedDateTime:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.selectPeople=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerTaggerActionType').SET_SELECTED_PEOPLE,selectedPeople:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.handleSetTaggerShowNUX=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerTaggerActionType').SET_TAGGER_SHOW_NUX,taggerID:j,showNUX:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setShouldHideTaggerButton=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerTaggerActionType').SET_SHOULD_HIDE_TAGGER_BUTTON,taggerID:j,shouldHideTaggerButton:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.handleSetTaggerShowTooltip=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerTaggerActionType').SET_TAGGER_SHOW_TOOLTIP,taggerID:j,showTooltip:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setIsBrandedContentVideo=function(i,j){'use strict';var k={composerID:i,isBrandedContentVideo:j,type:c('ReactComposerTaggerActionType').SET_IS_BRANDED_CONTENT_VIDEO};c('ReactComposerDispatcher').dispatch(k);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerVideoLegacyLimitExceededDialog',['fbt','ErrorDialog'],(function a(b,c,d,e,f,g,h){var i={show:function j(){c('ErrorDialog').show(h._("Too many files"),h._("Please select only one video file at a time."));}};f.exports=i;}),null);
__d('ReactComposerVideoUploadActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({VIDEO_SET_UPLOADER:null,VIDEO_UPLOAD_ADD:null,VIDEO_UPLOAD_REMOVE:null},'ReactComposerVideoUploadActionType');}),null);
__d('ReactComposerVideoUploadStore',['immutable','ReactComposerStoreBase','ReactComposerVideoUploadActionType'],(function a(b,c,d,e,f,g){var h,i,j=c('immutable').Record({file:null});h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {uploader:null,video:null};},function(m){switch(m.type){case c('ReactComposerVideoUploadActionType').VIDEO_SET_UPLOADER:l&&l.$ReactComposerVideoUploadStore1(m);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:l&&l.$ReactComposerVideoUploadStore2(m);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:l&&l.$ReactComposerVideoUploadStore3(m);break;default:}});l=this;}k.prototype.getUploader=function(l){'use strict';return this.getComposerData(l).uploader;};k.prototype.getVideo=function(l){'use strict';return this.getComposerData(l).video;};k.prototype.$ReactComposerVideoUploadStore1=function(l){'use strict';var m=this.validateAction(l,['composerID','uploader']),n=m[0],o=m[1],p=this.getComposerData(n);p.uploader=o;this.emitChange(n);};k.prototype.$ReactComposerVideoUploadStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','file']),n=m[0],o=m[1],p=this.getComposerData(n);p.video=new j({file:o});this.emitChange(n);};k.prototype.$ReactComposerVideoUploadStore3=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.video=null;n.input&&n.input.clear();this.emitChange(m);};f.exports=new k();}),null);
__d('ReactComposerVideoUploadActions',['ReactComposerDispatcher','ReactComposerVideoUploadActionType','ReactComposerVideoUploadStore'],(function a(b,c,d,e,f,g){c('ReactComposerVideoUploadStore');var h={setUploader:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerVideoUploadActionType').VIDEO_SET_UPLOADER,uploader:k});},add:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD,file:k});},remove:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE});}};f.exports=h;}),null);
__d('ReactComposerMediaUtils',['invariant','Arbiter','Bootloader','Map','PUWMethods','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerLoggingName','ReactComposerMediaFilterUtils','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPhotoActions','ReactComposerPhotoLegacyLimitExceededDialog','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoLegacyLimitExceededDialog','ReactComposerVideoUploadActions','ReactComposerVideoUploadStore','VideoUploader','VideoUploadFeatureDetector','VideoUploadFile','curry','uniqueID'],(function a(b,c,d,e,f,g,h){'use strict';var i={clearInput:function j(k,l){var m=this.getFileNamesFromFileInput(k.getInput());if(l||!i.hasVideos(m))k.clear();},getFileNames:function j(k){var l=[];for(var m=0;m<k.length;m++)l.push(k[m].name);return l;},getFileNamesFromFileInput:function j(k){if(c('VideoUploadFeatureDetector').supportsFileAPI()){return this.getFileNames(k.files);}else return [k.value.split('/').pop().split('\\').pop()];},hasVideos:function j(k){return c('ReactComposerMediaFilterUtils').hasVideos(k);},hasAudioFiles:function j(k){return c('ReactComposerMediaFilterUtils').hasAudioFiles(k);},filterVideos:function j(k){return c('ReactComposerMediaFilterUtils').filterVideos(k);},filterAudioFiles:function j(k){return c('ReactComposerMediaFilterUtils').filterAudioFiles(k);},filterFileOfSupportedType:function j(k,l){return c('ReactComposerMediaFilterUtils').filterFileOfSupportedType(k,l);},uploadVideo:function j(k,l){var m=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').PHOTO);if(m.size>0)c('ReactComposerMediaUploadActions').removeAllPhotoUploads(k,m);c('ReactComposerVideoUploadActions').add(k,l);},uploadPhotos:function j(k,l,m,n,o,p){var q=m.isUploadLimitExceeded(n,l);if(q){c('ReactComposerPhotoLegacyLimitExceededDialog').show(m.getMaxSelectableFilesCount(n));return;}var r=l?l.length:1;if(r<1)return;if(c('ReactComposerVideoUploadStore').getVideo(k))c('ReactComposerVideoUploadActions').remove(k);c('ReactComposerMediaUploadActions').photosSelect(k,r,o);p&&p();},uploadVideosFromTarget:function j(k,l,m,n,o){if(o){this.uploadMultiMediaFromTarget(k,l,m,n,o);}else{if(l.files&&l.files.length>1){c('ReactComposerVideoLegacyLimitExceededDialog').show();return;}this.uploadVideo(k,c('VideoUploadFile').fromFileInput(l));}},uploadVideos:function j(k,l,m,n,o,p){if(o){this.uploadMultiMedia(k,l,m,n,c('PUWMethods').FILE_SELECTOR,p);}else{if(l&&l.length>1){c('ReactComposerVideoLegacyLimitExceededDialog').show();return;}this.uploadVideo(k,c('VideoUploadFile').fromFile(l[0]));}},uploadMultiMediaFromTarget:function j(k,l,m,n,o){var p=this.getVideoXUploader(k);p.upload(Array.from(l.files));this.uploadPhotos(k,l.files,m,n,c('PUWMethods').FILE_SELECTOR,function(){m&&m.upload(l);},o);},uploadPhotosOrVideoFromTarget:function j(k,l,m,n,o){var p=this.getFileNamesFromFileInput(l);if(this.hasVideos(p)){this.uploadVideosFromTarget(k,l,m,n,o);}else this.uploadPhotos(k,l.files,m,n,c('PUWMethods').FILE_SELECTOR,function(){m&&m.upload(l);});},uploadMultiMedia:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c('PUWMethods').FILE_SELECTOR:arguments[4],p=arguments[5],q=this.getVideoXUploader(k,p);q.upload(l);var r=l.filter(function(s){return !this.hasVideos([s.name]);}.bind(this));this.uploadPhotos(k,r,m,n,o,function(){r.forEach(function(s){s.uploadID=c('uniqueID')();s.filename='';});m.enqueueAsyncUploadRequest(k,r,{},{},false);});},uploadPhotosOrVideo:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c('PUWMethods').FILE_SELECTOR:arguments[4],p=arguments[5],q=arguments.length<=6||arguments[6]===undefined?null:arguments[6],r=this.getFileNames(l);if(this.hasVideos(r)){this.uploadVideos(k,l,m,n,p,q);}else this.uploadPhotos(k,l,m,n,o,function(){l.forEach(function(s){s.uploadID=c('uniqueID')();s.filename='';});m.enqueueAsyncUploadRequest(k,l,{},{},false);});},subscribeToImageEdit:function j(k,l){return c('Arbiter').subscribe(['AttachmentsPhotoEditor/newImage'+k,'AttachmentsPhotoEditor/tagsUpdated'+k],c('curry')(i.onImageEdited,k,l));},onImageEdited:function j(k,l,m,n){if(m==='AttachmentsPhotoEditor/newImage'+k){var o=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').PHOTO),p=o.find(function(t){return t.photoID===n.fbid||t.originalPhotoID===n.fbid;}),q=c('ReactComposerMediaUploadStore').getUploadIndex(k,p.id);c('ReactComposerPhotoActions').removePhoto(k,p.photoID,p.id);var r=n.blob;r.uploadID=c('uniqueID')();r.name=p.filename||c('uniqueID')();var s=new (c('Map'))([[r.uploadID,q]]);l&&l.enqueueAsyncUploadRequest(k,[r],{data:{original_fbid:n.fbid,xy_tags:n.xyTags,stickers:n.stickers,text_overlays:n.textOverlays,has_crop:n.hasCrop,has_filter:n.hasFilter},indexMap:s},{xyTags:n.xyTags},false);c('ReactComposerMediaUploadActions').photosSelect(k,1,c('PUWMethods').METHOD_EDITOR);}else if(m==='AttachmentsPhotoEditor/tagsUpdated'+k)i.handleFaceboxAndXYTags(k,n.fbid,n.xyTags);c('ReactComposerPhotoActions').finishPhotoEdit(k);},handleFaceboxAndXYTags:function j(k,l,m){c('ReactComposerPhotoActions').untagAllForPhoto(k,l);m.forEach(function(n){if(n.from_facebox){c('ReactComposerPhotoActions').tagFacebox(k,l,n.facebox,n.subject,n.name);}else if(n.is_product_tag){c('ReactComposerPhotoActions').tagXYProduct(k,l,n.name,n.source,n.subject,n.x,n.y);}else c('ReactComposerPhotoActions').tagXY(k,l,n.name,n.source,n.subject,n.x,n.y);});},handleXYTagsOnly:function j(k,l,m){m.forEach(function(n){if(n.from_facebox){return;}else if(n.is_product_tag){c('ReactComposerPhotoActions').tagXYProduct(k,l,n.name,n.source,n.subject,n.x,n.y);}else c('ReactComposerPhotoActions').tagXY(k,l,n.name,n.source,n.subject,n.x,n.y);});},handleVideoUploadForDroppedFiles:function j(k,l,m){var n=c('ReactComposerMediaUploadStore').getUploadsCount(m.composerID)>0;if(n)return false;var o=this.getFileNames(k);if(!o||o.length!==1)return false;var p=i.hasVideos(o);if(p){c('Bootloader').loadModules(["ComposerXVideoUploadDialogController"],function(q){return q.showDialog({targetID:m.targetID,files:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost});},'ReactComposerMediaUtils');return true;}return false;},handleSpecialMediaUpload:function j(event,k,l,m){var n=c('ReactComposerMediaUploadStore').getUploadsCount(m.composerID)>0;if(!l.useVideoUploadDialog||n)return false;var o=event.target;if(!o||!o.files||o.files.length!==1)return false;var p=i.getFileNamesFromFileInput(o),q=i.hasVideos(p),r=i.hasAudioFiles(p);if(r&&l.canUploadAudio){c('Bootloader').loadModules(["ComposerXAudioUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,originalComposerID:m.composerID});},'ReactComposerMediaUtils');return true;}else if(q){c('Bootloader').loadModules(["ComposerXVideoUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost,originalComposerID:m.composerID});},'ReactComposerMediaUtils');return true;}return false;},isMultimediaPost:function j(k){return c('ReactComposerMediaUploadStore').getUploadsCount(k,c('ReactComposerMediaUploadType').VIDEO)>0&&c('ReactComposerMediaUploadStore').getUploadsCount(k,c('ReactComposerMediaUploadType').PHOTO)>0;},getVideoXUploader:function j(k){var l=arguments.length<=1||arguments[1]===undefined?null:arguments[1],m=null;if(l&&l.videoUploadParams){m=l;}else m=c('ReactComposerAttachmentStore').getAttachmentsConfig(k,c('ReactComposerAttachmentType').MEDIA);m||h(0);var n=c('ReactComposerMediaUploadStore').getVideoUploader(k,m.videoUploadParams);return n;},getVideoUploader:function j(k){var l=c('ReactComposerAttachmentStore').getAttachmentsConfig(k,c('ReactComposerAttachmentType').MEDIA);l||h(0);var m=JSON.parse(JSON.stringify(l.videoUploadParams));return new (c('VideoUploader'))(m);},changeToPeopleTaggerAfterUpload:function j(k){var l=c('ReactComposerTaggerStore').getSelectedTagger(k),m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').MEDIA);if(l===null&&m)c('ReactComposerTaggerActions').selectTaggerWithoutAutofocus(k,c('ReactComposerLoggingName').PHOTO_UPLOAD_DONE,c('ReactComposerTaggerType').PEOPLE);}};f.exports=i;}),null);
__d('ReactComposerSlideshowActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_EDIT_SLIDESHOW_DIALOG:null,CREATE:null,DURATION_CHANGE:null,FORMAT_CHANGE:null,HIDE_SLIDESHOW_EDIT_FIELD:null,IMAGE_REMOVE:null,IMAGES_SELECT_CONFIRM:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,SELECT_TAB:null,SHOW_EDIT_SLIDESHOW_DIALOG:null,SHOW_SLIDESHOW_EDIT_FIELD:null,SET_STORYLINE_MOOD_FILES:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_SLIDESHOW_DIALOG:null,TRANSITION_CHANGE:null},'ReactComposerSlideshowActionType');}),null);
__d('SlideshowImageUtil',['invariant','immutable','SlideshowConstants'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('SlideshowConstants').formats,j='-',k=24,l=1.3,m=10,n=460,o=32,p=.8,q={getCroppingSpec:function r(s,t,u,v){if(v&&s){var w=Object.keys(s)[0],x=s[w];return {format:c('SlideshowConstants').formats.Original,topLeft:x[0],bottomRight:x[1]};}return this.getFullSizeImageBoxCroppingSpec({width:u.width?u.width:0,height:u.height?u.height:0},{width:t.width,height:t.height});},shouldCropImages:function r(s){var t=s[0].width,u=s[0].height;for(var v=s,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y;if(z.width!==t||z.height!==u)return true;}return false;},getCrops:function r(s,t,u){var v,w=this.calculateDefaultCoordinates(s,u);return v={},v[t]=w,v;},calculateCropsForFormat:function r(s,t,u){if(!s.size)return c('immutable').Map();var v=c('immutable').Map();switch(t){case i.Original:var w=s.first(),x=u.get(w.key),y=x.height,z=x.width;s.forEach(function(aa){v=v.set(aa.key,this.getCrops(u.get(aa.key),z+c('SlideshowConstants').SIZE_DELIMITER+y,z/y));}.bind(this));break;case i.Wide:s.forEach(function(aa){v=v.set(aa.key,this.getCrops(u.get(aa.key),t,c('SlideshowConstants').LANDSCAPE_ASPECT_RATIO));}.bind(this));break;case i.Square:s.forEach(function(aa){v=v.set(aa.key,this.getCrops(u.get(aa.key),t,c('SlideshowConstants').SQUARE_ASPECT_RATIO));}.bind(this));break;case i.Vertical:s.forEach(function(aa){v=v.set(aa.key,this.getCrops(u.get(aa.key),t,c('SlideshowConstants').VERTICAL_ASPECT_RATIO));}.bind(this));break;default:}return v;},calculateDefaultCoordinates:function r(s,t){var u=void 0,v=void 0;if(s.width/t>s.height){u=s.height;v=s.height*t;}else{v=s.width;u=s.width/t;}var w=(s.width-v)/2,x=(s.height-u)/2,y=Math.floor(w)-w,z=Math.floor(x)-x;return [[w+y,x+z],[Math.round(w+v+y),Math.round(x+u+z)]];},getPreviewBoxDimensions:function r(s,t){var u=t,v=t;if(s.length>0){var w=s[0],x=Object.keys(w)[0];switch(x){case c('SlideshowConstants').formats.Wide:u=t/c('SlideshowConstants').LANDSCAPE_ASPECT_RATIO;break;case c('SlideshowConstants').formats.Vertical:v=t*c('SlideshowConstants').VERTICAL_ASPECT_RATIO;break;case c('SlideshowConstants').formats.Square:break;default:var y=x.split(c('SlideshowConstants').SIZE_DELIMITER),z=Number(y[0]),aa=Number(y[1]);if(z>aa){u=Math.floor(v*aa/z);}else v=Math.floor(u*z/aa);break;}}return {width:v,height:u};},getFullSizeImageBoxCroppingSpec:function r(s,t){var u=t.width/t.height,v=this.calculateDefaultCoordinates(s,u);v.length===2||h(0);return {format:c('SlideshowConstants').formats.Original,topLeft:v[0],bottomRight:v[1]};},getDefaultCroppingSpec:function r(s){var t=this.calculateDefaultCoordinates(s,1);t.length===2||h(0);return {format:c('SlideshowConstants').formats.Square,topLeft:t[0],bottomRight:t[1]};},getHorizontalAlignmentForAPI:function r(s){var t=s.split(j);return t[1];},getFontSize:function r(s){return Math.floor(k*s);},getFontWeight:function r(s){return s?'bold':'normal';},getLineHeight:function r(){return l;},getOpacity:function r(){return p;},getTextoverlayMaxEdge:function r(s,t){return s-o*t*2-m*t*2;},getTextoverlayPadding:function r(s){return m*s;},getTextoverlayMargin:function r(s){return o*s;},getScaleMultiplierFromCrops:function r(s){var t=Object.keys(s)[0],u=t.split(c('SlideshowConstants').SIZE_DELIMITER),v=Number(u[0]),w=Number(u[1]);return q.getScaleMultiplier(v,w);},getScaleMultiplier:function r(s,t){return Math.max(s/n,t/n);},getOuterTextboxCoordinatesForAPI:function r(s,t,u){var v=Object.keys(s)[0],w=v.split(c('SlideshowConstants').SIZE_DELIMITER),x=Number(w[0]),y=Number(w[1]),z=q.calculateTextboxCoordinates(y,x,t,u);return [Math.floor(z.marginLeft),Math.floor(y-z.marginTop-z.textHeight),Math.ceil(z.marginLeft+z.textWidth),Math.ceil(y-z.marginTop)];},getInnerTextboxCoordinatesForAPI:function r(s,t,u){var v=Object.keys(s)[0],w=v.split(c('SlideshowConstants').SIZE_DELIMITER),x=Number(w[0]),y=Number(w[1]),z=q.calculateTextboxCoordinates(y,x,t,u);return [Math.floor(z.marginLeft),Math.floor(y-z.marginTop-z.textHeight),Math.ceil(z.marginLeft+z.textWidth),Math.ceil(y-z.marginTop)];},convertHexToRGBA:function r(s){if(!s)return null;s=s.replace('#','');var t=parseInt(s.substring(0,2),16),u=parseInt(s.substring(2,4),16),v=parseInt(s.substring(4,6),16);return 'rgba('+t+','+u+','+v+','+q.getOpacity()+')';},calculateTextboxCoordinates:function r(s,t,u,v){var w=u.text_alignment.split(j),x=w[1],y=w[0],z=q.getFontSize(v),aa=q.getTextoverlayMaxEdge(t,v),ba=q.getTextoverlayMaxEdge(s,v),ca=document.createElement('div');ca.textContent=u.textoverlay_content?u.textoverlay_content:'';ca.style.visibility='hidden';ca.style.display='inline-block';ca.style.wordWrap='break-word';ca.style.whiteSpace='pre-wrap';ca.style.fontFamily=u.font;ca.style.fontWeight=q.getFontWeight(u.bold);ca.style.fontSize=z+'px';ca.style.textAlign=x;ca.style.maxWidth=aa+'px';ca.style.maxHeight=ba+'px';ca.style.lineHeight=q.getLineHeight()*z+'px';ca.style.padding=q.getTextoverlayPadding(v)+'px';ca.style.letterSpacing='0.2px';document.body.appendChild(ca);var da=ca.clientWidth,ea=ca.clientHeight;document.body.removeChild(ca);var fa=o*v,ga=o*v,ha=t-o*v,ia=s-o*v;if(x=='center'){fa=Math.min((t-da)/2,ha);}else if(x=='right')fa=Math.min(t-o*v-da,ha);if(y=='center'){ga=Math.min((s-ea)/2,ia);}else if(y=='bottom')ga=Math.min(s-o*v-ea,ia);return {marginLeft:fa,marginTop:ga,textHeight:ea,textWidth:da};}};f.exports=q;}),null);
__d('mergeDeepInto',['invariant','mergeHelpers'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('mergeHelpers').ArrayStrategies,j=c('mergeHelpers').checkArrayStrategy,k=c('mergeHelpers').checkMergeArrayArgs,l=c('mergeHelpers').checkMergeLevel,m=c('mergeHelpers').checkMergeObjectArgs,n=c('mergeHelpers').isTerminal,o=c('mergeHelpers').normalizeMergeArg,p=function t(u,v,w,x){m(u,v);l(x);var y=v?Object.keys(v):[];for(var z=0;z<y.length;z++){var aa=y[z];r(u,v,aa,w,x);}},q=function t(u,v,w,x){k(u,v);l(x);if(w===i.Concat){u.push.apply(u,v);}else{var y=Math.max(u.length,v.length);for(var z=0;z<y;z++)r(u,v,z,w,x);}},r=function t(u,v,w,x,y){var z=v[w],aa=Object.prototype.hasOwnProperty.call(v,w),ba=aa&&n(z),ca=aa&&Array.isArray(z),da=aa&&!ca&&!ca,ea=u[w],fa=Object.prototype.hasOwnProperty.call(u,w),ga=fa&&n(ea),ha=fa&&Array.isArray(ea),ia=fa&&!ha&&!ha;if(ga){if(ba){u[w]=z;}else if(ca){u[w]=[];q(u[w],z,x,y+1);}else if(da){u[w]={};p(u[w],z,x,y+1);}else if(!aa)u[w]=ea;}else if(ha){if(ba){u[w]=z;}else if(ca){i[x]||h(0);if(x===i.Clobber)ea.length=0;q(ea,z,x,y+1);}else if(da){u[w]={};p(u[w],z,x,y+1);}else !aa;}else if(ia){if(ba){u[w]=z;}else if(ca){u[w]=[];q(u[w],z,x,y+1);}else if(da){p(ea,z,x,y+1);}else !aa;}else if(!fa)if(ba){u[w]=z;}else if(ca){u[w]=[];q(u[w],z,x,y+1);}else if(da){u[w]={};p(u[w],z,x,y+1);}else !aa;},s=function t(u,v,w){var x=o(v);j(w);p(u,x,w,0);};f.exports=s;}),null);
__d('ReactComposerSelectedImagesStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowImageUtil','mergeDeepInto'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('SlideshowConstants').formats,k=c('SlideshowConstants').max_photo_num;h=babelHelpers.inherits(l,c('ReactComposerStoreBase'));i=h&&h.prototype;l.prototype.$ReactComposerSelectedImagesStore1=function(m,n,o){var p;if(m.isLoading)return {};var q=c('SlideshowImageUtil').calculateDefaultCoordinates({width:m.width,height:m.height},o);return p={},p[n]=q,p;};l.prototype.$ReactComposerSelectedImagesStore2=function(m,n,o){var p=o;if(!p)p=this.getComposerData(m).format;return this.$ReactComposerSelectedImagesStore3(n,p);};l.prototype.$ReactComposerSelectedImagesStore3=function(m,n){if(!m.length)return [];switch(n){case j.Original:var o=m[0];return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,o.width+c('SlideshowConstants').SIZE_DELIMITER+o.height,o.width/o.height);}.bind(this));case j.Wide:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').LANDSCAPE_ASPECT_RATIO);}.bind(this));case j.Square:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').SQUARE_ASPECT_RATIO);}.bind(this));case j.Vertical:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').VERTICAL_ASPECT_RATIO);}.bind(this));default:return [];}};function l(){var m=void 0;i.constructor.call(this,function(){return {selectedImages:[],imagesCrops:[],editState:null,format:c('SlideshowConstants').formats.Original,removedUploadIDs:[],addedUploadIDs:[]};},function(n){switch(n.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore4(n);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore5(n);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:m&&m.$ReactComposerSelectedImagesStore6(n);break;case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:m&&m.$ReactComposerSelectedImagesStore7(n);break;case c('ReactComposerSlideshowActionType').REORDER_IMAGES:m&&m.$ReactComposerSelectedImagesStore8(n);break;case c('ReactComposerSlideshowActionType').FORMAT_CHANGE:m&&m.$ReactComposerSelectedImagesStore9(n);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore10(n);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:m&&m.$ReactComposerSelectedImagesStore11(n);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore12(n);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore13(n);break;case c('ReactComposerSlideshowActionType').CREATE:m&&m.$ReactComposerSelectedImagesStore14(n);break;default:break;}});m=this;}l.prototype.$ReactComposerSelectedImagesStore4=function(m){var n=m.composerID,o=this.getComposerData(n),p=c('ReactComposerMediaUploadStore').getUploads(n),q=this.addNewImagesFromPhotoUploads(p,o.selectedImages,o.removedUploadIDs);o.selectedImages=o.selectedImages.concat(q);if(o.editState!==null)o.addedUploadIDs=o.addedUploadIDs.concat(q.map(function(r){return r.key;}));this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore5=function(m){var n=m.composerID,o=this.getComposerData(n),p=c('ReactComposerPhotoStore').getPhotos(n);o.selectedImages=this.replacePhotoUploadsFromPhotos(p,o.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore11=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=[];o.imagesCrops=[];this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore10=function(m){var n=m.composerID,o=this.getComposerData(n);if(!m.shouldShowSlideshowDialog){o.selectedImages=[];o.imagesCrops=[];}this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore6=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=o.selectedImages.concat(m.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore7=function(m){var n=m.composerID,o=this.getComposerData(n);if(o.editState!==null)o.removedUploadIDs.push(m.removeImage.key);var p=o.selectedImages.filter(function(q){return q.key!==m.removeImage.key;});o.selectedImages=p;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,p);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore8=function(m){var n=m.composerID,o=this.getComposerData(n),p=m.data,q=p.fromIndex,r=p.toIndex,s=o.selectedImages.slice(0),t=Object.assign({},s[q]);s[q].remove=true;s.splice(q>r?r:r+1,0,t);s=s.filter(function(u){return !u.remove;});o.selectedImages=s;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,s);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore9=function(m){var n=m.composerID,o=this.getComposerData(n);o.format=m.format;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages,m.format);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore12=function(m){var n=m.composerID,o=this.getComposerData(n),p={};c('mergeDeepInto')(p,o);o.editState=p;this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore13=function(m){var n=m.composerID,o=this.getComposerData(n),p=o.editState;o.selectedImages=p.selectedImages;o.imagesCrops=p.imagesCrops;o.format=p.format;o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore14=function(m){var n=m.composerID,o=this.getComposerData(n);o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n);};l.prototype.getImagesFromPhotoUploads=function(m){var n=[];m.forEach(function(o){n.push({height:null,isLoading:true,key:o.id,url:null,width:null});});return n;};l.prototype.addNewImagesFromPhotoUploads=function(m,n,o){var p=this.getImagesFromPhotoUploads(m),q=p.filter(function(r){var s=n.findIndex(function(u){return u.key===r.key;}),t=o.findIndex(function(u){return u===r.key;});return s===-1&&t===-1;});return q;};l.prototype.replacePhotoUploadsFromPhotos=function(m,n){return n.map(function(o){var p=o,q=m.find(function(r){return r.uploadID===o.key;});if(q!=null)p={height:q.height,isLoading:false,key:q.uploadID,photoID:q.id,thumbSrc:q.thumbSrc,url:q.imageSrc,width:q.width};return p;});};l.prototype.getPhotoIDs=function(m){var n=this.getComposerData(m);return n.selectedImages.map(function(o){return o.photoID;}).slice(0,k);};l.prototype.getRemovedUploadIDs=function(m){return this.getComposerData(m).removedUploadIDs;};l.prototype.getAddedUploadIDs=function(m){return this.getComposerData(m).addedUploadIDs;};l.prototype.getSelectedImages=function(m){return this.getComposerData(m).selectedImages;};l.prototype.getThumbnailSrc=function(m){var n=this.getComposerData(m).selectedImages;if(n.length>0)return n[0].thumbSrc;return null;};l.prototype.getImagesCrops=function(m){return this.getComposerData(m).imagesCrops;};l.prototype.getNumberOfImages=function(m){return Math.min(this.getComposerData(m).selectedImages.length,k);};l.prototype.getFormat=function(m){return this.getComposerData(m).format;};f.exports=new l();}),null);
__d('ReactComposerSlideshowActions',['ReactComposerDispatcher','ReactComposerSlideshowActionType'],(function a(b,c,d,e,f,g){var h={showSlideshowEditField:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD});},hideSlideshowEditField:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD});},showSlideshowDialog:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,entrypoint:k,shouldShowSlideshowDialog:true,type:c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG});},closeSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,shouldShowSlideshowDialog:false,type:c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG});},showEditSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG});},closeEditSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG});},selectImagesConfirm:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedImages:k,type:c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM});},removeImage:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,removeImage:k,type:c('ReactComposerSlideshowActionType').IMAGE_REMOVE});},reorderImages:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,data:{fromIndex:k,toIndex:l},type:c('ReactComposerSlideshowActionType').REORDER_IMAGES});},changeStorylineMoodFile:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedStorylineMood:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE});},deleteStorylineMoodFile:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedStorylineMood:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE});},changeStorylineMoodIDSource:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodIDSource:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE});},changeStorylineMoodSourceMap:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodIDToSource:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE});},changeTransition:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,transitionInMS:k,type:c('ReactComposerSlideshowActionType').TRANSITION_CHANGE});},changeDuration:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,durationInMS:k,type:c('ReactComposerSlideshowActionType').DURATION_CHANGE});},setStorylineMoodFiles:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodFiles:k,type:c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES});},createSlideshow:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').CREATE});},changeFormat:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,format:k,type:c('ReactComposerSlideshowActionType').FORMAT_CHANGE});},selectTab:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,tab:k,type:c('ReactComposerSlideshowActionType').SELECT_TAB});},musicCategorySelect:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedMusicCategory:k,type:c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT});},previewStateChange:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,isPreviewPlaying:k,type:c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE});},audioFileUploadStarted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED});},audioFileUploadError:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR});},audioFileUploadSuccess:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,uploadedMood:k,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS});}};f.exports=h;}),null);
__d('SlideshowFlowTypes',[],(function a(b,c,d,e,f,g){'use strict';var h={SETTINGS_TAB:'SETTINGS_TAB',MUSIC_TAB:'MUSIC_TAB',FRAMES_TAB:'FRAMES_TAB'};f.exports={SlideshowTabKey:h};}),null);
__d('ReactComposerSlideshowStore',['ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowFlowTypes','mergeDeepInto'],(function a(b,c,d,e,f,g){var h,i,j=c('SlideshowFlowTypes').SlideshowTabKey;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {durationInMS:1000,editState:null,isSlideshowSelected:false,selectedTab:j.SETTINGS_TAB,shouldShowSlideshowDialog:false,transitionInMS:c('SlideshowConstants').transitions.None};},function(m){switch(m.type){case c('ReactComposerSlideshowActionType').CREATE:l&&l.$ReactComposerSlideshowStore1(m);break;case c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore2(m);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore3(m);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore4(m);break;case c('ReactComposerSlideshowActionType').TRANSITION_CHANGE:l&&l.$ReactComposerSlideshowStore5(m);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:l&&l.$ReactComposerSlideshowStore6(m);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore7(m);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore8(m);break;case c('ReactComposerSlideshowActionType').SELECT_TAB:l&&l.$ReactComposerSlideshowStore9(m);break;default:break;}});l=this;}k.prototype.$ReactComposerSlideshowStore1=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;n.shouldShowSlideshowDialog=false;n.editState=null;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore9=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedTab=l.tab;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore2=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore3=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=false;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore4=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=l.shouldShowSlideshowDialog;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore5=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=l.transitionInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore6=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.durationInMS=l.durationInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore7=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o={};c('mergeDeepInto')(o,n);n.editState=o;n.shouldShowSlideshowDialog=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore8=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=false;n.isSlideshowSelected=true;var o=n.editState;n.durationInMS=o.durationInMS;n.transitionInMS=o.transitionInMS;n.editState=null;this.emitChange(m);};k.prototype.isSlideshowSelected=function(l){'use strict';return this.getComposerData(l).isSlideshowSelected;};k.prototype.isEditing=function(l){'use strict';return this.getComposerData(l).editState!==null;};k.prototype.shouldShowSlideshowDialog=function(l){'use strict';return this.getComposerData(l).shouldShowSlideshowDialog;};k.prototype.getDurationInMS=function(l){'use strict';return this.getComposerData(l).durationInMS;};k.prototype.getTotalLength=function(l,m){'use strict';return this.getDurationInMS(l)*m+this.getTransitionInMS(l)*m;};k.prototype.getTransitionInMS=function(l){'use strict';return this.getComposerData(l).transitionInMS;};k.prototype.getSelectedTab=function(l){'use strict';return this.getComposerData(l).selectedTab;};f.exports=new k();}),null);
__d('SlideshowAudioUtil',['ix','Image.react','React','SlideshowMusicCategory','fbglyph'],(function a(b,c,d,e,f,g,h){'use strict';var i={getMusicCategoryGlyph:function j(k){switch(k){case c('SlideshowMusicCategory').ALL_TRACKS:return c('React').createElement(c('Image.react'),{src:h("129467")});case c('SlideshowMusicCategory').USER_UPLOADED:return c('React').createElement(c('Image.react'),{src:h("128769")});case c('SlideshowMusicCategory').RECENTLY_USED:return c('React').createElement(c('Image.react'),{src:h("129053")});case c('SlideshowMusicCategory').ENERGETIC:return c('React').createElement(c('Image.react'),{src:h("128852")});case c('SlideshowMusicCategory').INSPIRATIONAL:return c('React').createElement(c('Image.react'),{src:h("128909")});case c('SlideshowMusicCategory').FUN:return c('React').createElement(c('Image.react'),{src:h("129302")});case c('SlideshowMusicCategory').TRUSTWORTHY:return c('React').createElement(c('Image.react'),{src:h("128881")});case c('SlideshowMusicCategory').MODERN:return c('React').createElement(c('Image.react'),{src:h("129337")});default:return null;}},storylineMoodCompare:function j(k,l){if(!k&&!l){return true;}else if(!k||!l)return false;return k.fileName===l.fileName&&k.moodID===l.moodID&&JSON.stringify(k.categories)===JSON.stringify(l.categories);}};f.exports=i;}),null);
__d("XSlideshowShakrOAuthController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/slideshow\/shakr\/",{});}),null);
__d("XSlideshowShakrPollController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/slideshow\/shakr\/show\/",{});}),null);
__d("XSlideshowStorylineMoodAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/slideshow\/storyline_mood\/",{target_id:{type:"FBID"}});}),null);
__d("XSlideshowStorylineMoodDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/slideshow\/storyline_mood\/delete\/",{});}),null);
__d("XSlideshowStorylineMoodUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/slideshow\/storyline_mood\/upload\/",{});}),null);
__d("XSlideshowVideoFrameImagesAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/slideshow\/frame_images\/",{request_type:{type:"Enum",enumType:0},video_id:{type:"FBID"}});}),null);
__d('SlideshowDataManager',['AsyncRequest','Bootloader','SlideshowFrameImagesRequestType','XSlideshowShakrOAuthController','XSlideshowShakrPollController','XSlideshowStorylineMoodAsyncController','XSlideshowStorylineMoodDeleteController','XSlideshowStorylineMoodUploadController','XSlideshowVideoFrameImagesAsyncController','immutable'],(function a(b,c,d,e,f,g){'use strict';h.prototype.fetchStorylineMoodSource=function(i,j,k){var l=c('XSlideshowStorylineMoodAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).setData({storyline_mood_id:i,total_length:j}).setMethod('POST').setHandler(function(m){return k(m.payload);}).send();};h.prototype.fetchStorylineMoodFiles=function(i,j){var k=c('XSlideshowStorylineMoodAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setMethod('GET').setData({target_id:j}).setReadOnly(true).setHandler(function(l){return i(this.getStorylineMoodFiles(l.payload));}.bind(this)).send();};h.prototype.getStorylineMoodFiles=function(i){var j=[];Object.keys(i).forEach(function(k){j.push({moodID:k,fileName:i[k].fileName,categories:i[k].categories,source:null});});return c('immutable').List(j);};h.prototype.scheduleFrameImagesAsyncJob=function(i){var j=c('XSlideshowVideoFrameImagesAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setData({request_type:c('SlideshowFrameImagesRequestType').SCHEDULE_ASYNC_JOB,video_id:i}).setMethod('POST').send();};h.prototype.fetchVideoFrameImages=function(i,j){var k=c('XSlideshowVideoFrameImagesAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setData({request_type:c('SlideshowFrameImagesRequestType').FETCH_FRAME_IMAGES,video_id:j}).setMethod('POST').setHandler(function(l){return i(l.payload);}).send();};h.prototype.uploadAudioFile=function(i,j,k,l){if(!i||!i.input||!i.input.files.length)return;var m=c('XSlideshowStorylineMoodUploadController').getURIBuilder().getURI(),n=new FormData();n.append('audio_file',i.input.files[0]);n.append('target_id',j);new (c('AsyncRequest'))().setURI(m).setRawData(n).setMethod('POST').setErrorHandler(function(o){return l();}).setHandler(function(o){return this.$SlideshowDataManager1(o.payload,k,l);}.bind(this)).send();i.clear();};h.prototype.$SlideshowDataManager1=function(i,j,k){if(i.success){j({moodID:i.moodID,fileName:i.fileName,categories:i.categories,source:null});}else k();};h.prototype.deleteAudioFile=function(i){var j=c('XSlideshowStorylineMoodDeleteController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(j).setData({mood_id:i}).setMethod('POST').send();};h.prototype.getShakrScopeToken=function(i){var j=c('XSlideshowShakrOAuthController').getURIBuilder();new (c('AsyncRequest'))().setURI(j.getURI()).setHandler(function(k){return i(k.payload);}).send();};h.prototype.pollShakrForVideoURL=function(i,j){var k=c('XSlideshowShakrPollController').getURIBuilder();new (c('AsyncRequest'))().setURI(k.getURI()).setData({show_id:i}).setHandler(function(l){return j(l.payload);}).send();};function h(){}f.exports=new h();}),null);
__d('SlideshowUtil',['SlideshowConstants','SlideshowImageUtil','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=1000,i=2,j={getDurationParam:function k(l,m,n){var o=Math.min(l,c('SlideshowConstants').max_photo_num),p=h*m,q=n*(o-1),r=Math.floor((p-q)/o);return {durationInMS:r,transitionInMS:n};},getTotalLengthInSec:function k(l,m){var n=Math.min(m,c('SlideshowConstants').max_photo_num);return Math.round(l*n/h);},getMaximumTotalLengthInMS:function k(){var l=c('SlideshowConstants').max_photo_num,m=c('SlideshowConstants').image_duration_in_sec_options.slice(-1)[0];return l*m*h;},getTotalNumFramesFromVideo:function k(){return c('SlideshowConstants').frames_from_video.default_num_selected_frames+i;},getSelectedFramesFromVideo:function k(l,m){var n=l.length>=m+2?2:0,o=l.length-n,p=n==2?1:0,q=o+p,r=c('immutable').List(),s=Math.max(1,(o-1)/(m-1));while(p<q){r=r.push(l[Math.floor(p)]);p+=s;}return r;},convertHexToRGB:function k(l,m){if(!l)return null;l=l.replace('#','');var n=parseInt(l.substring(0,2),16),o=parseInt(l.substring(2,4),16),p=parseInt(l.substring(4,6),16),q=m?1:c('SlideshowImageUtil').getOpacity();return [Math.round(255*q),n,o,p];},getTextoverlayParam:function k(l,m){if(!l.textoverlay_content)return [{text_content:' ',textbox_coordinates:[0,0,0,0]}];var n=c('SlideshowImageUtil').getScaleMultiplierFromCrops(m);return [{background_color:j.convertHexToRGB(l.background_color,false),text_content:' ',textbox_coordinates:c('SlideshowImageUtil').getOuterTextboxCoordinatesForAPI(m,l,n)},{text_content:l.textoverlay_content,textbox_coordinates:c('SlideshowImageUtil').getInnerTextboxCoordinatesForAPI(m,l,n),text_color:j.convertHexToRGB(l.font_color,true),text_font:l.font==='Helvetica Neue Slideshow'?'Helvetica Neue':l.font,text_weight:l.bold,text_halign:c('SlideshowImageUtil').getHorizontalAlignmentForAPI(l.text_alignment),text_size:c('SlideshowImageUtil').getFontSize(n)}];}};f.exports=j;}),null);
__d('ReactComposerSlideshowAudioStore',['immutable','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerSelectedImagesStore','ReactComposerSlideshowActions','ReactComposerSlideshowActionType','ReactComposerSlideshowStore','ReactComposerStoreBase','SlideshowAudioUtil','SlideshowDataManager','SlideshowMusicCategory','SlideshowUtil','mergeDeepInto'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {audioFileUploadInfo:{isUploading:false,hasError:false},editState:null,isPreviewPlaying:false,recentlyUsedStorylineMoods:c('immutable').List(),selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:c('immutable').List(),storylineMoodIDToSource:c('immutable').Map()};},function(l){switch(l.type){case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,false);});break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE:k&&k.$ReactComposerSlideshowAudioStore2(l);k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,true);});break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE:k&&k.$ReactComposerSlideshowAudioStore3(l);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore4(l);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore5(l);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES:k&&k.$ReactComposerSlideshowAudioStore6(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore7(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore8(l);break;case c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT:k&&k.$ReactComposerSlideshowAudioStore9(l);break;case c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore10(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED:k&&k.$ReactComposerSlideshowAudioStore11(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR:k&&k.$ReactComposerSlideshowAudioStore12(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS:k&&k.$ReactComposerSlideshowAudioStore13(l);break;default:break;}});k=this;}j.prototype.$ReactComposerSlideshowAudioStore1=function(k,l){'use strict';var m=k.composerID,n=this.getComposerData(m),o=n.selectedStorylineMood;if(!o)return;var p=o.moodID,q=this.getNumberOfImages(m),r=q===0?c('SlideshowUtil').getMaximumTotalLengthInMS():this.getTotalLength(m,q),s=this.getStorylineMoodIDToSource(m);c('SlideshowDataManager').fetchStorylineMoodSource(p,r,function(t){c('ReactComposerSlideshowActions').changeStorylineMoodIDSource(m,t);s=s.set(p,t);c('ReactComposerSlideshowActions').changeStorylineMoodSourceMap(m,s);if(l)l();});n.selectedStorylineMood.source=s.get(p);this.emitChange(m);};j.prototype.$ReactComposerSlideshowAudioStore11=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=true;m.audioFileUploadInfo.hasError=false;m.selectedMusicCategory=c('SlideshowMusicCategory').USER_UPLOADED;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore12=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=true;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore13=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=false;m.storylineMoodFiles=m.storylineMoodFiles.unshift(k.uploadedMood);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore9=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedMusicCategory=k.selectedMusicCategory;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n={};c('mergeDeepInto')(n,m);m.editState=n;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=m.editState;m.selectedStorylineMood=n.selectedStorylineMood;m.selectedMusicCategory=n.selectedMusicCategory;m.editState=null;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedStorylineMood=k.selectedStorylineMood;if(k.selectedStorylineMood!=null)m.recentlyUsedStorylineMoods=m.recentlyUsedStorylineMoods.unshift(k.selectedStorylineMood);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=k.selectedStorylineMood;if(c('SlideshowAudioUtil').storylineMoodCompare(n,m.selectedStorylineMood)){m.selectedStorylineMood=null;m.isPreviewPlaying=false;}m.storylineMoodFiles=m.storylineMoodFiles.filter(function(o){return !c('SlideshowAudioUtil').storylineMoodCompare(o,n);});c('SlideshowDataManager').deleteAudioFile(n.moodID);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(!m.selectedStorylineMood)return;m.selectedStorylineMood.source=k.storylineMoodIDSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodIDToSource=k.storylineMoodIDToSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore10=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPreviewPlaying=k.isPreviewPlaying;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodFiles=k.storylineMoodFiles;this.emitChange(l);};j.prototype.getNumberOfImages=function(k){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);return c('ReactComposerSelectedImagesStore').getNumberOfImages(k);};j.prototype.getStorylineMoodFiles=function(k){'use strict';return this.getComposerData(k).storylineMoodFiles.toArray();};j.prototype.getRecentlyUsedStorylineMoods=function(k){'use strict';return this.getComposerData(k).recentlyUsedStorylineMoods.toArray();};j.prototype.getSelectedStorylineMood=function(k){'use strict';return this.getComposerData(k).selectedStorylineMood;};j.prototype.getStorylineMoodIDToSource=function(k){'use strict';return this.getComposerData(k).storylineMoodIDToSource;};j.prototype.getSelectedMusicCategory=function(k){'use strict';return this.getComposerData(k).selectedMusicCategory;};j.prototype.getIsPreviewPlaying=function(k){'use strict';return this.getComposerData(k).isPreviewPlaying;};j.prototype.getAudioFileUploadInfo=function(k){'use strict';return this.getComposerData(k).audioFileUploadInfo;};j.prototype.getTotalLength=function(k,l){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);return c('ReactComposerSlideshowStore').getTotalLength(k,l);};f.exports=new j();}),null);
__d('ReactComposerStatusActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_EDITOR_STATE:null,SET_ORIGINAL_EDITOR_STATE:null,SET_TEXT_LENGTH:null,SET_MENTIONS:null,SET_MENTIONS_SOURCE:null,SET_TYPEAHEAD_REPORTER:null},'ReactComposerStatusActionType');}),null);
__d('getImplicitURLMatches',['URLMatcher'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){var k=i.getText(),l=0,m;while((m=c('URLMatcher').match(k))!==null){var n=k.indexOf(m),o=n+m.length;j(l+n,l+o);l+=o;k=k.substring(o);}}f.exports=h;}),null);
__d('getImplicitURLRangesForContentState',['getImplicitURLMatches'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.getBlockMap().map(function(j){var k=[];c('getImplicitURLMatches')(j,function(l,m){k.push({start:l,end:m});});return k;}).toArray();}f.exports=h;}),null);
__d('getMentionsTextForContentState',['DraftEntity','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=c('emptyFunction').thatReturnsTrue,i=/[\\\]:]/g;function j(l){var m=arguments.length<=1||arguments[1]===undefined?'':arguments[1],n=l.getBlockMap().map(function(o){var p=o.getText(),q=[];o.findEntityRanges(h,function(r,s){q.push(k(p.slice(r,s),o.getEntityAt(r)));});return q.join('');});return n.join('\n'+m);}function k(l,m){if(m){var n=c('DraftEntity').get(m);if(n.getType()==='MENTION'){l=l.replace(i,function(p){return '\\'+p;});var o=n.getData().id;if(/^\d+$/.test(o))return '@['+o+':'+l+']';}else if(n.getType()==='EMOTICON'){return n.getData().originalEmoticon;}else if(n.getType()==='EMOJI')return n.getData().emoji.join('');}return l.replace('@[','@ [');}f.exports=j;}),null);
__d('getRichComposedTextDataForSave',['ComposedEntityType','UnicodeUtils','URI'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.encodedContent,k=i.implicitLinks,l=j.blocks,m=j.entityMap;k=k||[];var n=Object.keys(m).map(function(q){return Number(q);}),o=n.length?Math.max.apply(Math,n):0,p=o+1;k.forEach(function(q,r){q.forEach(function(s){var t=s.start,u=s.end,v=l[r],w=v.text,x=v.entityRanges,y=p++,z=c('UnicodeUtils').strlen(w.slice(0,t)),aa=c('UnicodeUtils').strlen(w.slice(t,u)),ba=l[r].entityRanges.some(function(ha){return ha.offset<z+aa&&ha.offset+ha.length>z;});if(ba)return;var ca={offset:z,length:aa,key:y},da=l[r].text.slice(t,u),ea=new (c('URI'))(da),fa=ea.getProtocol();if(!fa)ea.setProtocol('http');var ga={id:null,type:c('ComposedEntityType').IMPLICIT_LINK,data:{url:ea.toString()}};x.push(ca);m[String(y)]=ga;});});return {blocks:l.map(function(q){return q.text;}),block_depths:l.map(function(q){return q.depth;}),block_types:l.map(function(q){return q.type;}),entities:l.map(function(q){return JSON.stringify(q.entityRanges);}),entity_map:JSON.stringify(m),inline_styles:l.map(function(q){return JSON.stringify(q.inlineStyleRanges);})};}f.exports=h;}),null);
__d('ReactComposerStatusStore',['ComposedBlockType','ComposedEntityType','ReactComposerStatusActionType','ReactComposerStoreBase','ReactComposerTaggerStore','encodeBlocks','getImplicitURLRangesForContentState','getMentionsTextForContentState','getRichComposedTextDataForSave'],(function a(b,c,d,e,f,g){var h,i;function j(l){for(var m=l.blocks,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;if(q.type!==c('ComposedBlockType').UNSTYLED||q.inlineStyleRanges.length!==0)return true;}for(var r in l.entityMap){var s=l.entityMap[r];if(s.type!==c('ComposedEntityType').MENTION)return true;}return false;}h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {editorState:null,length:0,mentionsSource:null,originalEditorState:null,typeaheadReporter:null,mentions:null};},function(m){switch(m.type){case c('ReactComposerStatusActionType').SET_MENTIONS_SOURCE:l&&l.$ReactComposerStatusStore1(m);break;case c('ReactComposerStatusActionType').SET_TYPEAHEAD_REPORTER:l&&l.$ReactComposerStatusStore2(m);break;case c('ReactComposerStatusActionType').SET_EDITOR_STATE:l&&l.$ReactComposerStatusStore3(m);break;case c('ReactComposerStatusActionType').SET_ORIGINAL_EDITOR_STATE:l&&l.$ReactComposerStatusStore4(m);break;case c('ReactComposerStatusActionType').SET_MENTIONS:l&&l.$ReactComposerStatusStore5(m);break;case c('ReactComposerStatusActionType').SET_TEXT_LENGTH:l&&l.$ReactComposerStatusStore6(m);break;}});l=this;}k.prototype.getMentionsSource=function(l){'use strict';return this.getComposerData(l).mentionsSource;};k.prototype.getTypeaheadReporter=function(l){'use strict';return this.getComposerData(l).typeaheadReporter;};k.prototype.getEditorState=function(l){'use strict';return this.getComposerData(l).editorState;};k.prototype.getOriginalEditorState=function(l){'use strict';return this.getComposerData(l).originalEditorState;};k.prototype.getMentions=function(l){'use strict';return this.getComposerData(l).mentions;};k.prototype.getMessage=function(l){var m=arguments.length<=1||arguments[1]===undefined?false:arguments[1];'use strict';var n=this.getEditorState(l);if(!n)return '';var o=n.getCurrentContent(),p=m?'\n':'';return c('getMentionsTextForContentState')(o,p);};k.prototype.getMessageText=function(l){'use strict';var m=this.getEditorState(l);if(!m)return '';var n=m.getCurrentContent();return n?n.getPlainText():'';};k.prototype.getRichTextBlocks=function(l){'use strict';var m=c('ReactComposerTaggerStore').hasMarkdown(l);if(m)return null;var n=this.getEditorState(l);if(!n)return null;var o=n.getCurrentContent(),p=c('encodeBlocks')(o);if(!j(p))return null;var q={encodedContent:p,implicitLinks:c('getImplicitURLRangesForContentState')(o)};return c('getRichComposedTextDataForSave')(q);};k.prototype.getOriginalMessageText=function(l){'use strict';var m=this.getOriginalEditorState(l);if(!m)return '';var n=m.getCurrentContent();return n?n.getPlainText():'';};k.prototype.getTextLength=function(l){'use strict';return this.getComposerData(l).textLength;};k.prototype.$ReactComposerStatusStore1=function(l){'use strict';var m=this.getComposerData(l.composerID);m.mentionsSource=l.mentionsSource;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore2=function(l){'use strict';var m=this.getComposerData(l.composerID);m.typeaheadReporter=l.typeaheadReporter;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore3=function(l){'use strict';var m=this.getComposerData(l.composerID);m.editorState=l.editorState;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore4=function(l){'use strict';var m=this.getComposerData(l.composerID);m.originalEditorState=l.originalEditorState;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore5=function(l){'use strict';var m=this.getComposerData(l.composerID);m.mentions=l.mentions;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','textLength']),n=m[0],o=m[1],p=this.getComposerData(n);p.textLength=o;this.emitChange(n);};f.exports=new k();}),null);
__d('ReactComposerTaggerButton.react',['cx','React','Tooltip.react','TooltipLink.react','emptyFunction','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerTaggerButton',propTypes:{taggerID:i.string.isRequired,title:i.string,tooltip:i.string,selected:i.bool,hasData:i.bool,onSelect:i.func,suppressTaggerLink:i.bool},getDefaultProps:function k(){return {title:null,tooltip:null,selected:false,hasData:false,onSelect:c('emptyFunction'),suppressTaggerLink:false};},render:function k(){var l="_3xem"+(this.props.selected?' '+"_50hx":''),m=c('joinClasses')("_2vwi"+(this.props.hasData?' '+"_6xe":''),this.props.className),n=this.props.suppressTaggerLink?c('Tooltip.react'):c('TooltipLink.react');return c('React').createElement(n,{onClick:this._onSelect,tooltip:this.props.tooltip,'data-tooltip-content':this.props.tooltip,className:l,href:'#',role:'button'},c('React').createElement('span',{className:"accessible_elem"},this.props.title),c('React').createElement('div',{className:m}),this.props.children);},_onSelect:function k(){this.props.onSelect&&this.props.onSelect(this.props.taggerID);}});f.exports=j;}),null);
__d('ReactComposerContextMixin',['ComposerEntryPointRef','React','getObjectValues'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={contextTypes:{actorID:h.string.isRequired,composerID:h.string.isRequired,composerType:h.oneOf(c('getObjectValues')(c('ComposerEntryPointRef'))).isRequired,gks:h.object.isRequired,targetID:h.string.isRequired,jsModules:h.object,jsResources:h.object}};f.exports=i;}),null);
__d('ReactComposerPropsAndStoreBasedStateMixin',['invariant','ExecutionEnvironment','ReactComposerContextMixin','StoreBasedStateMixinHelper','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return {_queuedUpdates:[],mixins:[c('ReactComposerContextMixin')],getInitialState:function n(){var o=void 0;if(this.constructor.getAttachmentInitialState){o=this.constructor.getAttachmentInitialState(this.context.composerID,this.props,this.context);}else o={};if(this.constructor.beforeCalculateInitialState)this.constructor.beforeCalculateInitialState(this.context.composerID,this.props,this.context);return Object.assign({},o,this.constructor.calculateState(this.context.composerID,this.props,this.context));},componentWillMount:function n(){this.constructor.calculateState||h(0);this.context.composerID||h(0);this._recalculateStateID=null;var o=function(p){if(!c('ExecutionEnvironment').canUseDOM)return;if(this.isMounted()&&p.composerID===this.context.composerID)this.setState(this.constructor.calculateState(this.context.composerID,this.props,this.context));this._recalculateStateID=null;if(this._queuedUpdates.length)this._queuedUpdates.shift()();}.bind(this);this._mixin=new (c('StoreBasedStateMixinHelper'))(l);this._mixin.subscribeCallback(function(p){if(this._recalculateStateID===null){this._recalculateStateID=c('setImmediate')(o,p);}else this._queuedUpdates.push(function(){this._recalculateStateID=c('setImmediate')(o,p);}.bind(this));}.bind(this));},componentWillReceiveProps:function n(o){var p=void 0;if(this.constructor.getAttachmentWillReceivePropsState)p=this.constructor.getAttachmentWillReceivePropsState(this.context.composerID,o,this.props,this.context);this.setState(Object.assign({},p||{},this.constructor.calculateState(this.context.composerID,o,this.context)));},componentWillUnmount:function n(){this._mixin.release();this._mixin=null;}};};f.exports=i;}),null);
__d('ReactComposerTaggerButtonMixin',['cx','invariant','React','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerButton.react','ReactComposerTaggerStore'],(function a(b,c,d,e,f,g,h,i){var j={mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore'))],statics:{calculateState:function k(l,m){var n=c('ReactComposerTaggerStore').getSelectedTagger(l);return {selected:n===this.taggerID,hasData:c('ReactComposerTaggerStore').hasData(l,this.taggerID),showNUX:c('ReactComposerTaggerStore').shouldShowNUX(l,this.taggerID),showTooltip:c('ReactComposerTaggerStore').shouldShowTooltip(l,this.taggerID),shouldHide:c('ReactComposerTaggerStore').shouldHideTaggerButton(l,this.taggerID)};}},componentWillMount:function k(){this.constructor.taggerID||i(0);},render:function k(){if(this.state.shouldHide)return null;var l=this.getRef?this.getRef():'';return c('React').createElement('div',{className:"uiContextualLayerParent",style:{display:'inline-block'}},c('React').createElement(c('ReactComposerTaggerButton.react'),babelHelpers['extends']({taggerID:this.constructor.taggerID,title:this.getTitle(),tooltip:this.getTooltip(),className:this.getClassName(),ref:l,onSelect:this._onSelect,suppressTaggerLink:this.constructor.suppressTaggerLink},this.state),this.getNUX&&this.getNUX(),this.props.children));},_onSelect:function k(){this._onSelectX&&this._onSelectX();if(this.constructor.unselectable!==true)c('ReactComposerTaggerActions').selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID,this.constructor.disableToggle);}};f.exports=j;}),null);
__d('ReactComposerActions',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerStore'],(function a(b,c,d,e,f,g){c('ReactComposerStore');var h,i={initConfig:function j(k,l,m){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').INIT_CONFIG,loggingConfig:l,activateOnInit:m===true});},schedule:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').SCHEDULE,scheduleDate:l});},postError:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_ERROR,response:l});},postIntended:function j(k,l){setTimeout(function(){if(!h||h(k,l.actorID,l.config,l.targetID))c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_INTENDED,actorID:l.actorID,config:l.config,targetID:l.targetID});},0);},registerPostIntendedHandler:function j(k){h=k;},postStarted:function j(k,l){var m=l.actorID,n=l.composerType,o=l.config,p=l.onPostSuccess,q=l.targetID,r=babelHelpers.objectWithoutProperties(l,['actorID','composerType','config','onPostSuccess','targetID']);setTimeout(function(){return c('ReactComposerDispatcher').dispatch({composerID:k,composerType:n,type:c('ReactComposerActionTypes').POST_STARTED,actorID:m,config:o,targetID:q,onPostSuccess:p,otherData:r});},0);},postSucceeded:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_SUCCEEDED});},postFinally:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_FINALLY,response:l});},publishStarted:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').PUBLISH_STARTED});},postPreprocessing:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_PREPROCESSING});},reset:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').COMPOSER_RESET});},expandSprouts:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').EXPAND_SPROUTS});},collapseSprouts:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').COLLAPSE_SPROUTS});}};f.exports=i;}),null);
__d('ReactComposerPrefillActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_PREFILL_DATA:null},'ReactComposerPrefillActionTypes');}),null);
__d('ReactComposerPrefillStore',['invariant','ReactComposerPrefillActionTypes','ReactComposerStoreBase'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {prefillConfig:{}};},function(m){switch(m.type){case c('ReactComposerPrefillActionTypes').SET_PREFILL_DATA:l&&l.$ReactComposerPrefillStore1(m);break;}});l=this;}k.prototype.getField=function(l,m){'use strict';return this.$ReactComposerPrefillStore2(l,[m]);};k.prototype.getAndEraseField=function(l,m){'use strict';return this.getAndEraseNestedField(l,[m]);};k.prototype.getAndEraseNestedField=function(l,m){'use strict';m.length>0||h(0);var n=this.$ReactComposerPrefillStore2(l,m);setTimeout(function(){this.$ReactComposerPrefillStore3(l,m);}.bind(this),0);return n;};k.prototype.$ReactComposerPrefillStore2=function(l,m){'use strict';var n=this.getComposerData(l).prefillConfig;for(var o=0;o<m.length;o++)n=n&&n[m[o]];return n;};k.prototype.$ReactComposerPrefillStore4=function(l,m){'use strict';this.$ReactComposerPrefillStore3(l,[m]);};k.prototype.$ReactComposerPrefillStore3=function(l,m){'use strict';var n=this.getComposerData(l).prefillConfig;for(var o=0;o<m.length-1;o++)n=n&&n[m[o]];if(n!=undefined)n[m[m.length-1]]=null;};k.prototype.$ReactComposerPrefillStore1=function(l){'use strict';var m=this.validateAction(l,['composerID','prefillConfig']),n=m[0],o=m[1],p=this.getComposerData(n);p.prefillConfig=o||{};};f.exports=new k();}),null);
__d('ReactComposerSessionMetricsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({KEYSTROKE:null,PASTE:null},'ReactComposerSessionMetricsActionTypes');}),null);
__d('ReactComposerSessionMetricsStore',['NavigationMetrics','ReactComposerAttachmentActionType','ReactComposerSessionMetricsActionTypes','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i,j=-1;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l=void 0;i.constructor.call(this,function(){c('NavigationMetrics').addRetroactiveListener(c('NavigationMetrics').Events.NAVIGATION_DONE,function(m,n){var o=n.tti;l.ttiTimestamp=o;});return {composerStartTime:null,keystrokeCount:0,pasteCount:0};},function(m){switch(m.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:l&&l.$ReactComposerSessionMetricsStore1(m);break;case c('ReactComposerSessionMetricsActionTypes').KEYSTROKE:l&&l.$ReactComposerSessionMetricsStore2(m);break;case c('ReactComposerSessionMetricsActionTypes').PASTE:l&&l.$ReactComposerSessionMetricsStore3(m);break;}});this.ttiTimestamp=j;l=this;}k.prototype.getComposerEntryTime=function(l){'use strict';if(this.ttiTimestamp==j){return 0;}else return Math.round((this.getComposerData(l).composerStartTime-this.ttiTimestamp)/1000);};k.prototype.getComposerStartTime=function(l){'use strict';return this.getComposerData(l).composerStartTime;};k.prototype.getKeystrokeCount=function(l){'use strict';return this.getComposerData(l).keystrokeCount;};k.prototype.getPasteCount=function(l){'use strict';return this.getComposerData(l).pasteCount;};k.prototype.$ReactComposerSessionMetricsStore1=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);if(!n.composerStartTime)n.composerStartTime=Date.now();};k.prototype.$ReactComposerSessionMetricsStore2=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.keystrokeCount++;};k.prototype.$ReactComposerSessionMetricsStore3=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.pasteCount++;};f.exports=new k();}),null);
__d('ReactComposerCollectionsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SHOW_COLLECTION_SELECTOR:null,HIDE_COLLECTION_SELECTOR:null,SHOW_CREATION_LAYER:null,HIDE_CREATION_LAYER:null},'ReactComposerCollectionsActionTypes');}),null);
__d('ReactComposerPerfLogger',['ComposerType','ComposerXSessionIDs','MarauderLogger'],(function a(b,c,d,e,f,g){var h={},i=c('ComposerType').STATUS,j={logEvent:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c('ComposerXSessionIDs').getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true;}var q=babelHelpers['extends']({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c('MarauderLogger').log(l,'composer',q,undefined,undefined,p);},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}};},getInstance:function k(l){return h[l];}};f.exports=j;}),null);
__d('ReactComposerLoggingStore',['invariant','Bootloader','ComposerEntryPointRef','ComposerPerfEvent','ComposerWaterfallEvent','ComposerXMarauderLogger','ComposerXSessionIDs','FacerecWaterfallEvent','immutable','LiveVideoBroadcastFunnelLogger','PhotosUploadWaterfallXMixin','PhotoUploadFacerecWaterfallTypedLogger','PUWApplications','PUWMethods','PUWSteps','ReactComposerActionTypes','ReactComposerAlbumActionType','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceActionTypes','ReactComposerAudienceStore','ReactComposerCollectionsActionTypes','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingQueue','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerPerfLogger','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerScrapedAttachmentActionType','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActionType','classWithMixins','mixin','nullthrows','performanceAbsoluteNow'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('classWithMixins')(c('ReactComposerStoreBase'),c('mixin')(c('PhotosUploadWaterfallXMixin'))));j=i&&i.prototype;function k(){var l;j.constructor.call(this,function(){return {activated:false,perfTimes:{},sessionID:null,uniqueEvents:c('immutable').Map([[c('PUWSteps').CLIENT_PUBLISH_SUCCESS,false],[c('PUWSteps').CLIENT_FLOW_SUCCESS,false]])};},function(m){l&&l.handler(m);});l=this;}k.prototype.handler=function(l){if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c('ReactComposerActionTypes').COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c('ReactComposerAlbumActionType').CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore12(l);break;case c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore13(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(l);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:this.$ReactComposerLoggingStore19(l);break;case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore20(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore21(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore22(l);break;case c('ReactComposerTaggerActionType').DESELECT_TAGGER:this.$ReactComposerLoggingStore23(l);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore24(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore25(l);break;case c('ReactComposerActionTypes').POST_STARTED:this.$ReactComposerLoggingStore26(l);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:this.$ReactComposerLoggingStore27(l);break;case c('ReactComposerActionTypes').POST_ERROR:this.$ReactComposerLoggingStore28(l);break;case c('ReactComposerMediaUploadActionType').PHOTOS_SELECT:this.$ReactComposerLoggingStore29(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore30(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore31(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore32(l);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore33(l);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore34(l);break;case c('ReactComposerActionTypes').FEATURE_INTENT:this.$ReactComposerLoggingStore35(l);break;case c('ReactComposerActionTypes').FEATURE_DONE:this.$ReactComposerLoggingStore36(l);break;case c('ReactComposerActionTypes').FEATURE_CANCEL:this.$ReactComposerLoggingStore37(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:c('ReactComposerDispatcher').waitFor([c('ReactComposerScrapedAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore38(l);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:this.$ReactComposerLoggingStore39(l);break;case c('ReactComposerActionTypes').COMPOSER_CANCEL:this.$ReactComposerLoggingStore40(l);break;case c('ReactComposerCollectionsActionTypes').SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore41(l);break;case c('ReactComposerCollectionsActionTypes').HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore42(l);break;case c('ReactComposerAudienceActionTypes').SET_COLLECTION:c('ReactComposerDispatcher').waitFor([c('ReactComposerAudienceStore').getDispatchToken()]);this.$ReactComposerLoggingStore43(l);break;case c('ReactComposerCollectionsActionTypes').SHOW_CREATION_LAYER:this.$ReactComposerLoggingStore44(l);break;case c('ReactComposerCollectionsActionTypes').HIDE_CREATION_LAYER:this.$ReactComposerLoggingStore45(l);break;default:}};k.prototype.getSessionID=function(l){return c('ComposerXSessionIDs').getSessionID(l);};k.prototype.isActivated=function(l){return this.getComposerData(l).activated;};k.prototype.activate=function(l){var m=this.getComposerData(l);m.activated=true;if(c('ReactComposerLoggingQueue').getLength()>0)this.$ReactComposerLoggingStore46();};k.prototype.$ReactComposerLoggingStore2=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}});};k.prototype.$ReactComposerLoggingStore35=function(l){var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore48(n,o,p);};k.prototype.$ReactComposerLoggingStore36=function(l){var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore49(n,o,p);};k.prototype.$ReactComposerLoggingStore37=function(l){var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore50(n,o,p);};k.prototype.$ReactComposerLoggingStore1=function(l){var m=this.validateAction(l,'composerID');if(c('ReactComposerAttachmentStore').isSelectedAttachmentActive(m))this.$ReactComposerLoggingStore2(l);};k.prototype.$ReactComposerLoggingStore3=function(l){var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore51(o,c('ComposerPerfEvent').CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootloadDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore4=function(l){var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore51(o,c('ComposerPerfEvent').CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootstrapDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore7=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').ALBUM_INTENT);};k.prototype.$ReactComposerLoggingStore5=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').MEDIA,o);this.$ReactComposerLoggingStore47(n,c('ComposerWaterfallEvent').MEDIA_INTENT);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SELECT_BEGIN);};k.prototype.$ReactComposerLoggingStore6=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore49(n,c('ReactComposerFeatureType').MEDIA,o);};k.prototype.$ReactComposerLoggingStore8=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').PHOTO_ADD);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore9=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_PROCESS_BEGIN,o);};k.prototype.$ReactComposerLoggingStore10=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_PROCESS_SUCCESS,o);};k.prototype.$ReactComposerLoggingStore11=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_PROCESS_FAIL,o);};k.prototype.$ReactComposerLoggingStore12=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SPHERICAL_CHECK_SUCCESS,o);};k.prototype.$ReactComposerLoggingStore13=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SPHERICAL_CHECK_FAIL,o);};k.prototype.$ReactComposerLoggingStore14=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PROCESS_UNAVAILABLE);};k.prototype.$ReactComposerLoggingStore15=function(l){var m=this.validateAction(l,['composerID','fileUpload']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size});};k.prototype.$ReactComposerLoggingStore16=function(l){var m=this.validateAction(l,['composerID','fileUpload','timeToUpload']),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))q=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore47(n,c('ComposerWaterfallEvent').PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width});};k.prototype.$ReactComposerLoggingStore17=function(l){var m=this.validateAction(l,['composerID','fileUpload','error','timeToUpload']),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))r=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore47(n,c('ComposerWaterfallEvent').PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width});};k.prototype.$ReactComposerLoggingStore18=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_TRANSFER_CANCEL);};k.prototype.$ReactComposerLoggingStore19=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore20=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore21=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').VIDEO_ADD);};k.prototype.$ReactComposerLoggingStore22=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').VIDEO_REMOVE);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore23=function(l){var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore54(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore49(n,q,p);};k.prototype.$ReactComposerLoggingStore24=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1],p=c('ReactComposerTaggerStore').getSelectedTagger(n),event=null;switch(p){case c('ReactComposerTaggerType').PEOPLE:this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').WITH_TAG,o);event=c('ComposerWaterfallEvent').FRIEND_TAG_INTENT;break;case c('ReactComposerTaggerType').LOCATION:this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').LOCATION,o);event=c('ComposerWaterfallEvent').LOCATION_INTENT;break;case c('ReactComposerTaggerType').ACTIVITY:this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').MINUTIAE,o);event=c('ComposerWaterfallEvent').MINUTIAE_INTENT;break;case c('ReactComposerTaggerType').MARKDOWN:event=c('ComposerWaterfallEvent').MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore54(p);if(q)this.$ReactComposerLoggingStore48(n,q,o);break;}if(event===null)return;this.$ReactComposerLoggingStore47(n,event);};k.prototype.$ReactComposerLoggingStore25=function(l){var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore54(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore53(n,q,p);};k.prototype.$ReactComposerLoggingStore26=function(l){var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.perfTimes.postStartTime=c('performanceAbsoluteNow')();this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_POST);if(this.$ReactComposerLoggingStore55(m)){this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore56(m));c('ReactComposerPhotoStore').getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log();});});}};k.prototype.$ReactComposerLoggingStore27=function(l){var m,n=this,o=this.validateAction(l,'composerID'),p=this.getComposerData(o);this.$ReactComposerLoggingStore47(o,c('ComposerWaterfallEvent').COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore51(o,c('ComposerPerfEvent').CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(o),duration:c('performanceAbsoluteNow')()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore55(o)){var q=this.$ReactComposerLoggingStore56(o);this.$ReactComposerLoggingStore52(o,c('PUWSteps').CLIENT_PUBLISH_SUCCESS,q);this.$ReactComposerLoggingStore52(o,c('PUWSteps').CLIENT_FLOW_SUCCESS);var r=c('ReactComposerPhotoStore').getPhotos(o);if(r&&r.forEach)(function(){var s=0;r.forEach(function(t){if(t.cubestripURI)s++;});if(s>0)c('Bootloader').loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(t,u){t.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||'',surface:u.LOGGER_SURFACES.composer,numberOfSphericalPhoto:s});}.bind(n),'ReactComposerLoggingStore');})();}};k.prototype.$ReactComposerLoggingStore28=function(l){var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore51(m,c('ComposerPerfEvent').CLIENT_POST_FAILED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),duration:c('performanceAbsoluteNow')()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore55(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore56(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PUBLISH_FAIL,p);}};k.prototype.$ReactComposerLoggingStore29=function(l){var m=this.validateAction(l,['composerID','numPhotos','method']),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c('PUWMethods').FILE_SELECTOR)this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SELECT_SUCCESS,q);};k.prototype.$ReactComposerLoggingStore30=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PHOTO_EDIT_BEGIN);};k.prototype.$ReactComposerLoggingStore31=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PHOTO_EDIT_SUCCESS);};k.prototype.$ReactComposerLoggingStore32=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_TRANSFER_MANUAL_RETRY);};k.prototype.$ReactComposerLoggingStore33=function(l){var m=this.validateAction(l,['photoID','facebox']),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log();};k.prototype.$ReactComposerLoggingStore34=function(l){var m=this.validateAction(l,['photos','facerecWaterfallEvent']),n=m[0],o=m[1];n.forEach(function(p){new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('nullthrows')(o)).setPhotoFbid(p).log();});};k.prototype.$ReactComposerLoggingStore38=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').LINK,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore39=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').PRIVACY,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore40=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_CANCEL);};k.prototype.$ReactComposerLoggingStore41=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').COLLECTIONS,o);};k.prototype.$ReactComposerLoggingStore42=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore49(n,c('ReactComposerFeatureType').COLLECTIONS,o);};k.prototype.$ReactComposerLoggingStore43=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c('ReactComposerFeatureType').COLLECTIONS,o);};k.prototype.$ReactComposerLoggingStore44=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').COLLECTION_CREATION,o);};k.prototype.$ReactComposerLoggingStore45=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName','isCancel']),n=m[0],o=m[1],p=m[2],q=p?this.$ReactComposerLoggingStore50.bind(this):this.$ReactComposerLoggingStore49.bind(this);q(n,c('ReactComposerFeatureType').COLLECTION_CREATION,o);};k.prototype.$ReactComposerLoggingStore55=function(l){var m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,c('ReactComposerAttachmentType').MEDIA),n=c('ReactComposerMediaUploadStore').getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO);return m&&!!n.size;};k.prototype.$ReactComposerLoggingStore56=function(l){var m=c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').PEOPLE)||[],n=c('ReactComposerMediaUploadStore').getTotalNumberOfStickersOnPhotos(l);return {volume:c('ReactComposerPhotoStore').getPhotos(l).size,with_tag_count:m.length,sticker_count:n};};k.prototype.$ReactComposerLoggingStore48=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_INTENT,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore53=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_UPDATE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore50=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_CANCEL,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore49=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_DONE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore47=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}if(c('ReactComposerStore').getRef(l)===c('ComposerEntryPointRef').RECENT_POSTS)c('Bootloader').loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData('payload',JSON.stringify(this.$ReactComposerLoggingStore57(l))).addToExtraData('message',c('ReactComposerStatusStore').getMessageText(l)).log();}.bind(this),'ReactComposerLoggingStore');m.extraData=Object.assign({is_markdown_enabled:!!c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore57(l)},m.extraData);c('ComposerXMarauderLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore51=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}c('ReactComposerPerfLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore52=function(l,m,n,o,p){var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true);}this.logPUWStep(m,this.getSessionID(l),c('PUWApplications').WEB_REACT_COMPOSER,c('ReactComposerStore').getRef(l),n,o,p);};k.prototype.$ReactComposerLoggingStore46=function(){while(c('ReactComposerLoggingQueue').getLength()>0){var l=c('ReactComposerLoggingQueue').pop();this.handler(l);}};k.prototype.$ReactComposerLoggingStore57=function(l){return {character:c('ReactComposerStatusStore').getTextLength(l),location_tag:c('ReactComposerTaggerStore').hasLocationTag(l),implicit_location:c('ReactComposerTaggerStore').hasImplicitLocation(l),minutiae:c('ReactComposerTaggerStore').hasMinutiae(l),with_who_tag:c('ReactComposerTaggerStore').getNumberOfWithWhoTags(l),photo:c('ReactComposerMediaUploadStore').getNonsphericalPhotoCount(l),three_sixty_photo:c('ReactComposerMediaUploadStore').getSphericalPhotoCount(l),video:c('ReactComposerMediaUploadStore').getUploadsCount(l,c('ReactComposerMediaUploadType').VIDEO),shared_link:c('ReactComposerScrapedAttachmentStore').hasAttachment(l)?1:0,backdated:c('ReactComposerTaggerStore').hasBackdate(l)?c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').BACKDATE):null,audience:c('ReactComposerAudienceStore').getAudience(l),collection:c('ReactComposerAudienceStore').getCollectionID(l)};};k.prototype.$ReactComposerLoggingStore54=function(l){switch(l){case c('ReactComposerTaggerType').PEOPLE:return c('ReactComposerFeatureType').WITH_TAG;case c('ReactComposerTaggerType').LOCATION:return c('ReactComposerFeatureType').LOCATION;case c('ReactComposerTaggerType').ACTIVITY:return c('ReactComposerFeatureType').MINUTIAE;case c('ReactComposerTaggerType').MARKDOWN:return c('ReactComposerFeatureType').MARKDOWN;case c('ReactComposerTaggerType').BACKDATE:return c('ReactComposerFeatureType').DATE;case c('ReactComposerTaggerType').SPONSOR:return c('ReactComposerFeatureType').SPONSOR;case c('ReactComposerTaggerType').PRODUCT:return c('ReactComposerFeatureType').PRODUCT;case c('ReactComposerTaggerType').PAGE_CTA:return c('ReactComposerFeatureType').PAGE_CTA;case c('ReactComposerTaggerType').FORMATTED_TEXT:return c('ReactComposerFeatureType').FORMATTED_TEXT;case c('ReactComposerTaggerType').ISSUE_TAG:return c('ReactComposerFeatureType').ISSUE_TAG;case c('ReactComposerTaggerType').STICKER:return c('ReactComposerFeatureType').STICKER;case c('ReactComposerTaggerType').MESSAGING:return c('ReactComposerFeatureType').MESSAGING;case c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE:return c('ReactComposerFeatureType').CONTACT_YOUR_REPRESENTATIVE;case c('ReactComposerTaggerType').FUN_FACT:return c('ReactComposerFeatureType').FUN_FACT;case c('ReactComposerTaggerType').ALBUM:return c('ReactComposerFeatureType').ALBUM;default:return null;}};f.exports=new k();}),null);
__d("XReactComposerCollectionSelectorController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/collections\/selector\/",{});}),null);
__d('ReactComposerCollectionsStore',['AsyncRequest','LoadObject','ReactComposerActionStore','ReactComposerCollectionsActionTypes','XReactComposerCollectionSelectorController'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){var k;i.constructor.call(this,function(){return {collectionsLoadObject:null,isSelectorVisible:false};},function(l){switch(l.type){case c('ReactComposerCollectionsActionTypes').SHOW_COLLECTION_SELECTOR:k&&k.$ReactComposerCollectionsStore1(l);break;case c('ReactComposerCollectionsActionTypes').HIDE_COLLECTION_SELECTOR:k&&k.$ReactComposerCollectionsStore2(l);break;case c('ReactComposerCollectionsActionTypes').SHOW_CREATION_LAYER:k&&k.$ReactComposerCollectionsStore3(l);break;case c('ReactComposerCollectionsActionTypes').HIDE_CREATION_LAYER:k&&k.$ReactComposerCollectionsStore4(l);break;}});k=this;}j.prototype.loadCollections=function(k){var l=this.getComposerData(k);l.collectionsLoadObject=c('LoadObject').loading();var m=c('XReactComposerCollectionSelectorController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(m).setMethod('GET').setReadOnly(true).setHandler(function(n){var o=this.getComposerData(k);o.collectionsLoadObject=o.collectionsLoadObject.setValue(n.payload).done();this.emitChange(k);}.bind(this)).send();};j.prototype.addNewCollection=function(k,l){var m=this.getCollections(k);if(!m||!m.isDone())return;var n=m.getValue();if(n==null)return;n.unshift(l);this.emitChange(k);};j.prototype.getCollections=function(k){var l=this.getComposerData(k);return l.collectionsLoadObject;};j.prototype.getCollectionByID=function(k,l){var m=this.getComposerData(k),n=m.collectionsLoadObject;if(!n||!n.isDone())return null;return n.getValue().find(function(o){return o.id===l;});};j.prototype.isSelectorVisible=function(k){var l=this.getComposerData(k);return l.isSelectorVisible;};j.prototype.$ReactComposerCollectionsStore1=function(k){var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);if(!m.collectionsLoadObject)this.loadCollections(l);m.isSelectorVisible=true;this.emitChange(l);};j.prototype.$ReactComposerCollectionsStore2=function(k){var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.isSelectorVisible=false;this.emitChange(l);};j.prototype.isCreationLayerVisible=function(k){var l=this.getComposerData(k);return l.isCreationLayerVisible;};j.prototype.$ReactComposerCollectionsStore3=function(k){var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.isCreationLayerVisible=true;this.emitChange(l);};j.prototype.$ReactComposerCollectionsStore4=function(k){var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.isCreationLayerVisible=false;this.emitChange(l);};f.exports=new j();}),null);
__d('ReactComposerPostUtilsCore',['invariant','ReactComposerActions'],(function a(b,c,d,e,f,g,h){var i={getCoreData:function j(k,l,m){!isNaN(m)&&m>0||h(0);return Object.assign({is_react:true,xhpc_composerid:k,xhpc_targetid:m},l);},handlePostSucceeded:function j(k){c('ReactComposerActions').postSucceeded(k);c('ReactComposerActions').reset(k);}};f.exports=i;}),null);
__d('AbstractAsyncSearchSource',['AbstractSearchSource','SearchableEntry','SearchSourceCallbackManager','SearchSourceQueryStatus','TokenizeUtil','emptyFunction','isValidUniqueID'],(function a(b,c,d,e,f,g){var h,i,j=c('SearchSourceQueryStatus').ACTIVE,k=c('SearchSourceQueryStatus').COMPLETE;h=babelHelpers.inherits(l,c('AbstractSearchSource'));i=h&&h.prototype;function l(m,n,o){'use strict';i.constructor.call(this);this.$AbstractAsyncSearchSource1=m.bootstrapRequests;this.$AbstractAsyncSearchSource2=m.queryRequests;this.$AbstractAsyncSearchSource3=m.auxiliaryFields;this.$AbstractAsyncSearchSource4=m.asyncErrorHandler||c('emptyFunction');this.$AbstractAsyncSearchSource5=m.packageFn||this.$AbstractAsyncSearchSource6;this.$AbstractAsyncSearchSource7=m.requestData||{};this.$AbstractAsyncSearchSource8=m.getAllForEmptyQuery;this.$AbstractAsyncSearchSource9=[];this.$AbstractAsyncSearchSource10=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:m.matchFn||c('TokenizeUtil').isQueryMatch,indexFn:m.indexFn,exclusions:m.exclusions});this.$AbstractAsyncSearchSource11=n;this.$AbstractAsyncSearchSource12=o;}l.prototype.bootstrapImpl=function(m){'use strict';if(!this.$AbstractAsyncSearchSource1||!this.$AbstractAsyncSearchSource1.length){m();return;}var n=this.$AbstractAsyncSearchSource1.length,o=0;this.$AbstractAsyncSearchSource1.forEach(function(p){this.$AbstractAsyncSearchSource13(this.$AbstractAsyncSearchSource7,p,function(q){this.$AbstractAsyncSearchSource10.addLocalEntries(q);this.$AbstractAsyncSearchSource9=this.$AbstractAsyncSearchSource9.concat(q);o++;if(o===n){m();m=null;}}.bind(this));}.bind(this));};l.prototype.searchImpl=function(m,n,o){'use strict';if(this.$AbstractAsyncSearchSource8&&m===''){this.getBootstrappedEntries(function(u){n(u,m);});return;}var p=null,q={},r=this.$AbstractAsyncSearchSource10.search(m,function(u,v,w){if(o&&o.waitForAllResults&&w!==k)return;if(!p){p=u;p.forEach(function(x){q[x.getUniqueID()]=true;});}else u.forEach(function(x){var y=x.getUniqueID();if(!q[y]){p.push(x);q[y]=true;}});n(p,v,w);},o);if(!r||!this.$AbstractAsyncSearchSource2||!this.$AbstractAsyncSearchSource2.length)return;var s=babelHelpers['extends']({value:m,existing_ids:p&&p.map(function(u){return u.getUniqueID();}).join(',')},this.$AbstractAsyncSearchSource7),t=this.$AbstractAsyncSearchSource2.length;this.$AbstractAsyncSearchSource2.forEach(function(u){this.$AbstractAsyncSearchSource13(s,u,function(v){t--;this.$AbstractAsyncSearchSource14(v,m,t?j:k);}.bind(this));},this);};l.prototype.getBootstrappedEntries=function(m){'use strict';return this.bootstrap(function(){return m(this.$AbstractAsyncSearchSource9||[]);}.bind(this));};l.prototype.getAllEntriesMap=function(){'use strict';return this.$AbstractAsyncSearchSource10.getAllEntriesMap();};l.prototype.setRequestData=function(m){'use strict';this.$AbstractAsyncSearchSource7=m;};l.prototype.$AbstractAsyncSearchSource13=function(m,n,o){'use strict';this.$AbstractAsyncSearchSource11(m,n,function(p){return o(this.$AbstractAsyncSearchSource12(p,this.$AbstractAsyncSearchSource5).filter(function(q){return !!q;}));}.bind(this),this.$AbstractAsyncSearchSource4);};l.prototype.$AbstractAsyncSearchSource15=function(m){'use strict';this.$AbstractAsyncSearchSource10.addLocalEntries(m);};l.prototype.$AbstractAsyncSearchSource14=function(m,n,o){'use strict';this.$AbstractAsyncSearchSource10.addQueryEntries(m,n,o);};l.prototype.$AbstractAsyncSearchSource6=function(m,n){'use strict';var o=m.title||m.text,p=m.uniqueID||m.uid;if(!o||!c('isValidUniqueID')(p))return null;return new (c('SearchableEntry'))({uniqueID:p,order:m.order||m.index||n,title:o,subtitle:m.subtitle||m.category||m.subtext,keywordString:m.keywordString||m.tokens,type:m.type,photo:m.photo,uri:m.uri||m.path,auxiliaryData:this.$AbstractAsyncSearchSource16(m)});};l.prototype.$AbstractAsyncSearchSource16=function(m){'use strict';var n;if(this.$AbstractAsyncSearchSource3){n={};for(var o in this.$AbstractAsyncSearchSource3){var p=this.$AbstractAsyncSearchSource3[o];n[o]=m[p];}}if(m.aux_data)n=babelHelpers['extends']({},n,m.aux_data);return n;};f.exports=l;}),null);
__d('WebAsyncSearchSourceUtils',[],(function a(b,c,d,e,f,g){var h={normalizeResponse:function i(j,k){var l=j.getPayload(),m=void 0;if(Array.isArray(l)){m=l;}else if(l&&l.entries){m=l.entries;}else m=[];if(typeof m==='object'&&!Array.isArray(m))m=Object.keys(m).map(function(n){return m[n];});return m.map(k,this);}};f.exports=h;}),null);
__d('WebAsyncSearchSource',['AbstractAsyncSearchSource','AbstractSearchSource','AsyncRequest','WebAsyncSearchSourceUtils'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$WebAsyncSearchSource1=new (c('AbstractAsyncSearchSource'))(k,this.$WebAsyncSearchSource2,c('WebAsyncSearchSourceUtils').normalizeResponse);}j.prototype.bootstrapImpl=function(k){'use strict';this.$WebAsyncSearchSource1.bootstrap(k);};j.prototype.searchImpl=function(k,l,m){'use strict';this.$WebAsyncSearchSource1.search(k,l,m);};j.prototype.getBootstrappedEntries=function(k){'use strict';return this.$WebAsyncSearchSource1.getBootstrappedEntries(k);};j.prototype.getAllEntriesMap=function(){'use strict';return this.$WebAsyncSearchSource1.getAllEntriesMap();};j.prototype.setRequestData=function(k){'use strict';this.$WebAsyncSearchSource1.setRequestData(k);};j.prototype.$WebAsyncSearchSource2=function(k,l,m,n){'use strict';new (c('AsyncRequest'))(l.uri).setData(babelHelpers['extends']({},k,l.data)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(true).setHandler(m).setErrorHandler(n).send();};f.exports=j;}),null);