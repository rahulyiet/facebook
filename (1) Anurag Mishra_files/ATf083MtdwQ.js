if (self.CavalryLogger) { CavalryLogger.start_js(["N0W0Y"]); }

__d("FollowRequestResultEnum",[],(function a(b,c,d,e,f,g){f.exports={REVERT:"revert"};}),null);
__d("ProfileOverviewDOMID",[],(function a(b,c,d,e,f,g){f.exports={MEDLEY_ROOT:"timeline-medley",PREFIX_APP_COLLECTION:"pagelet_timeline_app_collection_",PREFIX_COLLECTION_WRAPPER:"collection_wrapper_",PREFIX_MEDLEY:"pagelet_timeline_medley_",PREFIX_MEDLEY_HEADER:"medley_header_",PREFIX_RECOMMENDATION:"pagelet_recommendation_"};}),null);
__d("ProfileTabConst",[],(function a(b,c,d,e,f,g){f.exports={ALBUM:"album",ALBUMS:"albums",ALBUMS_ALL:"albums_all",ALBUMS_FEATURED:"albums_featured",ALL_ACTIVITY:"allactivity",APPROVAL:"approve",APPS:"apps",BOXES:"box_3",COMMERCE:"shop",DEALS:"deals",DRAFT_NOTES:"notes_drafts",EVENTS:"events",FAVORITES:"favorites",FUNDRAISERS:"fundraisers",FOLLOWERS:"followers",FOLLOWING:"following",FRIENDS:"friends",FRIENDS_MUTUAL:"friends_mutual",GROUPS:"groups",GROUPS_MUTUAL:"groups_mutual",INFO:"info",LIKES:"likes",LOCATIONS:"locations",MAP:"map",MEMORIAL_CONTACT:"legacy_contact",MY_NOTES:"notes_my_notes",NEARBY:"nearby",NOTES:"notes",OVERVIEW:"about",PAST_EVENTS:"pe",PERSONALITY_QUESTIONS:"personality_questions",PHOTOS:"photos",PHOTOS_ALBUM:"media_set",PHOTOS_ALBUMS:"photos_albums",PHOTOS_BY_OTHERS:"photos_by_others",PHOTOS_STREAM:"photos_stream",PHOTOS_SYNCED:"photos_synced",POSTS:"posts",POSTS_OTHERS:"posts_to_page",RESUME:"resume",REVIEWS:"reviews",SAVE_LISTS:"lists",SAVED_FOR_LATER:"saved",SPORTS:"sports",TAGGED_NOTES:"notes_tagged",TIMELINE:"timeline",VIDEOS:"videos",WALL:"wall",WALL_ADMIN:"wall_admin",WIKIPEDIA:"wiki",PAGE_GETTING_STARTED:"page_getting_started",PAGE_MAP:"page_map",PAGE_MENU:"menu",PAGE_BOOK_PREVIEW:"book_preview",PAGE_PRODUCTS:"products",PAGE_SERVICES:"services",PAGES_CONTENT_TAB:"content_tab",PAGE_FAN_QUESTIONS:"questions",PAGES_REACTION_SANDBOX:"reaction_sandbox",PAGE_OFFERS:"offers",PAGE_JOB_PERMALINK:"page_job_permalink",HOME:"home",ENDORSEMENTS:"endorsements",ISSUES:"issues",PAGE_JOBS:"jobs",PAGE_LIVE_VIDEOS:"live_videos",PAGE_EPISODES:"episodes",PAGE_SHOW:"show",PAGE_PLAYLISTS:"playlists",PAGE_SHOW_VIDEOS:"show_videos",OG_APP_URL_PREFIX:"app_",OG_APPID_PREFIX:"og_app_",OG_NAMESPACE_PREFIX:"og_ns_",OG_BOOKS:"books",OG_FITNESS:"fitness",OG_GAMES:"games",OG_MOVIES:"movies",OG_MUSIC:"music",OG_NEWS:"news",OG_TV_SHOWS:"tv",OG_VIDEO:"video"};}),null);
__d("SeeFirstNuxEvents",[],(function a(b,c,d,e,f,g){f.exports={SWITCHER_NUX_IMP:"switcher_nux_imp",SEE_FIRST_SELECTED:"see_first_selected",XOUT:"xout",NOT_NOW:"not_now",IMP:"imp",ENTER_DIALOG:"enter_dialog",BATCH_SEE_FIRST_SELECTED:"batch_see_first_selected"};}),null);
__d("TimelineDOMID",[],(function a(b,c,d,e,f,g){f.exports={COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",ABOVE_COMPOSER:"timeline_above_composer",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",TIMELINE_SCHEDULED_POSTS:"timeline_scheduled_posts",FIG_COMPOSER:"profile_fig_composer",FIG_TIMELINE:"profile_fig_timeline",FIG_ESCAPE_HATCH:"profile_fig_escape_hatch",FIG_INFO_REVIEW:"profile_fig_info_review",FIG_INTRO_CARD:"profile_fig_intro_card",FIG_PROTILES:"profile_fig_protiles",FIG_ADS:"profile_fig_ads",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",PREFIX_FIG_PROTILES:"profile_fig_protiles_",SUFFIX_MORE_PAGER:"_more_pager"};}),null);
__d('StepperAnimation',['invariant','Animation','mixInEventEmitter'],(function a(b,c,d,e,f,g,h){var i={done:true,go:true},j=function n(o){!o||h(0);};function k(n){'use strict';this.$StepperAnimation1=new (c('Animation'))(n);this.$StepperAnimation1.ondone(this.emit.bind(this,'done'));this.__fired__=false;}k.prototype.from=function(){'use strict';this.$StepperAnimation1.from.apply(this.$StepperAnimation1,arguments);return this;};k.prototype.to=function(){'use strict';this.$StepperAnimation1.to.apply(this.$StepperAnimation1,arguments);return this;};k.prototype.ease=function(){'use strict';this.$StepperAnimation1.ease.apply(this.$StepperAnimation1,arguments);return this;};k.prototype.go=function(){'use strict';j(this.__fired__);this.__fired__=true;this.$StepperAnimation1.go();this.emit('go');return this;};k.prototype.checkpoint=function(){'use strict';this.$StepperAnimation1.checkpoint.apply(this.$StepperAnimation1,arguments);return this;};k.prototype.show=function(){'use strict';this.$StepperAnimation1.show.apply(this.$StepperAnimation1,arguments);return this;};k.prototype.duration=function(){'use strict';this.$StepperAnimation1.duration.apply(this.$StepperAnimation1,arguments);return this;};k.prototype.stop=function(){'use strict';this.$StepperAnimation1.stop.apply(this.$StepperAnimation1,arguments);return this;};function l(n){'use strict';this.$SerialAnimations1=n||[];this.$SerialAnimations2=0;for(var o=0,p=n.length;o<p;o++){var q=n[o+1];if(q)n[o].addListener('done',q.go.bind(q));}if(this.$SerialAnimations1.length){var r=this.emit.bind(this,'go');this.$SerialAnimations1[0].addListener('go',r);var s=this.emit.bind(this,'done');this.$SerialAnimations1.slice(-1)[0].addListener('done',s);}}l.prototype.go=function(){'use strict';j(this.__fired__);this.__fired__=true;this.$SerialAnimations1.length&&this.$SerialAnimations1[0].go();this.emit('go');return this;};l.prototype.stop=function(){'use strict';for(var n=0,o=this.$SerialAnimations1.length;n<o;n++)this.$SerialAnimations1[n].stop.apply(this.$SerialAnimations1[n],arguments);return this;};l.prototype.duration=function(){'use strict';for(var n=0,o=this.$SerialAnimations1.length;n<o;n++)this.$SerialAnimations1[n].duration.apply(this.$SerialAnimations1[n],arguments);return this;};function m(n){'use strict';this.$ParallelAnimations1=n||[];this.$ParallelAnimations2=0;for(var o=0;o<n.length;o++)n[o].addListener('done',this.$ParallelAnimations3.bind(this));}m.prototype.$ParallelAnimations3=function(){'use strict';if(++this.$ParallelAnimations2===this.$ParallelAnimations1.length)this.emit('done');};m.prototype.go=function(){'use strict';j(this.__fired__);this.__fired__=true;for(var n=0;n<this.$ParallelAnimations1.length;n++)this.$ParallelAnimations1[n].go();this.emit('go');return this;};m.prototype.stop=function(){'use strict';for(var n=0,o=this.$ParallelAnimations1.length;n<o;n++)this.$ParallelAnimations1[n].stop.apply(this.$ParallelAnimations1[n],arguments);return this;};m.prototype.duration=function(){'use strict';for(var n=0,o=this.$ParallelAnimations1.length;n<o;n++)this.$ParallelAnimations1[n].duration.apply(this.$ParallelAnimations1[n],arguments);return this;};c('mixInEventEmitter')(k,i);c('mixInEventEmitter')(l,i);c('mixInEventEmitter')(m,i);k.Serial=l;k.Parallel=m;f.exports=k;}),null);
__d('XUICarouselAnimator',['cx','StepperAnimation','Ease','Style','Locale'],(function a(b,c,d,e,f,g,h){'use strict';var i=0,j=1,k=['vertical','horizontal','showcase'];function l(m){var n=m.type,o=m.centered,p=m.firstAndLastAligned;n=n===undefined?'horizontal':n;var q=this.$XUICarouselAnimator1=n==='showcase',r=this.$XUICarouselAnimator2=n==='horizontal',s=this.$XUICarouselAnimator3=n==='vertical';this.$XUICarouselAnimator4=!!o;this.$XUICarouselAnimator5=!!p;this.$XUICarouselAnimator6=(q?"_9bn":'')+(s?' '+"_9bo":'')+(r?' '+"_9bp":'');}l.prototype.update=function(m){if(this.$XUICarouselAnimator1){this.$XUICarouselAnimator7(m);}else this.$XUICarouselAnimator8(m);};l.prototype.createAnimation=function(m){var n=m.nextIndex,o=m.items;if(n>=0&&n<o.length){if(this.$XUICarouselAnimator1){return this.$XUICarouselAnimator9(m);}else return this.$XUICarouselAnimator10(m);}};l.prototype.getCSSClassForRoot=function(){return this.$XUICarouselAnimator6;};l.prototype.getViewportHeight=function(m){return this.$XUICarouselAnimator11(m);};l.prototype.getViewportWidth=function(m){return this.$XUICarouselAnimator12(m);};l.prototype.getContainerHeight=function(m){return this.$XUICarouselAnimator3?this.$XUICarouselAnimator13(m):this.$XUICarouselAnimator11(m);};l.prototype.getContainerWidth=function(m){return this.$XUICarouselAnimator2?this.$XUICarouselAnimator14(m):this.$XUICarouselAnimator12(m);};l.prototype.needsNextArrow=function(m,n){var o=m.viewport,p=m.container;if(!p||!o)return true;if(this.$XUICarouselAnimator1)return n!==m.items.length-1;var q=this.$XUICarouselAnimator15(m,n),r=void 0,s=void 0;if(this.$XUICarouselAnimator2){r=p.offsetWidth;s=o.offsetWidth;}else{r=p.offsetHeight;s=o.offsetHeight;}return r+q>s;};l.prototype.remove=function(m){if(this.$XUICarouselAnimator1){this.$XUICarouselAnimator16(m);}else this.$XUICarouselAnimator17(m);};l.prototype.$XUICarouselAnimator16=function(m){var n=m.items;for(var o=0,p=n.length;o<p;o++){var q=n[o];c('Style').set(q,'opacity',1);c('Style').set(q,'left','auto');c('Style').set(q,'top','auto');c('Style').set(q,'position','static');}};l.prototype.$XUICarouselAnimator17=function(m){var n=this.$XUICarouselAnimator2?'margin-left':'margin-top';c('Style').set(m.container,n,0);};l.prototype.$XUICarouselAnimator7=function(m){var n=m.items,o=m.index;this.$XUICarouselAnimator18(m,n,o);};l.prototype.$XUICarouselAnimator18=function(m,n,o){c('Style').set(m.container,'marginTop',0);c('Style').set(m.container,'marginLeft',0);for(var p=0,q=n.length;p<q;p++){var r=n[p];c('Style').set(r,'opacity',p===o?1:0);c('Style').set(r,'position','absolute');this.$XUICarouselAnimator19(m,r);}};l.prototype.$XUICarouselAnimator8=function(m){var n=m.index,o=m.container;this.$XUICarouselAnimator20(m,n,o);};l.prototype.$XUICarouselAnimator20=function(m,n,o){var p=this.$XUICarouselAnimator2?'margin-left':'margin-top',q=this.$XUICarouselAnimator15(m,n);c('Style').set(o,p,q+'px');};l.prototype.$XUICarouselAnimator15=function(m,n){var o=this.$XUICarouselAnimator21(),p=this.$XUICarouselAnimator22(m,o),q=this.$XUICarouselAnimator23(m,n),r=this.$XUICarouselAnimator24(m,n);return -Math.min(p,q-r);};l.prototype.$XUICarouselAnimator23=function(m,n){var o=m.items,p=o[n],q=0;if(p){var r=void 0,s=void 0;if(this.$XUICarouselAnimator2){r='marginLeft';s=this.$XUICarouselAnimator25;}else{r='marginTop';s=this.$XUICarouselAnimator26;}for(var t=0;t<n;t++)q+=s.call(this,o[t]);q+=parseInt(c('Style').get(p,r),10);}return q;};l.prototype.$XUICarouselAnimator9=function(m){var n=m.nextIndex,o=m.items,p=m.curIndex,q=o[p],r=o[n],s=c('Style').get(q,'opacity'),t=null;if(m.animate){t=new (c('StepperAnimation').Parallel)([new (c('StepperAnimation'))(q).from('opacity',s).to('opacity',0).ease(c('Ease').sineInOut),new (c('StepperAnimation'))(r).from('opacity',0).to('opacity',1).ease(c('Ease').sineInOut)]);}else this.$XUICarouselAnimator18(m,o,n);return t;};l.prototype.$XUICarouselAnimator19=function(m,n){if(this.$XUICarouselAnimator4){var o=m.viewport,p=o.offsetWidth,q=o.offsetHeight,r=this.$XUICarouselAnimator27(n,i),s=this.$XUICarouselAnimator27(n,j);c('Style').set(n,'left',(p-r)/2+'px');c('Style').set(n,'top',(q-s)/2+'px');}else{c('Style').set(n,'left',0);c('Style').set(n,'top','auto');}};l.prototype.$XUICarouselAnimator10=function(m){var n=m.container,o=m.nextIndex,p=void 0;if(this.$XUICarouselAnimator2){p=c('Locale').isRTL()?'margin-right':'margin-left';}else p='margin-top';var q=this.$XUICarouselAnimator15(m,o),r=new (c('StepperAnimation'))(n);if(m.animate){r.from(p,c('Style').get(n,p)).to(p,q+'px').ease(c('Ease').sineInOut);}else this.$XUICarouselAnimator20(m,o,n);return r;};l.prototype.$XUICarouselAnimator24=function(m,n){var o=m.viewport,p=m.items,q=p[n];if(this.$XUICarouselAnimator5)if(n===0||n===m.items.length-1)return 0;if(this.$XUICarouselAnimator4){if(this.$XUICarouselAnimator2)return (o.offsetWidth-q.offsetWidth)/2;if(this.$XUICarouselAnimator3)return (o.offsetHeight-q.offsetHeight)/2;}return 0;};l.prototype.$XUICarouselAnimator11=function(m){return this.$XUICarouselAnimator28(m,j);};l.prototype.$XUICarouselAnimator12=function(m){return this.$XUICarouselAnimator28(m,i);};l.prototype.$XUICarouselAnimator28=function(m,n){return Math.max.apply(null,this.$XUICarouselAnimator29(m,n));};l.prototype.$XUICarouselAnimator26=function(m){return this.$XUICarouselAnimator27(m,j);};l.prototype.$XUICarouselAnimator25=function(m){return this.$XUICarouselAnimator27(m,i);};l.prototype.$XUICarouselAnimator27=function(m,n){var o=void 0,p=void 0,q=void 0,r=m.style.position;c('Style').set(m,'position','static');if(n===i){o='offsetWidth';p='marginLeft';q='marginRight';}else{o='offsetHeight';p='marginTop';q='marginBottom';}p=parseInt(c('Style').get(m,p),10);q=parseInt(c('Style').get(m,q),10);var s=m[o]+p+q;c('Style').set(m,'position',r);return s;};l.prototype.$XUICarouselAnimator13=function(m){return this.$XUICarouselAnimator30(m,j);};l.prototype.$XUICarouselAnimator14=function(m){return this.$XUICarouselAnimator30(m,i);};l.prototype.$XUICarouselAnimator29=function(m,n){return m.items.map(function(o){return this.$XUICarouselAnimator27(o,n);}.bind(this));};l.prototype.$XUICarouselAnimator30=function(m,n){var o=this.$XUICarouselAnimator29(m,n);return o.reduce(function(p,q){return p+q;},0);};l.prototype.$XUICarouselAnimator22=function(m,n){if(!this.$XUICarouselAnimator5)return Infinity;var o=m.viewport,p=this.$XUICarouselAnimator30(m,n),q=n===i?o.offsetWidth:o.offsetHeight;return p-q;};l.prototype.$XUICarouselAnimator21=function(){return this.$XUICarouselAnimator2?i:j;};f.exports=l;}),null);
__d('XUICarousel.react',['cx','fbt','ArbiterMixin','React','ReactDOM','ReactComponentWithPureRenderMixin','XUICarouselAnimator','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k='`arrows` must be an array of [<prevArrow/>, <nextArrow/>] or null',l='prev',m='next',n=c('React').createClass({displayName:'XUICarousel',mixins:[c('ArbiterMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{arrows:function p(q,r){var s=q[r];if(s){if(!Array.isArray(s)||s.length!==2)return new Error(k);var t=s[0],u=s[1];if(!c('React').isValidElement(t)||!c('React').isValidElement(u))return new Error(k);}},animator:j.shape({createAnimation:j.func.isRequired,getCSSClassForRoot:j.func.isRequired,getViewportWidth:j.func.isRequired,getViewportHeight:j.func.isRequired,getContainerWidth:j.func.isRequired,getContainerHeight:j.func.isRequired,update:j.func.isRequired,remove:j.func.isRequired}).isRequired,initialIndex:j.number,moveStep:j.number,_hackToUseMoveStepInShouldRenderArrow:j.bool,animationDuration:j.number,initialAutoplay:j.bool,wrapAround:j.bool,autoplayDirection:j.oneOf(['forward','backward']),stopAutoplayOnHover:j.bool,autoplayInterval:j.number,resizeViewport:j.oneOf(['disabled','fixed','dynamic']),viewportWidth:j.number,viewportHeight:j.number,onItemClick:j.func,resetInitialIndex:j.bool},getDefaultProps:function p(){return {animator:new (c('XUICarouselAnimator'))({type:'horizontal',centered:true,firstAndLastAligned:false}),initialIndex:0,moveStep:1,animationDuration:200,initialAutoplay:true,autoplayInterval:5000,autoplayDirection:'forward',stopAutoplayOnHover:true,_hackToUseMoveStepInShouldRenderArrow:false,resizeViewport:'fixed',wrapAround:true,resetInitialIndex:false};},getInitialState:function p(){return {index:this.props.initialIndex,autoplay:this.props.initialAutoplay,containerWidth:0,animatorClassForRoot:this.props.animator.getCSSClassForRoot(),containerHeight:0,viewportWidth:'auto',viewportHeight:'auto'};},getItemCount:function p(){return c('React').Children.count(this.props.children);},_getItems:function p(){var q=this.getItemCount(),r=[];for(var s=0;s<q;s++)if(this.refs.itemsContainer&&this.refs.itemsContainer.childNodes[s])r[s]=this.refs.itemsContainer.childNodes[s];return r;},_getContextForAnimator:function p(){var q=this._getItems().map(function(r){return c('ReactDOM').findDOMNode(r);});if(this.props.resetInitialIndex&&this.state.index>q.length-1)this.setIndex(0);return {container:c('ReactDOM').findDOMNode(this.refs.itemsContainer),items:q,viewport:c('ReactDOM').findDOMNode(this.refs.viewport)};},componentDidMount:function p(){var q=this.props.animator,r=this._getContextForAnimator();this.setState({containerWidth:q.getContainerWidth(r),containerHeight:q.getContainerHeight(babelHelpers['extends']({},r,{index:this.state.index})),viewportWidth:q.getViewportWidth(r),viewportHeight:q.getViewportHeight(babelHelpers['extends']({},r,{index:this.state.index}))});q.update(babelHelpers['extends']({},r,{index:this.state.index}));if(this.state.autoplay)this._autoplay();},componentWillMount:function p(){this._isHovering=false;this._autoplayInterval=null;this._animation=null;},componentWillUnmount:function p(){this._stopCurrentAnimation();this._stopAutoplay();},componentWillUpdate:function p(q,r){var s=o(this.props,q),t=o(this.state,r),u=this._getContextForAnimator();if(q.children.length<r.index)this.setState({index:0});var v=q.animator;if(s.animator){this._stopCurrentAnimation();this.props.animator.remove(u);}var w=void 0,x=this.state.index;if(this._prevReactItems&&this._prevReactItems.length){var y=c('React').Children.map(q.children,function(z){return z.props.childIndex;});x=Math.max(y.indexOf(this._prevReactItems[this.state.index]),0);}if(this.state.index!==x)this._nextIndex=x;if(t.index){this.inform('animation_start',r.index);if(this._animation)this._animation.stop();w=v.createAnimation(babelHelpers['extends']({},u,{nextIndex:r.index,curIndex:x,animate:!this._nextIndex}));this._animation=w;w.duration(q.animationDuration);w.addListener('done',this._onAnimationDone.bind(this,r.index));w.go();}if(t.autoplay||s.autoplayInterval||s.autoplayDirection){this._stopAutoplay();if(r.autoplay&&(!this._isHovering||!q.stopAutoplayOnHover))this._autoplay();}this._prevReactItems=c('React').Children.map(this.props.children,function(z){return z.props.childIndex;});},componentDidUpdate:function p(q,r){var s=this.props.animator,t=this._getContextForAnimator(),u=false,v=false,w=false,x=this._prevItems,y=this._getItems();this._prevItems=y;var z=!x||x.length!==y.length||!x.every(function(aa,ba){return aa===y[ba];});if(this._nextIndex){this.setState({index:this._nextIndex});this._nextIndex=null;}if(z){w=true;u=true;v=this.props.resizeViewport==='dynamic';this.inform('item_count_updated',this.getItemCount());}if(s!==q.animator){this.setState({animatorClassForRoot:s.getCSSClassForRoot()});u=true;w=true;}if(q.resizeViewport!==this.props.resizeViewport){v=q.resizeViewport==='disabled'||this.props.resizeViewport==='dynamic';u=true;}if(w)this.setState({containerWidth:s.getContainerWidth(t),containerHeight:s.getContainerHeight(babelHelpers['extends']({},t,{index:this.state.index}))});if(v)this.setState({viewportWidth:s.getViewportWidth(t),viewportHeight:s.getViewportHeight(babelHelpers['extends']({},t,{index:this.state.index}))});if(u)s.update(babelHelpers['extends']({},t,{index:this.state.index}));},setAutoplayEnabled:function p(q){this.setState({autoplay:q});},_autoplay:function p(){if(!this._autoplayInterval){var q=this.props.autoplayDirection==='forward'?this.next:this.prev;this._autoplayInterval=setInterval(q,this.props.autoplayInterval);}},_stopAutoplay:function p(){clearInterval(this._autoplayInterval);this._autoplayInterval=null;},_stopCurrentAnimation:function p(){if(this._animation){this._animation.stop();this._animation=null;}},_onAnimationDone:function p(q){this._animation=null;this.inform('animationEnd',q);},_onMouseEnter:function p(){this._isHovering=true;if(this.props.stopAutoplayOnHover)this._stopAutoplay();},_onMouseLeave:function p(){this._isHovering=false;if(this.state.autoplay)this._autoplay();},setIndex:function p(q){if(q>=0&&q<this.props.children.length){this.setState({index:q});this._stopAutoplay();if(this.state.autoplay&&(!this.props.stopAutoplayOnHover||!this._isHovering))this._autoplay();return true;}return false;},next:function p(){var q=this.state.index,r=this.getItemCount(),s=r-1;if((q!==s||q===s&&this.props.wrapAround)&&r){var t=q===s?0:Math.min(s,q+this.props.moveStep);this.setIndex(t);}},prev:function p(){var q=this.state.index,r=this.getItemCount();if(q!==0||q===0&&this.props.wrapAround){var s=q===0?r-1:Math.max(q-this.props.moveStep,0);this.setIndex(s);}},_renderChildren:function p(){return c('React').Children.map(this.props.children,function(q,r){return c('React').cloneElement(q,{ref:q.props.childIndex,index:r,onClick:function(){if(this.props.onItemClick){this.props.onItemClick(r);}else this.setIndex(r);}.bind(this),selected:r===this.state.index,size:this.props.children.length});}.bind(this));},_shouldRenderNextArrow:function p(){var q=this.props,r=q.wrapAround,s=q.animator;if(r)return true;if(!this.props._hackToUseMoveStepInShouldRenderArrow){if(this.props.children.length-1!==this.state.index)return true;}else if(this.props.children.length>this.state.index+this.props.moveStep)return true;var t=this._getContextForAnimator();return s.needsNextArrow(t,this.state.index);},_renderArrows:function p(){if(this.props.arrows){var q=this.props.arrows,r=q[0],s=q[1];r=c('React').cloneElement(r,{key:l,onClick:r.props.onClick?r.props.onClick:this.prev,onBlur:this._onMouseLeave,onFocus:this._onMouseEnter,disabled:!this.props.wrapAround&&this.state.index===0,className:c('joinClasses')("_50z1",r.props.className),label:i._("Previous")});s=c('React').cloneElement(s,{key:m,onClick:s.props.onClick?s.props.onClick:this.next,onBlur:this._onMouseLeave,onFocus:this._onMouseEnter,disabled:!this._shouldRenderNextArrow(),className:c('joinClasses')("_50z2",s.props.className),label:i._("Next")});return [r,s];}return null;},render:function p(){var q=this.props,r=q.className,s=q.viewportWidth,t=q.viewportHeight,u=q.resizeViewport;r=c('joinClasses')(r,this.state.animatorClassForRoot,"_50z3"+(this.state.animating?' '+"_50zi":''));var v={height:t,width:s};if(u!=='disabled'){v.width=s||this.state.viewportWidth;v.height=t||this.state.viewportHeight;}return c('React').createElement('div',{className:r},c('React').createElement('div',{className:"_50zm",ref:'viewport',onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,style:babelHelpers['extends']({},v)},c('React').createElement('div',{style:{width:this.state.viewportWidth||'auto',height:this.state.viewportHeight||'auto'}},c('React').createElement('div',{className:"_50zn clearfix",style:{width:this.state.containerWidth||'auto',height:this.state.containerHeight||'auto'},ref:'itemsContainer'},this._renderChildren())),this._renderArrows()));}});function o(p,q){var r={};for(var s in p)if(Object.prototype.hasOwnProperty.call(p,s))r[s]=p[s]!==q[s];for(var t in q)if(Object.prototype.hasOwnProperty.call(q,t)&&!Object.prototype.hasOwnProperty.call(r,t))r[t]=p[t]!==q[t];return r;}f.exports=n;}),null);
__d('XUICarouselItem.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.children,o=m.className,p=m.selected,q=m.index,r=m.size,s=babelHelpers.objectWithoutProperties(m,['children','className','selected','index','size']);o=c('joinClasses')(o,"_3el6"+(p?' '+"_3el7":''));return c('React').createElement('div',{role:'article','aria-hidden':p?'false':'true','aria-posinset':q,'aria-setsize':r,className:"_3el8 clearfix"},c('React').createElement('div',babelHelpers['extends']({},s,{className:o}),n));};function l(){i.apply(this,arguments);}l.propTypes={selected:k.bool};f.exports=l;}),null);
__d("XFollowPrivacyNuxLogViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/follow\/follow_privacy\/nux\/log\/view\/",{});}),null);
__d("XPubcontentChainedSuggestionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pubcontent\/chained_suggestions\/",{pageid:{type:"String"},profileid:{type:"Int"},eh:{type:"Bool",defaultValue:false},friendid:{type:"Int"}});}),null);
__d('SubscribeButton',['Arbiter','AsyncRequest','Button','CSS','Event','TooltipData','XFollowPrivacyNuxLogViewAsyncController','XPubcontentChainedSuggestionsController'],(function a(b,c,d,e,f,g){var h={SUBSCRIBED:'FollowingUser',UNSUBSCRIBED:'UnfollowingUser',_enable:function i(j){c('Button').setEnabled(j,true);c('TooltipData').remove(j);},_disable:function i(j,k){c('Button').setEnabled(j,false);if(k)c('TooltipData').set(j,k);},init:function i(j,k,l,m,n,o,p,q,r,s,t,u){var v=!t,w=!(r===undefined||r===null);if(w&&!p&&!q)h._disable(k,r);c('Event').listen(k,'click',function(){c('Arbiter').inform(h.SUBSCRIBED,{profile_id:m,contextID:u,suppress:true});if(s){s.show();var x=c('XFollowPrivacyNuxLogViewAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(x).send();}});c('Arbiter').subscribe(h.SUBSCRIBED,function(x,y){if(m==y.profile_id){if(!n)l.suppressNextMouseEnter&&l.suppressNextMouseEnter();if(w){if(typeof y.connected!=='undefined')p=y.connected;if(p||q)h._enable(k);}if(y.focusOnClick!==undefined)v=y.focusOnClick;j.swap(v);if(o===true&&y.chaining!==false){var z=c('XPubcontentChainedSuggestionsController').getURIBuilder().setInt('profileid',m).getURI();new (c('AsyncRequest'))().setURI(z).send();}}});c('Arbiter').subscribe(h.UNSUBSCRIBED,function(x,y){if(m==y.profile_id){j.unswap(v);l.hideFlyout&&l.hideFlyout();if(w){if(typeof y.connected!=='undefined')p=y.connected;if(!p&&!q)h._disable(k,r);}c('Arbiter').inform('SubMenu/Reset');}});},initSubscribe:function i(j,k){c('Event').listen(j,'click',function(){setTimeout(c('Arbiter').inform.bind(c('Arbiter'),h.SUBSCRIBED,{profile_id:k}),0);});},initUnsubscribe:function i(j,k,l){c('Event').listen(j,'click',function(){setTimeout(c('Arbiter').inform.bind(c('Arbiter'),h.UNSUBSCRIBED,{profile_id:k,contextID:l}),0);});},initSubscribeMenuItem:function i(j,k,l){c('CSS').hide(k);this._initMenuItem(j,k,l);},initUnsubscribeMenuItem:function i(j,k,l){c('CSS').hide(j);this._initMenuItem(j,k,l);},_initMenuItem:function i(j,k,l){this.initSubscribe(j,l);this.initUnsubscribe(k,l);c('Arbiter').subscribe(h.SUBSCRIBED,function(m,n){c('CSS').hide(j);c('CSS').show(k);});c('Arbiter').subscribe(h.UNSUBSCRIBED,function(m,n){c('CSS').hide(k);c('CSS').show(j);});}};f.exports=h;}),null);
__d("XFeedSeeFirstNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/feed\/control\/see_first\/nux\/",{});}),null);
__d('ProfileHoverButton',['csx','cx','Arbiter','AsyncRequest','CSS','DOM','Event','FeedBlacklistButton','FollowRequestResultEnum','MenuStaticItem','ProfileSubFollowStatus','Run','SeeFirstNuxEvents','SubscribeButton','SubscriptionsHandler','XFeedSeeFirstNuxController'],(function a(b,c,d,e,f,g,h,i){var j=1,k='live_notifs',l={follow:0,see_first:0,subscribe_all_live_notifications:k,subscribe_suggested_live_notifications:k,subscribe_none_live_notifications:k};function m(n,o,p,q,r){'use strict';this.$ProfileHoverButton1=o;this.$ProfileHoverButton2=p;this.$ProfileHoverButton3=r;this.$ProfileHoverButton4=q;this.$ProfileHoverButton5=n;this.$ProfileHoverButton6=null;this.$ProfileHoverButton7=new (c('SubscriptionsHandler'))();this.$ProfileHoverButton2.subscribe('itemclick',function(s,t){if(t.item instanceof c('MenuStaticItem'))return;var u=t.item.getValue();if(u==='unfollow'){c('Arbiter').inform(c('SubscribeButton').UNSUBSCRIBED,{profile_id:this.$ProfileHoverButton3.id});c('Arbiter').inform(c('FeedBlacklistButton').BLACKLIST,{profile_id:this.$ProfileHoverButton3.id});if(this.$ProfileHoverButton4)this.$ProfileHoverButton4.hide();this.$ProfileHoverButton5.getPopover().hideLayer();}else{this.setSelected(u);if(u===c('ProfileSubFollowStatus').SEE_FIRST&&this.$ProfileHoverButton4){this.$ProfileHoverButton4.hide();this.logNux(c('SeeFirstNuxEvents').SEE_FIRST_SELECTED);}}}.bind(this));this.$ProfileHoverButton7.addSubscriptions(c('Arbiter').subscribe(c('SubscribeButton').SUBSCRIBED,this.setSelected.bind(this,c('ProfileSubFollowStatus').REGULAR_FOLLOW)));this.$ProfileHoverButton7.addSubscriptions(c('Arbiter').subscribe(c('FollowRequestResultEnum').REVERT,this.handleResponse.bind(this)));if(this.$ProfileHoverButton4){this.$ProfileHoverButton4.show();this.logNux(c('SeeFirstNuxEvents').IMP);this.$ProfileHoverButton7.addSubscriptions(c('Event').listen(c('DOM').find(this.$ProfileHoverButton4.getRoot(),"._50zy"),'click',this.logNux.bind(this,c('SeeFirstNuxEvents').XOUT)));}c('Run').onLeave(this.cleanUp.bind(this));}m.prototype.logNux=function(event){'use strict';var n=c('XFeedSeeFirstNuxController').getURIBuilder().getURI();new (c('AsyncRequest'))(n).setData({event:event,id:this.$ProfileHoverButton3.id}).send();};m.prototype.getButtons=function(){'use strict';return c('DOM').scry(this.$ProfileHoverButton1,"._3oz-");};m.prototype.getSelected=function(){'use strict';var n=this.getButtons(),o=null;n.forEach(function(p){var q=p.getAttribute('data-status');if(c('CSS').matchesSelector(p,"._52-0"))o=q;});return o;};m.prototype.setSelected=function(n){'use strict';this.$ProfileHoverButton6=this.getSelected();var o=this.getButtons(),p=l[n];o.forEach(function(q){if(p===k)return;var r=q.getAttribute('data-status');if(r===n){c('CSS').addClass(q,"_52-0");}else c('CSS').removeClass(q,"_52-0");});this.$ProfileHoverButton2.forEachItem(function(q){if(!q.getValue)return;var r=q.getValue(),s=l[r];if(r==='unfollow')return;var t=q.getRoot();if(r===n){c('CSS').addClass(t,"_52-0");}else if(s===p)c('CSS').removeClass(t,"_52-0");});};m.prototype.handleResponse=function(event,n){'use strict';if(n.id!==this.$ProfileHoverButton3.id||n.location!==j)return;if(event===c('FollowRequestResultEnum').REVERT)this.revert();};m.prototype.revert=function(){'use strict';if(this.$ProfileHoverButton6===null)return;this.setSelected(this.$ProfileHoverButton6);};m.prototype.cleanUp=function(){'use strict';this.$ProfileHoverButton7&&this.$ProfileHoverButton7.release();this.$ProfileHoverButton7=null;this.$ProfileHoverButton1=null;this.$ProfileHoverButton2=null;this.$ProfileHoverButton3=null;};f.exports=m;}),null);
__d('SeeFirstProfilePopoverMenu',['PopoverMenu'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('PopoverMenu'));i=h&&h.prototype;j.prototype._onMenuDone=function(k){'use strict';};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('tickerPhoteSnowLiftOpenStatus',['ArbiterMixin'],(function a(b,c,d,e,f,g){var h='CheckIsOpen',i={registerOpenChecker:function j(k){return i.subscribe(h,function(l,m){if(k())m.is_Open=true;});},checkIsOpen:function j(){var k={is_Open:false};i.inform(h,k);return k.is_Open;}};Object.assign(i,c('ArbiterMixin'));f.exports=i;}),null);
__d('AsyncUploadBase',['ArbiterMixin','AsyncRequest','AsyncResponse','BrowserSupport','Form','forEachObject','mixin','removeFromArray'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;j.parseFiles=function(l){'use strict';var m={};c('forEachObject')(l,function(n,o){if(Array.isArray(n)){m[o]=n;}else{m[o]=[];if(n instanceof window.FileList){for(var p=0;p<n.length;p++)m[o].push(n.item(p));}else if(n instanceof window.File||n instanceof window.Blob)m[o].push(n);}});return m;};function j(l){'use strict';i.constructor.call(this);this._customHeader={};this.setURI(l);this.setNetworkErrorRetryLimit(0);}j.prototype.setAllowCrossOrigin=function(l){'use strict';this._allowCrossOrigin=!!l;return this;};j.prototype.setAllowCrossPageTransition=function(l){'use strict';this._allowCrossPageTransition=!!l;return this;};j.prototype.setCustomHttpHeader=function(l,m){'use strict';this._customHeader[l]=m;return this;};j.prototype.setData=function(l){'use strict';this._data=l;return this;};j.prototype.setLimit=function(l){'use strict';this._limit=l;return this;};j.prototype.setNetworkErrorRetryLimit=function(l){'use strict';this._retryLimit=l;return this;};j.prototype.setPreprocessHandler=function(l){'use strict';this._preprocessHandler=l;return this;};j.prototype.setRelativeTo=function(l){'use strict';this._relativeTo=l;return this;};j.prototype.setStatusElement=function(l){'use strict';this._statusElement=l;return this;};j.prototype.setURI=function(l){'use strict';this._uri=l;return this;};j.prototype.suspend=function(){'use strict';this._suspended=true;return this;};j.prototype.resume=function(){'use strict';this._suspended=false;this._processQueue();return this;};j.prototype.isUploading=function(){'use strict';return this._inFlight;};j.prototype._createFileUpload=function(l,m,n){'use strict';return new k(l,m,n);};j.prototype._processQueue=function(){'use strict';if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var l=this._waiting.shift();if(this._preprocessHandler){this._preprocessHandler(l,this._processUpload.bind(this));}else this._processUpload(l);this._pending.push(l);}};j.prototype._processUpload=function(l){'use strict';var m=c('Form').createFormData(l.getData()||this._data);if(l.getFile()){m.append(l.getName(),l.getFile());var n=l.getFile().uploadID;if(n)m.append('upload_id',n);}var o=new (c('AsyncRequest'))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(m).setStatusElement(this._statusElement).setHandler(this._success.bind(this,l)).setErrorHandler(this._failure.bind(this,l)).setUploadProgressHandler(this._progress.bind(this,l)).setInitialHandler(this._initial.bind(this,l));for(var p in this._customHeader)o.setRequestHeader(p,this._customHeader[p]);if(this._relativeTo)o.setRelativeTo(this._relativeTo);o.send();l.setAsyncRequest(o);this._inFlight=true;if(!l.getRetryCount())this.inform('start',l);};j.prototype._abort=function(l){'use strict';if(this._pending.indexOf(l)!==-1){c('removeFromArray')(this._pending,l);this._processQueue();}c('removeFromArray')(this._waiting,l);l.abort();};j.prototype._initial=function(l){'use strict';if(l.isAborted())return;this.inform('initial',l);};j.prototype._success=function(l,m){'use strict';if(l.isAborted()){this.inform('success_after_abort',m);return;}this._complete(l);this.inform('success',l.handleSuccess(m));this._processQueue();};j.prototype._retryUpload=function(l){'use strict';l.increaseRetryCount();this._processUpload(l);};j.prototype._failure=function(l,m){'use strict';if(l.isAborted())return;if(m.error===1004&&l.getRetryCount()<this._retryLimit)return this._retryUpload(l);this._complete(l);if(this.inform('failure',l.handleFailure(m))!==false)c('AsyncResponse').defaultErrorHandler(m);this._processQueue();};j.prototype._progress=function(l,event){'use strict';if(l.isAborted())return;this.inform('progress',l.handleProgress(event));};j.prototype._complete=function(l){'use strict';c('removeFromArray')(this._pending,l);if(!this._pending.length)this._inFlight=false;};j.isSupported=function(){'use strict';return c('BrowserSupport').hasFileAPI();};Object.assign(j.prototype,{_limit:10});function k(l,m,n){'use strict';this._name=l;this._file=m;this._data=n;this._success=null;this._response=null;this._progressEvent=null;this._request=null;this._numRetries=0;this._aborted=false;}k.prototype.getName=function(){'use strict';return this._name;};k.prototype.getFile=function(){'use strict';return this._file;};k.prototype.setFile=function(l){'use strict';this._file=l;};k.prototype.getData=function(){'use strict';return this._data;};k.prototype.isComplete=function(){'use strict';return this._success!==null;};k.prototype.isSuccess=function(){'use strict';return this._success===true;};k.prototype.getResponse=function(){'use strict';return this._response;};k.prototype.getProgressEvent=function(){'use strict';return this._progressEvent;};k.prototype.setAsyncRequest=function(l){'use strict';this._request=l;return this;};k.prototype.increaseRetryCount=function(){'use strict';this._numRetries++;return this;};k.prototype.getRetryCount=function(){'use strict';return this._numRetries;};k.prototype.isWaiting=function(){'use strict';return !this._request;};k.prototype.isAborted=function(){'use strict';return this._aborted;};k.prototype.abort=function(){'use strict';this._request=null;this._aborted=true;};k.prototype.handleSuccess=function(l){'use strict';this._success=true;this._response=l;this._progressEvent=null;return this;};k.prototype.handleFailure=function(l){'use strict';this._success=false;this._response=l;this._progressEvent=null;return this;};k.prototype.handleProgress=function(event){'use strict';this._progressEvent=event;return this;};f.exports=j;}),null);
__d('AsyncUploadRequest',['AsyncUploadBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AsyncUploadBase'));i=h&&h.prototype;j.prototype.setFiles=function(k){'use strict';this._files=c('AsyncUploadBase').parseFiles(k);return this;};j.prototype.abort=function(){'use strict';this._uploads.forEach(function(k){return this._abort(k);}.bind(this),this);};j.prototype.send=function(){'use strict';if(this._inFlight)return;this._inFlight=true;this._uploads=[];for(var k in this._files)this._files[k].forEach(function(l){this._uploads.push(this._createFileUpload(k,l));}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];if(this._uploads.length){this._processQueue();}else this._processUpload(this._createFileUpload(null,null));};j.prototype._processQueue=function(){'use strict';i._processQueue.call(this);if(!this._pending.length&&!this._waiting.length)this.inform('complete',this._uploads);};j.isSupported=function(){'use strict';return c('AsyncUploadBase').isSupported();};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('Dialog',['fbt','Animation','Arbiter','AsyncRequest','Button','ContextualThing','CSS','DOM','Event','Focus','Form','HTML','JSLog','Keys','Locale','Parent','Run','Style','URI','Vector','bind','createArrayFromMixed','emptyFunction','getObjectValues','getOverlayZIndex','removeFromArray','shield'],(function $module_Dialog(global,require,requireDynamic,requireLazy,module,exports,fbt){var _supportsPositionFixed2=function _supportsPositionFixed(){var body=document.body,test=document.createElement('div'),control=document.createElement('div');body.insertBefore(test,body.firstChild);body.insertBefore(control,body.firstChild);test.style.position='fixed';test.style.top='20px';var result=test.offsetTop!==control.offsetTop;body.removeChild(test);body.removeChild(control);_supportsPositionFixed2=require('emptyFunction').thatReturns(result);return result;};function Dialog(model){'use strict';this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+Dialog._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(model)this._setFromModel(model);Dialog._init();}Dialog.prototype.show=function(){'use strict';this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;};Dialog.prototype.showLoading=function(){'use strict';this._loading=true;require('CSS').addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;};Dialog.prototype.hide=function(){'use strict';if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&Dialog._stack.length<=1){this._fadeOut();}else this._hide();return this;};Dialog.prototype.cancel=function(){'use strict';if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();};Dialog.prototype.getRoot=function(){'use strict';return this._obj;};Dialog.prototype.getBody=function(){'use strict';return require('DOM').scry(this._obj,'div.dialog_body')[0];};Dialog.prototype.getButtonElement=function(button){'use strict';if(typeof button=='string')button=Dialog._findButton(this._buttons,button);if(!button||!button.name)return null;var inputs=require('DOM').scry(this._popup,'input'),name_filter=function name_filter(elem){return elem.name==button.name;};return inputs.filter(name_filter)[0]||null;};Dialog.prototype.getContentNode=function(){'use strict';return require('DOM').find(this._content,'div.dialog_content');};Dialog.prototype.getFormData=function(){'use strict';return require('Form').serialize(this.getContentNode());};Dialog.prototype.setAllowCrossPageTransition=function(allow){'use strict';this._cross_transition=allow;return this;};Dialog.prototype.setAllowCrossQuicklingNavigation=function(allow){'use strict';this._cross_quickling=allow;return this;};Dialog.prototype.setShowing=function(){'use strict';this.show();return this;};Dialog.prototype.setHiding=function(){'use strict';this.hide();return this;};Dialog.prototype.setTitle=function(title){'use strict';var node=this._nodes.title,inner_node=this._nodes.title_inner,content_node=this._nodes.content;require('DOM').setContent(inner_node,this._format(title||'',true));require('CSS').conditionShow(node,!!title);require('CSS').conditionClass(content_node,'dialog_content_titleless',!title);return this;};Dialog.prototype.setInvertTitleColor=function(invert){'use strict';if(invert){this._nodes.title.className='dialog_title_inverted';}else this._nodes.title.className='dialog_title';return this;};Dialog.prototype.setBody=function(body){'use strict';require('DOM').setContent(this._nodes.body,this._format(body));return this;};Dialog.prototype.setExtraData=function(data){'use strict';this._extra_data=data;return this;};Dialog.prototype.setReturnData=function(data){'use strict';this._return_data=data;return this;};Dialog.prototype.setShowLoading=function(show){'use strict';this._show_loading=show;return this;};Dialog.prototype.setFullBleed=function(is_full_bleed){'use strict';this._full_bleed=is_full_bleed;this._updateWidth();require('CSS').conditionClass(this._obj,'full_bleed',is_full_bleed);return this;};Dialog.prototype.setCausalElement=function(elem){'use strict';this._causal_elem=elem;return this;};Dialog.prototype.setUserData=function(data){'use strict';this._user_data=data;return this;};Dialog.prototype.getUserData=function(){'use strict';return this._user_data;};Dialog.prototype.setAutohide=function(autohide){'use strict';if(autohide){if(this._showing){this._autohide_timeout=setTimeout(require('shield')(this.hide,this),autohide);}else this._autohide=autohide;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;};Dialog.prototype.setSummary=function(summary){'use strict';var node=this._nodes.summary;require('DOM').setContent(node,this._format(summary||''));require('CSS').conditionShow(node,!!summary);return this;};Dialog.prototype.setButtons=function(b){'use strict';var buttons,button;if(!Array.isArray(b)){buttons=Array.from(arguments);}else buttons=b;for(var i=0;i<buttons.length;++i)if(typeof buttons[i]=='string'){button=Dialog._findButton(Dialog._STANDARD_BUTTONS,buttons[i]);buttons[i]=button;}this._buttons=buttons;var button_content=[];if(buttons&&buttons.length>0)for(var ii=0;ii<buttons.length;ii++){button=buttons[ii];var button_input=require('DOM').create('input',{type:'button',name:button.name||'',value:button.label}),button_node=require('DOM').create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},button_input);if(button.className){button.className.split(/\s+/).forEach(function(e){require('CSS').addClass(button_node,e);});if(require('CSS').hasClass(button_node,'inputaux')){require('CSS').removeClass(button_node,'inputaux');require('CSS').removeClass(button_node,'uiButtonConfirm');}if(require('CSS').hasClass(button_node,'uiButtonSpecial'))require('CSS').removeClass(button_node,'uiButtonConfirm');}if(button.icon)require('DOM').prependContent(button_node,require('DOM').create('img',{src:button.icon,className:'img mrs'}));if(button.disabled)require('Button').setEnabled(button_node,false);require('Event').listen(button_input,'click',this._handleButton.bind(this,button.name));for(var attr in button)if(attr.indexOf('data-')===0&&attr.length>5)button_input.setAttribute(attr,button[attr]);button_content.push(button_node);}require('DOM').setContent(this._nodes.buttons,button_content);this._updateButtonVisibility();return this;};Dialog.prototype.setButtonsMessage=function(message){'use strict';require('DOM').setContent(this._nodes.button_message,this._format(message||''));this._has_button_message=!!message;this._updateButtonVisibility();return this;};Dialog.prototype._updateButtonVisibility=function(){'use strict';var show=this._buttons.length>0||this._has_button_message;require('CSS').conditionShow(this._nodes.button_wrapper,show);require('CSS').conditionClass(this._obj,'omitDialogFooter',!show);};Dialog.prototype.setClickButtonOnEnter=function(input_id,button){'use strict';this._clickOnEnterTarget=input_id;if(!this._clickOnEnterListener)this._clickOnEnterListener=require('Event').listen(this._nodes.body,'keypress',function(event){var target=event.getTarget();if(target&&target.id===this._clickOnEnterTarget)if(require('Event').getKeyCode(event)==require('Keys').RETURN){this._handleButton(button);event.kill();}return true;}.bind(this));return this;};Dialog.prototype.setStackable=function(stackable,shown){'use strict';this._is_stackable=stackable;this._shown_while_stacked=stackable&&shown;return this;};Dialog.prototype.setHandler=function(handler){'use strict';this._handler=handler;return this;};Dialog.prototype.setCancelHandler=function(cancelHandler){'use strict';this._cancelHandler=Dialog.call_or_eval.bind(null,this,cancelHandler);return this;};Dialog.prototype.setCloseHandler=function(close_handler){'use strict';this._close_handler=Dialog.call_or_eval.bind(null,this,close_handler);return this;};Dialog.prototype.clearHandler=function(){'use strict';return this.setHandler(null);};Dialog.prototype.setPostURI=function(post_uri,asynchronous){'use strict';if(asynchronous===undefined)asynchronous=true;if(asynchronous){this.setHandler(this._submitForm.bind(this,'POST',post_uri));}else this.setHandler(function(){require('Form').post(post_uri,this.getFormData());this.hide();}.bind(this));return this;};Dialog.prototype.setGetURI=function(get_uri){'use strict';this.setHandler(this._submitForm.bind(this,'GET',get_uri));return this;};Dialog.prototype.setModal=function(modal){'use strict';this._modal=modal;require('CSS').conditionClass(this._obj,'generic_dialog_modal',modal);return this;};Dialog.prototype.setSemiModal=function(clickout){'use strict';if(clickout){this.setModal(true);this._semiModalListener=require('Event').listen(this._obj,'click',function(e){if(!require('DOM').contains(this._popup,e.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=clickout;return this;};Dialog.prototype.setWideDialog=function(is_wide){'use strict';this._wide_dialog=is_wide;this._updateWidth();return this;};Dialog.prototype.setContentWidth=function(width){'use strict';this._content_width=width;this._updateWidth();return this;};Dialog.prototype.setTitleLoading=function(loading){'use strict';if(loading===undefined)loading=true;var header=require('DOM').find(this._popup,'h2.dialog_title');if(header)require('CSS').conditionClass(header,'loading',loading);return this;};Dialog.prototype.setSecure=function(is_secure){'use strict';require('CSS').conditionClass(this._nodes.title,'secure',is_secure);return this;};Dialog.prototype.setClassName=function(class_name){'use strict';class_name.split(/\s+/).forEach(require('CSS').addClass.bind(require('CSS'),this._obj));return this;};Dialog.prototype.setFadeEnabled=function(enabled){'use strict';this._fade_enabled=enabled;return this;};Dialog.prototype.setFooter=function(footer){'use strict';var node=this._nodes.footer;require('DOM').setContent(node,this._format(footer||''));require('CSS').conditionShow(node,!!footer);return this;};Dialog.prototype.setAutoFocus=function(focus){'use strict';this._auto_focus=focus;return this;};Dialog.prototype.setTop=function(top){'use strict';this._top=top;this._resetDialogObj();return this;};Dialog.prototype.onloadRegister=function(handler){'use strict';require('createArrayFromMixed')(handler).forEach(function(i){if(typeof i=='string')i=new Function(i);this._onload_handlers.push(i.bind(this));}.bind(this));return this;};Dialog.prototype.setAsyncURL=function(url){'use strict';return this.setAsync(new (require('AsyncRequest'))(url));};Dialog.prototype.setAsync=function(async_request){'use strict';var handler=function(response){if(this._async_request!=async_request)return;this._async_request=null;var payload=response.getPayload(),dialog=payload;if(this._loading)this._showing=true;if(typeof dialog=='string'){this.setBody(dialog);}else this._setFromModel(dialog);this._update();}.bind(this),data=async_request.getData();data.__d=1;async_request.setData(data);var orig_handler=async_request.getHandler()||require('emptyFunction');async_request.setHandler(function(response){orig_handler(response);handler(response);});var request=async_request,orig_error_handler=request.getErrorHandler()||require('emptyFunction'),orig_trans_error_handler=request.getTransportErrorHandler()||require('emptyFunction'),handle_error=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),server_cancel_handler=request.getServerDialogCancelHandler()||handle_error;request.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(response){handle_error();orig_error_handler(response);}).setTransportErrorHandler(function(response){handle_error();orig_trans_error_handler(response);}).setServerDialogCancelHandler(server_cancel_handler);async_request.send();this._async_request=async_request;if(this._showing)this.show();return this;};Dialog.prototype._format=function(content){var sane=arguments.length<=1||arguments[1]===undefined?false:arguments[1];'use strict';if(typeof content=='string'){if(!sane)content=require('HTML')(content);}else content=require('HTML').replaceJSONWrapper(content);if(content instanceof require('HTML'))content.setDeferred(true);return content;};Dialog.prototype._update=function(){'use strict';if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(require('bind')(this,'hide'),this._autohide);require('CSS').removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;require('Focus').set(this._frame);};Dialog.prototype._runOnloads=function(){'use strict';for(var i=0;i<this._onload_handlers.length;++i)try{this._onload_handlers[i]();}catch(ex){}this._onload_handlers=[];};Dialog.prototype._updateWidth=function(){'use strict';var dialog_width=2*(Dialog._BORDER_WIDTH+Dialog._HALO_WIDTH);if(this._content_width){dialog_width+=this._content_width;if(!this._full_bleed)dialog_width+=2*Dialog._PADDING_WIDTH;}else if(this._wide_dialog){dialog_width+=Dialog.SIZE.WIDE;}else dialog_width+=Dialog.SIZE.STANDARD;this._popup.style.width=dialog_width+'px';};Dialog.prototype._updateZIndex=function(){'use strict';if(!this._hasSetZIndex&&this._causal_elem){var z_index=require('getOverlayZIndex')(this._causal_elem),node=this._causal_elem;while(!z_index&&(node=require('ContextualThing').getContext(node)))z_index=require('getOverlayZIndex')(node);this._hasSetZIndex=z_index>(this._modal?400:200);require('Style').set(this._obj,'z-index',this._hasSetZIndex?z_index:'');}};Dialog.prototype._renderDialog=function(){'use strict';this._updateZIndex();this._pushOntoStack();this._obj.style.height=null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var input=require('Form').getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(input){setTimeout(require('Form').focusFirst.bind(this,this._content),0);}else this._submit_on_enter=true;}var bottom=require('Vector').getElementDimensions(this._content).y+require('Vector').getElementPosition(this._content).y;Dialog._bottoms.push(bottom);this._bottom=bottom;Dialog._updateMaxBottom();return this;};Dialog.prototype._buildDialog=function(){'use strict';this._obj=require('DOM').create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';require('DOM').appendContent(document.body,this._obj);if(!this._popup)this._popup=require('DOM').create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);require('CSS').addClass(this._obj,'pop_dialog');if(require('Locale').isRTL())require('CSS').addClass(this._obj,'pop_dialog_rtl');require('DOM').setContent(this._popup,require('DOM').create('div',{className:'pop_container_advanced'},require('DOM').create('div',{className:'pop_content',id:'pop_content'})));var frame=require('DOM').find(this._popup,'div.pop_content');frame.setAttribute('tabIndex','0');frame.setAttribute('role','alertdialog');this._frame=this._content=frame;var loading=require('DOM').create('div',{className:'dialog_loading'},fbt._("Loading...")),title_inner=require('DOM').create('span'),title=require('DOM').create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},title_inner),summary=require('DOM').create('div',{className:'dialog_summary hidden_elem'}),body=require('DOM').create('div',{className:'dialog_body'}),buttons=require('DOM').create('div',{className:'rfloat mlm'}),button_message=require('DOM').create('div',{className:'dialog_buttons_msg'}),button_wrapper=require('DOM').create('div',{className:'dialog_buttons clearfix hidden_elem'},[buttons,button_message]),footer=require('DOM').create('div',{className:'dialog_footer hidden_elem'}),content=require('DOM').create('div',{className:'dialog_content'},[summary,body,button_wrapper,footer]);this._nodes={summary:summary,body:body,buttons:buttons,button_message:button_message,button_wrapper:button_wrapper,footer:footer,content:content,title:title,title_inner:title_inner};require('DOM').setContent(this._frame,[title,content,loading]);};Dialog.prototype._activeResize=function(){'use strict';if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}};Dialog.prototype.resetDialogPosition=function(){'use strict';if(!this._popup)return;this._resetDialogObj();};Dialog.prototype._resetDialogObj=function(){'use strict';var total_margin=2*Dialog._PAGE_MARGIN,viewport_dimensions=require('Vector').getViewportDimensions(),viewport_width=viewport_dimensions.x-total_margin,viewport_height=viewport_dimensions.y-total_margin,total_halo_width=2*Dialog._HALO_WIDTH,content_dimensions=require('Vector').getElementDimensions(this._content),content_width=content_dimensions.x+total_halo_width,content_height=content_dimensions.y+total_halo_width,top=this._top,empty_horiz_space=viewport_width-content_width,empty_vertical_space=viewport_height-content_height;if(empty_vertical_space<0){top=Dialog._PAGE_MARGIN;}else if(top>empty_vertical_space)top=Dialog._PAGE_MARGIN+Math.max(empty_vertical_space,0)/2;var is_fixed=_supportsPositionFixed2();if(!is_fixed)top+=require('Vector').getScrollPosition().y;require('Style').set(this._popup,'marginTop',top+'px');var scroll=is_fixed&&(empty_horiz_space<0||empty_vertical_space<0);require('CSS').conditionClass(this._obj,'generic_dialog_fixed_overflow',scroll);require('CSS').conditionClass(document.documentElement,'generic_dialog_overflow_mode',scroll);};Dialog.prototype._fadeOut=function(temporary){'use strict';if(!this._popup)return;try{new (require('Animation'))(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,temporary)).go();}catch(e){this._hide(temporary);}};Dialog.prototype._hide=function(temporary){'use strict';if(this._obj)this._obj.style.display='none';require('CSS').removeClass(document.documentElement,'generic_dialog_overflow_mode');clearInterval(this.active_hiding);if(this._bottom){var bs=Dialog._bottoms;bs.splice(bs.indexOf(this._bottom),1);Dialog._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&require('DOM').contains(this._obj,document.activeElement))require('Focus').set(this._previous_focus);if(temporary)return;this.destroy();};Dialog.prototype.destroy=function(){'use strict';this._popFromStack();clearInterval(this.active_hiding);if(this._obj){require('DOM').remove(this._obj);this._obj=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});};Dialog.prototype._handleButton=function(button){'use strict';if(typeof button=='string')button=Dialog._findButton(this._buttons,button);var value=Dialog.call_or_eval(button,button.handler);if(value===false)return;if(button.name=='cancel'){this.cancel();}else if(Dialog.call_or_eval(this,this._handler,{button:button})!==false)this.hide();};Dialog.prototype._submitForm=function(method,uri,button){'use strict';var data=this.getFormData();if(button)data[button.name]=button.name;if(this._extra_data)Object.assign(data,this._extra_data);var async_request=new (require('AsyncRequest'))().setURI(uri).setData(data).setMethod(method).setNectarModuleDataSafe(this._causal_elem).setReadOnly(method=='GET');this.setAsync(async_request);return false;};Dialog.prototype._setFromModel=function(original_model){'use strict';var model={};Object.assign(model,original_model);for(var propertyName in model){if(propertyName=='onloadRegister'){this.onloadRegister(model[propertyName]);continue;}var mutator=this['set'+propertyName.substr(0,1).toUpperCase()+propertyName.substr(1)];mutator.apply(this,require('createArrayFromMixed')(model[propertyName]));}};Dialog.prototype._updateBottom=function(){'use strict';var bottom=require('Vector').getElementDimensions(this._content).y+require('Vector').getElementPosition(this._content).y;Dialog._bottoms[Dialog._bottoms.length-1]=bottom;Dialog._updateMaxBottom();};Dialog.prototype._pushOntoStack=function(){'use strict';var stack=Dialog._stack;if(!stack.length)require('Arbiter').inform('layer_shown',{type:'Dialog'});require('removeFromArray')(stack,this);stack.push(this);for(var i=stack.length-2;i>=0;i--){var prev_dialog=stack[i];if(!prev_dialog._is_stackable&&!prev_dialog._async_request){prev_dialog._hide();}else if(!prev_dialog._shown_while_stacked)prev_dialog._hide(true);}};Dialog.prototype._popFromStack=function(){'use strict';var stack=Dialog._stack,was_top=stack[stack.length-1]===this;require('removeFromArray')(stack,this);if(stack.length){if(was_top)stack[stack.length-1].show();}else require('Arbiter').inform('layer_hidden',{type:'Dialog'});};Dialog._updateMaxBottom=function(){'use strict';Dialog.max_bottom=Math.max.apply(Math,Dialog._bottoms);};Dialog.newButton=function(name,label,className,handler){'use strict';var button={name:name,label:label};if(className)button.className=className;if(handler)button.handler=handler;return button;};Dialog.getCurrent=function(){'use strict';var stack=Dialog._stack;return stack.length?stack[stack.length-1]:null;};Dialog.hideCurrent=function(){'use strict';var dialog=Dialog.getCurrent();dialog&&dialog.hide();};Dialog.bootstrap=function(uri,data,read_only,method,model,elem){'use strict';data=data||{};Object.assign(data,new (require('URI'))(uri).getQueryData());method=method||(read_only?'GET':'POST');var status_elem=require('Parent').byClass(elem,'stat_elem')||elem;if(status_elem&&require('CSS').hasClass(status_elem,'async_saving'))return false;var request=new (require('AsyncRequest'))().setReadOnly(!!read_only).setMethod(method).setRelativeTo(elem).setStatusElement(status_elem).setURI(uri).setNectarModuleDataSafe(elem).setData(data),dialog=new Dialog(model).setCausalElement(elem).setAsync(request);dialog.show();return false;};Dialog.showFromModel=function(model,causal_element){'use strict';var dialog=new Dialog(model).setCausalElement(causal_element).show();if(model.hiding)dialog.hide();};Dialog._init=function(){'use strict';this._init=require('emptyFunction');require('Run').onLeave(require('shield')(Dialog._tearDown,null,false));require('Arbiter').subscribe('page_transition',require('shield')(Dialog._tearDown,null,true));require('Event').listen(document.documentElement,'keydown',function(event){if(require('Event').getKeyCode(event)==require('Keys').ESC&&!event.getModifiers().any){if(Dialog._escape())event.kill();}else if(require('Event').getKeyCode(event)==require('Keys').RETURN&&!event.getModifiers().any)if(Dialog._enter())event.kill();});require('Event').listen(window,'resize',function(event){var dialog=Dialog.getCurrent();dialog&&dialog._resetDialogObj();});};Dialog._findButton=function(buttons,name){'use strict';if(buttons)for(var i=0;i<buttons.length;++i)if(buttons[i].name==name)return buttons[i];return null;};Dialog._tearDown=function(is_page_transition){'use strict';var stack=Dialog._stack.slice();for(var ii=stack.length-1;ii>=0;ii--)if(is_page_transition&&!stack[ii]._cross_transition||!is_page_transition&&!stack[ii]._cross_quickling)stack[ii].hide();};Dialog._escape=function(){'use strict';var dialog=Dialog.getCurrent();if(!dialog)return false;var semi_modal=dialog._semi_modal,buttons=dialog._buttons;if(!buttons.length&&!semi_modal)return false;if(semi_modal&&!buttons.length){dialog.hide();return true;}var button_to_simulate,cancel_button=Dialog._findButton(buttons,'cancel');if(dialog._cancelHandler){dialog.cancel();return true;}else if(cancel_button){button_to_simulate=cancel_button;}else if(buttons.length==1){button_to_simulate=buttons[0];}else return false;dialog._handleButton(button_to_simulate);return true;};Dialog._enter=function(){'use strict';var dialog=Dialog.getCurrent();if(!dialog||!dialog._submit_on_enter)return false;if(document.activeElement!=dialog._frame)return false;var buttons=dialog._buttons;if(!buttons)return false;dialog._handleButton(buttons[0]);return true;};Dialog.call_or_eval=function(obj,func,args){'use strict';if(!func)return undefined;args=args||{};if(typeof func=='string'){var params=Object.keys(args).join(', ');func=eval('({f: function('+params+') { '+func+'}})').f;}return func.apply(obj,require('getObjectValues')(args));};Object.assign(Dialog,{OK:{name:'ok',label:fbt._("OK")},CANCEL:{name:'cancel',label:fbt._("Cancel"),className:'inputaux'},CLOSE:{name:'close',label:fbt._("Close")},NEXT:{name:'next',label:fbt._("Next")},SAVE:{name:'save',label:fbt._("Save")},SUBMIT:{name:'submit',label:fbt._("Submit")},CONFIRM:{name:'confirm',label:fbt._("Confirm")},DELETE:{name:'delete',label:fbt._("Delete")},_globalCount:0,_bottoms:[0],max_bottom:0});Object.assign(Dialog,{OK_AND_CANCEL:[Dialog.OK,Dialog.CANCEL],_STANDARD_BUTTONS:[Dialog.OK,Dialog.CANCEL,Dialog.CLOSE,Dialog.SAVE,Dialog.SUBMIT,Dialog.CONFIRM,Dialog.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[]});Object.assign(Dialog.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false});module.exports=Dialog;global.Dialog=Dialog;}),null);
__d('FileForm',['ArbiterMixin','AsyncRequest','AsyncResponse','AsyncUploadRequest','BehaviorsMixin','CurrentUser','DataStore','DOMQuery','Event','Form','JSONPTransport','Parent','URI','isElementNode','mixin','shield'],(function a(b,c,d,e,f,g){var h,i;function j(m){var n={},o=c('DOMQuery').scry(m,'input[type="file"]');o.forEach(function(p){n[p.name]=p.files;});return n;}function k(m){var n=c('DOMQuery').scry(m,'input[type="file"]');n.forEach(function(o){o.files=null;});}h=babelHelpers.inherits(l,c('mixin')(c('ArbiterMixin'),c('BehaviorsMixin')));i=h&&h.prototype;function l(m,n,o){'use strict';i.constructor.call(this);this._handleSubmit=function(event){if(event.isDefaultPrevented()||event.getTarget()!==this._form)return;if(this.inform('submit')===false){event.prevent();return;}this.submit(event);}.bind(this);if(m.getAttribute('rel')==='async')throw new Error('FileForm cannot be used with Primer forms.');if(m.getAttribute('method').toUpperCase()!=='POST')throw new Error('FileForm must be used with POST forms.');this._form=m;this._previousEncoding=this._form.enctype;this._form.enctype=this._form.encoding='multipart/form-data';this._files=null;this._customHeader={};n&&this.enableBehaviors(n);this._options=o||{};this.setAllowCrossOrigin(this._options.allowCrossOrigin);this.setAllowCrossPageTransition(this._options.allowCrossPageTransition);this.setUploadInParallel(this._options.uploadInParallel);this.setConcurrentLimit(this._options.concurrentLimit);this.setPreprocessHandler(this._options.preprocessHandler);this.setNetworkErrorRetryLimit(this._options.networkErrorRetryLimit);this._listeners=[c('Event').listen(document.documentElement,'submit',this._handleSubmit),c('Event').listen(this._form,'click',this._click.bind(this))];c('DataStore').set(this._form,'FileForm',this);}l.prototype.getRoot=function(){'use strict';return this._form;};l.prototype.setAllowCrossOrigin=function(m){'use strict';this._allowCrossOrigin=!!m;return this;};l.prototype.setAllowCrossPageTransition=function(m){'use strict';this._allowCrossPageTransition=!!m;return this;};l.prototype.setUploadInParallel=function(m){'use strict';this._uploadInParallel=!!m;return this;};l.prototype.setConcurrentLimit=function(m){'use strict';this._concurrentLimit=m;return this;};l.prototype.setCustomHttpHeader=function(m,n){'use strict';this._customHeader[m]=n;return this;};l.prototype.setPreprocessHandler=function(m){'use strict';this._preprocessHandler=m;return this;};l.prototype.setNetworkErrorRetryLimit=function(m){'use strict';this._retryLimit=m;return this;};l.prototype.setFiles=function(m){'use strict';this._files=m;return this;};l.prototype.canUseXHR=function(){'use strict';var m='FormData' in window;if(m)if(!new (c('URI'))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin)m=false;return m;};l.prototype._click=function(event){'use strict';var m=event.getTarget();while(c('isElementNode')(m)){if(m.type==='submit'){this._clickTarget=m;setTimeout(this._unclick.bind(this),0);break;}m=m.parentNode;}};l.prototype._unclick=function(){'use strict';this._clickTarget=null;};l.prototype._sendViaFrame=function(){'use strict';var m=this._request=new (c('AsyncRequest'))();m.setStatusElement(this._getStatusElement());m.addStatusIndicator();m.setOption('useIframeTransport',true);var n=m.handleResponse.bind(m),o=new (c('JSONPTransport'))('iframe',this._form.action,n),p=o.getTransportFrame(),q=o.getRequestURI().addQueryData({__iframe:true,__user:c('CurrentUser').getID()});this._form.setAttribute('action',q.toString());o.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute('target',p.name);m.setJSONPTransport(o);m.setURI(q);m.setHandler(this.success.bind(this,null));m.setErrorHandler(this.failure.bind(this,null));m.setInitialHandler(c('shield')(this.initial,this,null));};l.prototype._sendViaXHR=function(event){'use strict';var m;if(this._uploadInParallel&&c('AsyncUploadRequest').isSupported()){m=new (c('AsyncUploadRequest'))().setPreprocessHandler(this._preprocessHandler).setData(c('Form').serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var n in this._customHeader)m.setCustomHttpHeader(n,this._customHeader[n]);if(this._concurrentLimit)m.setLimit(this._concurrentLimit);if(this._files){m.setFiles(this._files);}else m.setFiles(j(this._form));var o=[m.subscribe('progress',function(s,t){this.progress(t,t.getProgressEvent());}.bind(this)),m.subscribe('initial',function(s,t){this.initial(t,t.getResponse());}.bind(this)),m.subscribe('success',function(s,t){this.success(t,t.getResponse());}.bind(this)),m.subscribe('start',function(s,t){this.inform('start',{upload:t});}.bind(this)),m.subscribe('failure',function(s,t){this.failure(t,t.getResponse());return false;}.bind(this)),m.subscribe('complete',function(){while(o.length)o.pop().unsubscribe();})];}else{var p;if(this._files){p=c('Form').createFormData(c('Form').serialize(this._form,this._clickTarget));var q=c('AsyncUploadRequest').parseFiles(this._files);for(var n in q){var r=q[n];if(r.length===1){p.append(n,r[0]);}else{n=n+'[]';r.forEach(function(s){p.append(n,s);});}}}else p=c('Form').createFormData(this._form,this._clickTarget);m=new (c('AsyncRequest'))().setRawData(p).setHandler(this.success.bind(this,null)).setErrorHandler(this.failure.bind(this,null)).setUploadProgressHandler(this.progress.bind(this,null)).setInitialHandler(c('shield')(this.initial,this,null));}m.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=m;event&&event.prevent();};l.prototype.forceSendViaXHR=function(){'use strict';return this._sendViaXHR(null);};l.prototype.initial=function(m){'use strict';return this.inform('initial',{upload:m});};l.prototype.success=function(m,n){'use strict';var o={response:n,upload:m};if(this.inform('success',o)!==false)c('Event').fire(this._form,'success',o);this._cleanup();};l.prototype.failure=function(m,n){'use strict';var o={response:n,upload:m};if(this.inform('failure',o)!==false)if(c('Event').fire(this._form,'error',o)!==false)c('AsyncResponse').defaultErrorHandler(n);this._cleanup();};l.prototype.progress=function(m,event){'use strict';this.inform('progress',{event:event,upload:m});};l.prototype.abort=function(){'use strict';if(this._request){this._request.abort();this._cleanup();}};l.prototype.clear=function(){'use strict';k(this._form);};l.prototype.destroy=function(){'use strict';this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;c('DataStore').remove(this._form,'FileForm');};l.prototype.submit=function(event){'use strict';this.canUseXHR()?this._sendViaXHR(event):this._sendViaFrame();};l.prototype._cleanup=function(){'use strict';this._request=null;};l.prototype._getStatusElement=function(){'use strict';return c('Parent').byClass(this._form,'stat_elem')||this._form;};l.getInstance=function(m){'use strict';return c('DataStore').get(m,'FileForm');};Object.assign(l,{EVENTS:['start','submit','initial','progress','success','failure']});f.exports=l;}),null);
__d('MenuDeprecated',['Event','Arbiter','CSS','DataStore','DOM','HTML','Keys','Parent','Style','UserAgent_DEPRECATED','emptyFunction','Run'],(function a(b,c,d,e,f,g){var h='menu:mouseover',i=null;function j(t){if(c('CSS').hasClass(t,'uiMenuContainer'))return t;return c('Parent').byClass(t,'uiMenu');}function k(t){return c('Parent').byClass(t,'uiMenuItem');}function l(t){if(document.activeElement){var u=k(document.activeElement);return t.indexOf(u);}return -1;}function m(t){return c('DOM').find(t,'a.itemAnchor');}function n(t){return c('CSS').hasClass(t,'checked');}function o(t){return !c('CSS').hasClass(t,'disabled')&&c('Style').get(t,'display')!=='none';}function p(event){var t=document.activeElement;if(!t||!c('Parent').byClass(t,'uiMenu')||!c('DOM').isInputNode(t)){var u=k(event.getTarget());u&&s.focusItem(u);}}function q(t){c('UserAgent_DEPRECATED').firefox()&&m(t).blur();s.inform('select',{menu:j(t),item:t});}var r=function t(){r=c('emptyFunction');var u={};u.click=function(event){var v=k(event.getTarget());if(v&&o(v)){q(v);var w=m(v),x=w.href,y=w.getAttribute('rel');return y&&y!=='ignore'||x&&x.charAt(x.length-1)!=='#';}};u.keydown=function(event){var v=event.getTarget();if(event.getModifiers().any)return;if(!i||c('DOM').isInputNode(v))return;var w=c('Event').getKeyCode(event),x;switch(w){case c('Keys').UP:case c('Keys').DOWN:var y=s.getEnabledItems(i);x=l(y);s.focusItem(y[x+(w===c('Keys').UP?-1:1)]);return false;case c('Keys').SPACE:var z=k(v);if(z){q(z);event.prevent();}break;default:var aa=String.fromCharCode(w).toLowerCase(),ba=s.getEnabledItems(i);x=l(ba);var ca=x,da=ba.length;while(~x&&(ca=++ca%da)!==x||!~x&&++ca<da){var ea=s.getItemLabel(ba[ca]);if(ea&&ea.charAt(0).toLowerCase()===aa){s.focusItem(ba[ca]);return false;}}}};c('Event').listen(document.body,u);},s=Object.assign(new (c('Arbiter'))(),{focusItem:function t(u){if(u&&o(u)){this._removeSelected(j(u));c('CSS').addClass(u,'selected');m(u).focus();}},getEnabledItems:function t(u){return s.getItems(u).filter(o);},getCheckedItems:function t(u){return s.getItems(u).filter(n);},getItems:function t(u){return c('DOM').scry(u,'li.uiMenuItem');},getItemLabel:function t(u){return u.getAttribute('data-label',2)||'';},isItemChecked:function t(u){return c('CSS').hasClass(u,'checked');},autoregister:function t(u,v,w){u.subscribe('show',function(){s.register(v,w);});u.subscribe('hide',function(){s.unregister(v);});},register:function t(u,v){u=j(u);r();if(!c('DataStore').get(u,h))c('DataStore').set(u,h,c('Event').listen(u,'mouseover',p));if(v!==false)i=u;},setItemEnabled:function t(u,v){if(!v&&!c('DOM').scry(u,'span.disabledAnchor')[0])c('DOM').appendContent(u,c('DOM').create('span',{className:c('DOM').find(u,'a').className+' disabledAnchor'},c('HTML')(m(u).innerHTML)));c('CSS').conditionClass(u,'disabled',!v);},toggleItem:function t(u){var v=!s.isItemChecked(u);s.setItemChecked(u,v);},setItemChecked:function t(u,v){c('CSS').conditionClass(u,'checked',v);m(u).setAttribute('aria-checked',v);},unregister:function t(u){u=j(u);var v=c('DataStore').remove(u,h);v&&v.remove();i=null;this._removeSelected(u);},_removeSelected:function t(u){s.getItems(u).filter(function(v){return c('CSS').hasClass(v,'selected');}).forEach(function(v){c('CSS').removeClass(v,'selected');});}});f.exports=s;}),null);
__d('SelectorDeprecated',['Arbiter','Button','ContextualLayer','CSS','DataStore','DOM','Event','Focus','HTML','Keys','MenuDeprecated','Parent','Style','Toggler','TooltipData','URI','Vector','arrayContains','emptyFunction','getDocumentScrollElement'],(function a(b,c,d,e,f,g){var h,i,j=[],k;function l(w){return c('Parent').byClass(w,'uiSelector');}function m(w){return c('Parent').byClass(w,'uiSelectorButton');}function n(){if(!i){i=new (c('ContextualLayer'))({position:'below'},c('DOM').create('div'));c('CSS').addClass(i.getRoot(),'uiSelectorContextualLayer');}return i;}function o(w){return c('DOM').scry(w,'select')[0];}function p(w){return c('DOM').find(w,'div.uiSelectorMenuWrapper');}var q=function w(){q=c('emptyFunction');c('MenuDeprecated').subscribe('select',function(x,y){if(!h||!y||y.menu!==v.getSelectorMenu(h))return;var z=r(h),aa=s(y.item);if(aa){var ba=h,ca=v.isOptionSelected(y.item),da=v.inform('select',{selector:ba,option:y.item,clone:k});if(da===false)return;if(z||!ca){v.setSelected(ba,v.getOptionValue(y.item),!ca);v.inform('toggle',{selector:ba,option:y.item});v.inform('change',{selector:ba});c('Arbiter').inform('Form/change',{node:ba});if(t(ba))c('DataStore').set(ba,'dirty',true);}}if(!z||!aa)h&&v.toggle(h);});};function r(w){return !!w.getAttribute('data-multiple');}function s(w){return c('CSS').hasClass(w,'uiSelectorOption');}function t(w){return !!w.getAttribute('data-autosubmit');}var u=function w(){u=c('emptyFunction');var x={keydown:function y(event){var z=event.getTarget();if(c('DOM').isInputNode(z))return;switch(c('Event').getKeyCode(event)){case c('Keys').DOWN:case c('Keys').SPACE:case c('Keys').UP:if(m(z)){var aa=l(z);v.toggle(aa);return false;}break;case c('Keys').ESC:if(h){var ba=v.getSelectorButton(h);v.toggle(h);ba&&c('Focus').set(ba);return false;}break;}},mouseover:function y(event){var z=c('Parent').byAttribute(event.getTarget(),'ajaxify');if(z&&c('CSS').hasClass(z,'uiSelectorButton'))v.loadMenu(l(z));}};c('Event').listen(document.body,x);};c('Toggler').subscribe(['show','hide'],function(w,x){var y=l(x.getActive());if(y){u();q();var z=v.getSelectorButton(y),aa=v.getSelectorMenu(y),ba=w==='show';z.setAttribute('aria-expanded',ba?'true':'false');if(ba){h=y;if(c('CSS').hasClass(z,'uiButtonDisabled')){v.setEnabled(y,false);return false;}aa=aa||v.loadMenu(y);var ca=c('Style').getScrollParent(y),da=ca!==window&&ca!==c('getDocumentScrollElement')();if(da||c('CSS').hasClass(y,'uiSelectorUseLayer')){if(da)j.push(c('Event').listen(ca,'scroll',function(){x.hide();}));k=c('DOM').create('div',{className:y.className});c('CSS').addClass(k,'invisible_elem');c('Vector').getElementDimensions(y).setElementDimensions(k);c('DOM').replace(y,k);var ea=c('CSS').hasClass(y,'uiSelectorRight'),fa=c('CSS').hasClass(y,'uiSelectorBottomUp');n().setContext(k).setContent(y).setPosition(fa?'above':'below').setAlignment(ea?'right':'left').show();}c('MenuDeprecated').register(aa);var ga=c('MenuDeprecated').getCheckedItems(aa);if(!ga.length)ga=c('MenuDeprecated').getEnabledItems(aa);if(ga.length)c('MenuDeprecated').focusItem(ga[0]);}else{h=null;if(k){while(j.length)j.pop().remove();c('DOM').replace(k,y);n().hide();k=null;}aa&&c('MenuDeprecated').unregister(aa);if(t(y)&&c('DataStore').get(y,'dirty')){var ha=c('DOM').scry(y,'input.submitButton')[0];ha&&ha.click();c('DataStore').remove(y,'dirty');}}c('CSS').conditionClass(v.getSelectorButton(y),'selected',ba);v.inform(ba?'open':'close',{selector:y,clone:k});}});var v=Object.assign(new (c('Arbiter'))(),{attachMenu:function w(x,y,z){x=l(x);if(x){h&&c('MenuDeprecated').unregister(v.getSelectorMenu(h));c('DOM').setContent(p(x),y);h&&c('MenuDeprecated').register(v.getSelectorMenu(x));k&&n().updatePosition();if(z){var aa=x.getAttribute('data-name');aa&&z.setAttribute('name',aa);if(!r(x))z.setAttribute('multiple',false);var ba=o(x);if(ba){c('DOM').replace(ba,z);}else c('DOM').insertAfter(x.firstChild,z);}return true;}},getOption:function w(x,y){var z=v.getOptions(x),aa=z.length;while(aa--)if(y===v.getOptionValue(z[aa]))return z[aa];return null;},getOptions:function w(x){var y=c('MenuDeprecated').getItems(v.getSelectorMenu(x));return y.filter(s);},getEnabledOptions:function w(x){var y=c('MenuDeprecated').getEnabledItems(v.getSelectorMenu(x));return y.filter(s);},getSelectedOptions:function w(x){return c('MenuDeprecated').getCheckedItems(v.getSelectorMenu(x));},getOptionText:function w(x){return c('MenuDeprecated').getItemLabel(x);},getOptionValue:function w(x){var y=l(x),z=o(y),aa=v.getOptions(y).indexOf(x);return aa>=0?z.options[aa+1].value:'';},getSelectorButton:function w(x){return c('DOM').find(x,'a.uiSelectorButton');},getSelectorMenu:function w(x){return c('DOM').scry(x,'div.uiSelectorMenu')[0];},getValue:function w(x){var y=o(x);if(!y)return null;if(!r(x))return y.value;var z=[],aa=y.options;for(var ba=1,ca=aa.length;ba<ca;ba++)if(aa[ba].selected)z.push(aa[ba].value);return z;},isOptionSelected:function w(x){return c('MenuDeprecated').isItemChecked(x);},listen:function w(x,y,z){return this.subscribe(y,function(aa,ba){if(ba.selector===x)return z(ba,aa);});},loadMenu:function w(x,y){var z=v.getSelectorMenu(x);if(!z){var aa=v.getSelectorButton(x),ba=aa.getAttribute('ajaxify');if(ba){e(['AsyncRequest'],function(da){var ea=new (c('URI'))(ba),fa=ea.getQueryData();ea.setQueryData({});var ga=new da(ea).setData(fa).setNectarModuleDataSafe(aa).setRelativeTo(aa);y&&ga.setFinallyHandler(function(){setTimeout(y,0);});ga.send();}.bind(this));var ca=c('HTML')('<div class="uiSelectorMenuWrapper uiToggleFlyout">'+'<div class="uiMenu uiSelectorMenu loading">'+'<ul class="uiMenuInner">'+'<li><span></span></li>'+'</ul>'+'</div>'+'</div>');c('DOM').appendContent(aa.parentNode,ca);z=v.getSelectorMenu(x);aa.removeAttribute('onmouseover');}}else y&&y();return z;},setButtonLabel:function w(x,y){var z=v.getSelectorButton(x),aa=parseInt(z.getAttribute('data-length'),10);y=y||z.getAttribute('data-label')||'';c('Button').setLabel(z,y);if(typeof y==='string')if(aa&&y.length>aa){z.setAttribute('title',y);}else z.removeAttribute('title');},setButtonTooltip:function w(x,y){var z=v.getSelectorButton(x),aa=c('Parent').byTag(z,'a');aa&&c('TooltipData').set(aa,y||z.getAttribute('data-tooltip')||'');},setEnabled:function w(x,y){if(!y&&h&&l(x)===h)v.toggle(x);c('Button').setEnabled(v.getSelectorButton(x),y);},setOptionEnabled:function w(x,y){c('MenuDeprecated').setItemEnabled(x,y);},setSelected:function w(x,y,z){z=z!==false;var aa=v.getOption(x,y);if(!aa)return;var ba=v.isOptionSelected(aa);if(z!==ba){if(!r(x)&&!ba){var ca=v.getSelectedOptions(x)[0];ca&&c('MenuDeprecated').toggleItem(ca);}c('MenuDeprecated').toggleItem(aa);}v.updateSelector(x);},toggle:function w(x){c('Toggler').toggle(c('DOM').scry(l(x),'div.wrap')[0]);},updateSelector:function w(x){var y=v.getOptions(x),z=v.getSelectedOptions(x),aa=o(x).options,ba=[],ca=[];for(var da=0,ea=y.length;da<ea;da++){var fa=c('arrayContains')(z,y[da]);aa[da+1].selected=fa;if(fa){var ga=v.getOptionText(y[da]);ba.push(ga);ca.push(y[da].getAttribute('data-tooltip')||ga);}}aa[0].selected=!z.length;var ha=c('CSS').hasClass(x,'uiSelectorDynamicLabel'),ia=c('CSS').hasClass(x,'uiSelectorDynamicTooltip');if(ha||ia){var ja='';if(r(x)){var ka=v.getSelectorButton(x);ja=ka.getAttribute('data-delimiter')||', ';}ba=ba.join(ja);ca=ca.join(ja);ha&&v.setButtonLabel(x,ba);ia&&v.setButtonTooltip(x,ca);}}});f.exports=v;}),null);
__d('TidyArbiter',['TidyArbiterMixin'],(function a(b,c,d,e,f,g){var h=babelHelpers['extends']({},c('TidyArbiterMixin'));f.exports=h;}),null);
__d('ProfileTabUtils',['ProfileOverviewDOMID','ProfileTabConst'],(function a(b,c,d,e,f,g){function h(j){return !j||j===c('ProfileTabConst').TIMELINE||j===c('ProfileTabConst').WALL;}var i={isActivityLogTab:function j(k){return k===c('ProfileTabConst').ALL_ACTIVITY||k===c('ProfileTabConst').APPROVAL;},isOverviewTab:function j(k){return k===c('ProfileTabConst').INFO||k===c('ProfileTabConst').OVERVIEW;},isTimelineTab:h,isMapTab:function j(k){return k===c('ProfileTabConst').MAP;},tabHasFixedAds:function j(k){return true;},tabHasScrubber:function j(k){return i.isActivityLogTab(k);},tabHasStickyHeader:h,getIDForCollectionToken:function j(k){return c('ProfileOverviewDOMID').PREFIX_APP_COLLECTION+k;},getIDForSectionKey:function j(k){return c('ProfileOverviewDOMID').PREFIX_MEDLEY+k;}};f.exports=i;}),null);
__d('TimelineCoverCollapse',['$','Arbiter','DOMDimensions','Style','TidyArbiter','getViewportDimensions'],(function a(b,c,d,e,f,g){g.collapse=function(h,i){i--;var j=c('getViewportDimensions')().height,k=c('DOMDimensions').getDocumentDimensions().height,l=j+i;if(k<=l)c('Style').set(c('$')('globalContainer'),'min-height',l+'px');window.scrollBy(0,i);c('TidyArbiter').inform('TimelineCover/coverCollapsed',i,c('Arbiter').BEHAVIOR_STATE);};}),null);
__d('TimelineCapsuleUtilities',['CSS'],(function a(b,c,d,e,f,g){var h={setFirstUnit:function i(j){var k=true;for(var l=0;l<j.childNodes.length;++l){var m=j.childNodes[l];if(m.id.indexOf('tl_unit_')===0)if(k){k=false;c('CSS').addClass(m,'firstUnit');}else{c('CSS').removeClass(m,'firstUnit');break;}}}};f.exports=h;}),null);
__d('TimelineComposer',['csx','Arbiter','Bootloader','ComposerXMarauderLogger','ComposerXStore','CSS','DOM','DOMQuery','Event','Parent','ProfileFIGConfig','ReloadPage','Run','TimelineCapsuleUtilities','TimelineDOMID','$','ge','getObjectValues','goURI','tidyEvent'],(function a(b,c,d,e,f,g,h){var i=void 0,j=void 0;function k(){c('ComposerXMarauderLogger').logCompleted(i.id);}function l(n){if(n.hidePost){k();return;}if(n.redirect){var o=c('ComposerXStore').getAllForComposer(i.id);c('getObjectValues')(o).forEach(function(q){if(q.reset)q.reset(q);});c('goURI')(n.redirect);k();return;}if(!n.streamStory){c('ReloadPage').now();return;}if(c('ProfileFIGConfig').hasFIG){var p=c('ge')(c('TimelineDOMID').FIG_TIMELINE);if(p){c('DOM').prependContent(p,n.streamStory);k();return;}}if(n.backdatedTime){c('Bootloader').loadModules(["TimelineStoryPublisher"],function(q){q.publish(n);},'TimelineComposer');k();return;}m.renderCapsuleBasedStory(i,n.streamStory);c('Arbiter').inform('TimelineComposer/on_after_publish',n.streamStory,c('Arbiter').BEHAVIOR_PERSISTENT);k();}var m={init:function n(o){i=c('$')(o);j=c('Arbiter').subscribe('composer/publish',function(event,p){if(p.composer_id===i.id)l(p);});c('Run').onLeave(m.destroy);},destroy:function n(){j&&j.unsubscribe();},renderCapsuleBasedStory:function n(o,p){var q=c('Parent').byClass(o,'fbTimelineCapsule');if(!q)return;var r=c('DOMQuery').scry(q,".fbTimelineUnit")[0],s=r.nextSibling;if(s&&s.getAttribute('data-spine'))r=r.nextSibling;var t=c('DOM').insertAfter(r,p)[0];if(c('CSS').hasClass(t,'fbTimelineUnit'))t=c('DOM').find(t,'div.timelineUnitContainer');c('Bootloader').loadModules(["Animation"],function(u){new u(t).from('backgroundColor','#fff8dd').to('backgroundColor','#fff').duration(2000).ease(u.ease.both).go();},'TimelineComposer');c('TimelineCapsuleUtilities').setFirstUnit(q);},getRoot:function n(){return i;},initNUX:function n(o,p){c('tidyEvent')(c('Event').listen(o,'click',function(){var q=c('DOM').scry(p,'textarea')[0];q&&q.focus();}));}};f.exports=b.TimelineComposer||m;}),null);